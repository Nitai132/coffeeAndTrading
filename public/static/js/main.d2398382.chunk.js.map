{"version":3,"sources":["components/PositionsTable.js","components/NewPositionModal.js","components/AdminUsersTable.js","components/AdminEmailsTable.js","components/AdminPositionsTable.js","components/AdminPositionsControl.js","components/AdminPanel.js","assets/ring.mp3","components/HomePage.js","components/Login.js","components/Register.js","components/Contact.js","components/Payment.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","root","width","container","maxHeight","StickyHeadTable","props","classes","React","useState","page","setPage","rowsPerPage","setRowsPerPage","positions","setPositions","openSymbols","setOpenSymbols","trackRecord","setTrackRecord","columns","id","label","minWidth","createData","Num","Symbol","Operation","StartDate","EndDate","StartPrice","EndPrice","tp","sp","succeeded","PipsesCents","Precent","addSuccessRate","arr","arrays","ratesArray","i","length","push","slice","forEach","chunk","filter","item","unClosedPositions","map","rate","toFixed","array","idx","unshift","flat","getUserData","a","axios","get","details","data","email","userPositions","finalPositions","bonds","bond","crypto","comodity","pairs","currencyPair","rest","stocks","stock","sortedPositions","sort","b","insertTime","rows","openPositionsEndDates","pipsed","symbol","operation","startDate","endDate","startPrice","endPrice","String","passEndDates","finalArray","sendReport","type","amount","alertify","success","useEffect","reRender","window","open","Paper","className","style","paddingTop","TableContainer","Table","stickyHeader","aria-label","TableHead","TableRow","column","TableCell","align","textAlign","backgroundColor","TableBody","row","hover","role","tabIndex","value","fontSize","height","borderBottom","format","TablePagination","rowsPerPageOptions","component","count","onChangePage","event","newPage","onChangeRowsPerPage","target","FormControl","position","bottom","float","right","InputLabel","color","NativeSelect","onChange","prompt","evt","error","Button","onClick","PdfArray","variant","left","theme","display","flexWrap","formControl","margin","spacing","DialogSelect","setOpen","setType","setAmount","stockValue","setstockValue","stocksFlag","setStocksFlag","forexFlag","setForexFlag","handleClose","weekday","formatter","Intl","DateTimeFormat","timeZone","Date","formatter2","hour","Dialog","disableBackdropClick","disableEscapeKeyDown","onClose","DialogTitle","DialogContent","htmlFor","Select","native","handleTypeChange","input","Input","labelId","handleAmountChange","MenuItem","handleStockValueChange","DialogActions","handleStartTimer","closeModalAndStartTimer","AdminUsersTable","users","setUsers","usersRows","setusersRows","changeUserCredits","post","alert","fNameChanged","firstName","toLowerCase","includes","_id","lastName","phone","created_at","credits","lNameChanged","emailChanged","dateChanged","date","phoneChanged","deleteUser","console","log","delete","location","reload","resUsers","userId","successRate","top","marginLeft","marginRight","TextField","placeholder","InputLabelProps","shrink","code","AdminEmailTable","emails","setEmails","useRowStyles","Row","Fragment","IconButton","size","scope","fullName","deleteMessage","paddingBottom","colSpan","Collapse","in","timeout","unmountOnExit","Box","Typography","gutterBottom","message","resEmails","name","currentPageData","deleteWholePage","AdminPositionsTable","positionType","setRows","precent","fetchPositionsData","enrichedRows","object","finalRows","interval","setInterval","useLayoutEffect","clearInterval","TabPanel","children","index","other","hidden","aria-labelledby","p","a11yProps","flexGrow","palette","background","paper","AdminPositionsControl","setValue","AppBar","Tabs","newValue","Tab","AdminPanel","view","setView","handleViewChange","require","getBreakPoint","windowWidth","title","HomePage","timerMinutes","setTimerMinutes","timerSeconds","setTimerSeconds","userFirstName","setUserFirstName","userPremission","setUserPremission","userCredits","setUserCredits","userEmail","setUserEmail","newPositionsType","setNewPositionsType","newPositionsAmount","setNewPositionsAmount","newStocksRate","setNewStocksRate","reRenderTable","setReRenderTable","relativeEndDate","setRelativeEndDate","history","useHistory","isWindowClient","innerWidth","undefined","windowSize","setWindowSize","socket","socketIOClient","emit","on","documentKey","then","updateDescription","updatedFields","handleReRenderTable","setTimeout","setSize","addEventListener","removeEventListener","audio","Audio","ring","HandleLogout","e","addNewCrypto","getNewCryptos","addNewBonds","getNewBonds","addNewRest","getNewRest","addNewComodity","getNewComodity","addNewPairs","getNewPairs","addNewStocks","getNewStocks","TimerValidation","localStorage","setItem","startTimer","updatedCredits","Number","stopTimer","removeItem","timeNowMinutes","toLocaleTimeString","minute","timeNowSeconds","second","TimerHandler","Interval","play","downloadPdf","positionsArray","userDetails","isAdmin","StorageTimer","getItem","minutes","cryptoSymbols","pairsSymbols","bondsSymbols","comoditySymbols","indexesSymbols","stocksSymbols","backgroundImage","zIndex","backgroundRepeat","backgroundSize","Toolbar","Grid","alignItems","justify","xs","sm","to","textDecoration","src","endDatesArray","options","day","month","year","today","replace","validEndDatesArray","sortedValidDates","relativeDates","getEndDateData","Copyright","Link","href","getFullYear","marginTop","flexDirection","avatar","secondary","main","form","submit","Login","userName","setUserName","password","setPassword","HandleLogin","username","Container","maxWidth","CssBaseline","Avatar","noValidate","required","fullWidth","autoComplete","autoFocus","Register","setFirstName","setlastName","setEmail","checkBox","setCheckBox","checkBox2","setCheckBox2","phoneNumber","setPhoneNumber","confirmPass","setConfirmPass","emailFlag","setEmailFlag","HandleRegister","signup","created","country","FormControlLabel","control","Checkbox","lg","fontWeight","Index","ContactPage","setfullName","setMessage","sendEmail","direction","marginBottom","handleNameChange","handleEmailChange","multiline","handleMessageChange","rel","alt","Paypal","paypal","useRef","setUserDetails","Buttons","createOrder","actions","err","order","create","intent","purchase_units","description","currency_code","onApprove","checkCredits","onError","render","current","ref","App","path","Contact","Payment","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"6lBAqBMA,EAAYC,YAAW,CAC3BC,KAAM,CACJC,MAAO,QAETC,UAAW,CACTC,UAAW,OAIA,SAASC,EAAgBC,GACtC,IAAMC,EAAUR,IAD6B,EAErBS,IAAMC,SAAS,GAFM,mBAEtCC,EAFsC,KAEhCC,EAFgC,OAGPH,IAAMC,SAAS,IAHR,mBAGtCG,EAHsC,KAGzBC,EAHyB,OAIXL,IAAMC,SAAS,IAJJ,mBAItCK,EAJsC,KAI3BC,EAJ2B,OAKPP,IAAMC,SAAS,IALR,mBAKtCO,EALsC,KAKzBC,EALyB,OAMPT,IAAMC,SAAS,IANR,mBAMtCS,EANsC,KAMzBC,EANyB,KAsCvCC,EAAU,CACd,CACEC,GAAI,MACJC,MAAO,MACPC,SAAU,IAEZ,CACEF,GAAI,SACJC,MAAO,SACPC,SAAU,IAEZ,CACEF,GAAI,YACJC,MAAO,YACPC,SAAU,IAEZ,CACEF,GAAI,YACJC,MAAO,aACPC,SAAU,IAEZ,CACEF,GAAI,UACJC,MAAO,WACPC,SAAU,IAEZ,CACEF,GAAI,aACJC,MAAO,cACPC,SAAU,IAEZ,CACEF,GAAI,WACJC,MAAO,YACPC,SAAU,IAEZ,CACEF,GAAI,KACJC,MAAO,KACPC,SAAU,IAEZ,CACEF,GAAI,KACJC,MAAO,KACPC,SAAU,IAEZ,CACEF,GAAI,YACJC,MAAO,YACPC,SAAU,IAEZ,CACEF,GAAI,cACJC,MAAO,eACPC,SAAU,IAEZ,CACEF,GAAI,UACJC,MAAO,0BACPC,SAAU,KAId,SAASC,EACPC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,MAAO,CAAEX,MAAKC,SAAQC,YAAWC,YAAWC,UAASC,aAAYC,WAAUC,KAAIC,KAAIC,YAAWC,cAAaC,WAI7G,IAUMC,EAAiB,SAACC,GAKtB,IAJA,IAAIC,EAAS,GAETC,EAAa,GAERC,EAAI,EAAGA,EAAIH,EAAII,OAAQD,GAHnB,GAIXF,EAAOI,KAAKL,EAAIM,MAAMH,EAAGA,EAJd,KAiCb,OA1BAF,EAAOM,SAAQ,SAAAC,GAEb,IAAIZ,EAAYY,EAAMC,QAAO,SAAAC,GAAI,MAAuB,SAAnBA,EAAKd,aAAsBQ,OAE5DO,EAAoB,EACxBH,EAAMI,KAAI,SAACF,GACc,cAAnBA,EAAKd,YACPc,EAAKd,UAAY,mBACjBe,KAEGD,EAAKjB,WACRiB,EAAKjB,SAAW,oBAEbiB,EAAKb,cACRa,EAAKb,YAAc,uBAIvB,IAAIgB,EAAQjB,GAAaY,EAAMJ,OAASO,GAAsB,IAEjD,UADbE,EAAOA,EAAKC,UAAY,OAEtBD,EAAO,MAETX,EAAWG,KAAKQ,MAElBZ,EAAOW,KAAI,SAACG,EAAOC,GAAR,OAAgBD,EAAME,QAAQ/B,EAAW,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAIgB,EAAWc,QACpGf,EAAOiB,QAIVC,EAAW,uCAAG,kEAAAC,EAAA,sEACIC,IAAMC,IAAI,qBADd,cACZC,EADY,gBAEUF,IAAMC,IAAN,sCAAyCC,EAAQC,KAAKC,QAFhE,OAEZC,EAFY,OAGdC,EAAiB,GACZxB,EAAI,EAJK,YAIFA,EAAIuB,EAAcF,KAAK,GAAGI,MAAMxB,QAJ9B,kCAKGiB,IAAMC,IAAN,4BAA+BI,EAAcF,KAAK,GAAGI,MAAMzB,KAL9D,QAKV0B,EALU,OAMhBF,EAAetB,KAAKwB,EAAKL,KAAK,IANd,QAIsCrB,IAJtC,uBAQTA,EAAI,EARK,aAQFA,EAAIuB,EAAcF,KAAK,GAAGM,OAAO1B,QAR/B,kCASKiB,IAAMC,IAAN,8BAAiCI,EAAcF,KAAK,GAAGM,OAAO3B,KATnE,QASV2B,EATU,OAUhBH,EAAetB,KAAKyB,EAAON,KAAK,IAVhB,QAQuCrB,IARvC,wBAYTA,EAAI,EAZK,aAYFA,EAAIuB,EAAcF,KAAK,GAAGO,SAAS3B,QAZjC,kCAaOiB,IAAMC,IAAN,gCAAmCI,EAAcF,KAAK,GAAGO,SAAS5B,KAbzE,QAaV4B,EAbU,OAchBJ,EAAetB,KAAK0B,EAASP,KAAK,IAdlB,QAYyCrB,IAZzC,wBAgBTA,EAAI,EAhBK,aAgBFA,EAAIuB,EAAcF,KAAK,GAAGQ,MAAM5B,QAhB9B,kCAiBWiB,IAAMC,IAAN,oCAAuCI,EAAcF,KAAK,GAAGQ,MAAM7B,KAjB9E,QAiBV8B,EAjBU,OAkBhBN,EAAetB,KAAK4B,EAAaT,KAAK,IAlBtB,QAgBsCrB,IAhBtC,wBAoBTA,EAAI,EApBK,aAoBFA,EAAIuB,EAAcF,KAAK,GAAGU,KAAK9B,QApB7B,kCAqBGiB,IAAMC,IAAN,4BAA+BI,EAAcF,KAAK,GAAGU,KAAK/B,KArB7D,QAqBV+B,EArBU,OAsBhBP,EAAetB,KAAK6B,EAAKV,KAAK,IAtBd,QAoBqCrB,IApBrC,wBAwBTA,EAAI,EAxBK,aAwBFA,EAAIuB,EAAcF,KAAK,GAAGW,OAAO/B,QAxB/B,kCAyBIiB,IAAMC,IAAN,6BAAgCI,EAAcF,KAAK,GAAGW,OAAOhC,KAzBjE,QAyBViC,EAzBU,OA0BhBT,EAAetB,KAAK+B,EAAMZ,KAAK,IA1Bf,QAwBuCrB,IAxBvC,wBAkClB,IALMkC,EAAkBV,EAAeW,MAAK,SAAClB,EAAGmB,GAC9C,OAAOA,EAAEC,WAAapB,EAAEoB,cAEtBC,EAAO,GACPC,EAAwB,GACnBvC,EAAI,EAAGA,EAAIkC,EAAgBjC,OAAQD,IACD,kBAA9BkC,EAAgBlC,GAAGwC,OAC5BN,EAAgBlC,GAAGwC,OAASN,EAAgBlC,GAAGwC,OAAO7B,QAAQ,GAE9DuB,EAAgBlC,GAAGwC,OAAS,mBAEc,kBAAjCN,EAAgBlC,GAAGP,YAE5ByC,EAAgBlC,GAAGP,UAAY,oBAEjC6C,EAAKpC,KAAKnB,EACRiB,EAAI,EACJkC,EAAgBlC,GAAGyC,OACnBP,EAAgBlC,GAAG0C,UACnBR,EAAgBlC,GAAG2C,UACnBT,EAAgBlC,GAAG4C,QACnBV,EAAgBlC,GAAG6C,WACnBX,EAAgBlC,GAAG8C,SACnB,OACA,OACAC,OAAOb,EAAgBlC,GAAGP,WAC1ByC,EAAgBlC,GAAGwC,OACnBN,EAAgBlC,GAAGL,UAGvB9B,EAAMmF,aAAaT,GACbU,EAAarD,EAAe0C,GAClChE,EAAa2E,GA7DK,4CAAH,qDAuEXC,EAAU,uCAAG,WAAQC,EAAMC,GAAd,eAAAnC,EAAA,sEACKC,IAAMC,IAAI,qBADf,cACXC,EADW,OAEjBiC,IAASC,QAAT,+BAAyClC,EAAQC,KAAKC,MAAtD,4CAFiB,SAGXJ,IAAMC,IAAN,gCAAmCgC,EAAnC,YAA2CC,EAA3C,YAAqDhC,EAAQC,KAAKC,QAHvD,2CAAH,wDAwChB,OAjCAiC,qBAAU,WACRvC,MACC,IAGHuC,qBAAU,YACe,IAAnB1F,EAAM2F,UACRxC,MAED,CAACnD,EAAM2F,WAGVD,qBAAU,WACY,WAAhBhF,GA7OJkF,OAAOC,KAAK,qGAAsG,UAgP9F,UAAhBnF,GApPJkF,OAAOC,KAAK,iGAAkG,UAuP1F,UAAhBnF,GA3PJkF,OAAOC,KAAK,iGAAkG,UA8P1F,aAAhBnF,GAlPJkF,OAAOC,KAAK,iGAAkG,UAqP1F,YAAhBnF,GA7OJkF,OAAOC,KAAK,iGAAkG,UAgP1F,WAAhBnF,GApPJkF,OAAOC,KAAK,8GAA+G,YAuP1H,CAACnF,IAGF,eAACoF,EAAA,EAAD,CAAOC,UAAW9F,EAAQN,KAAMqG,MAAO,CAAEC,WAAY,QAArD,UACE,cAACC,EAAA,EAAD,CAAgBH,UAAW9F,EAAQJ,UAAnC,SACE,eAACsG,EAAA,EAAD,CAAOC,cAAY,EAACC,aAAW,eAA/B,UACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACGzF,EAAQ8B,KAAI,SAAC4D,EAAQxD,GAAT,OACX,aAD8B,CAC7ByD,EAAA,EAAD,CAEEC,MAAOF,EAAOE,MACdV,MAAO,CAAE/E,SAAUuF,EAAOvF,SAAU0F,UAAW,SAAUC,gBAAiB,aAH5E,SAKGJ,EAAOxF,OAJHgC,UASb,cAAC6D,EAAA,EAAD,UACGrG,EAAU8B,MAAMlC,EAAOE,EAAaF,EAAOE,EAAcA,GAAasC,KAAI,SAACkE,EAAK9D,GAC/E,OACE,cAACuD,EAAA,EAAD,CAAUQ,OAAK,EAACC,KAAK,WAAWC,UAAW,EAA3C,SACGnG,EAAQ8B,KAAI,SAAC4D,EAAQxD,GACpB,IAAMkE,EAAQJ,EAAIN,EAAOzF,IACzB,OACE,cAAC0F,EAAA,EAAD,CAAqBC,MAAOF,EAAOE,MAAOV,MAAO,CAAEW,UAAW,SAAUQ,SAAU,OAAQC,OAAQ,SAAUC,aAAc,mBAA1H,SACGb,EAAOc,QAA2B,kBAAVJ,EAAqBV,EAAOc,OAAOJ,GAASA,GADvDlE,OAJ6BA,aAe7D,cAACuE,EAAA,EAAD,CACEC,mBAAoB,CAAC,IACrBC,UAAU,MACVC,MAAOlH,EAAU4B,OACjB9B,YAAaA,EACbF,KAAMA,EACNuH,aAzMmB,SAACC,EAAOC,GAC/BxH,EAAQwH,IAyMJC,oBAtM0B,SAACF,GAC/BrH,GAAgBqH,EAAMG,OAAOb,OAC7B7G,EAAQ,MAsMN,eAAC2H,EAAA,EAAD,CAAahC,MAAO,CAAEpG,MAAO,QAASqI,SAAU,WAAYC,OAAQ,OAAQC,MAAO,QAASC,MAAO,QAAnG,UACE,cAACC,EAAA,EAAD,CAAYrC,MAAO,CAAEpG,MAAO,QAAS0I,MAAO,SAA5C,+BACA,eAACC,EAAA,EAAD,CAAcvC,MAAO,CAAEpG,MAAO,SAC5BsH,MAAOxG,EACP8H,SA/T6B,SAAC,GAAgB,IAAdT,EAAa,EAAbA,OACtCpH,EAAeoH,EAAOb,QA4TlB,UAIE,wBAAQb,aAAW,OAAOa,MAAM,KAChC,wBAAQA,MAAO,SAAf,4BACA,wBAAQA,MAAO,QAAf,oCACA,wBAAQA,MAAO,SAAf,4BACA,wBAAQA,MAAO,QAAf,2BACA,wBAAQA,MAAO,WAAf,8BACA,wBAAQA,MAAO,UAAf,mCAGJ,eAACc,EAAA,EAAD,CAAahC,MAAO,CAAEpG,MAAO,QAASqI,SAAU,WAAYC,OAAQ,OAAQC,MAAO,QAASC,MAAO,QAAnG,UACE,cAACC,EAAA,EAAD,CAAYrC,MAAO,CAAEpG,MAAO,QAAS0I,MAAO,SAA5C,2BACA,eAACC,EAAA,EAAD,CAAcvC,MAAO,CAAEpG,MAAO,SAC5BsH,MAAOtG,EACP4H,SA9GwB,SAAC,GAAgB,IAAdT,EAAa,EAAbA,OACjCvC,IAASiD,OAAQ,4BAA6B,6EAA8E,KAC1H,SAASC,EAAKxB,GAAQ7B,EAAW0C,EAAOb,MAAOA,MAC/C,WAAa1B,IAASmD,MAAM,aAC9B9H,EAAekH,EAAOb,QAwGlB,UAIE,wBAAQb,aAAW,OAAOa,MAAM,KAChC,wBAAQA,MAAO,UAAf,yCACA,wBAAQA,MAAO,QAAf,iDACA,wBAAQA,MAAO,SAAf,yCACA,wBAAQA,MAAO,QAAf,wCACA,wBAAQA,MAAO,WAAf,4CACA,wBAAQA,MAAO,OAAf,0CACA,wBAAQA,MAAO,eAAf,4CAGJ,cAAC0B,EAAA,EAAD,CACEC,QAAS,kBAAM7I,EAAM8I,SAAStI,EAAU8B,MAAMlC,EAAOE,EAAaF,EAAOE,EAAcA,KACvFyI,QAAQ,YACRT,MAAM,UACNtC,MACE,CAAEmB,SAAU,OAAQc,SAAU,WAAYe,KAAM,MAAOd,OAAQ,QALnE,mC,qFCjXAzI,EAAYC,aAAW,SAACuJ,GAAD,MAAY,CACvCpJ,UAAW,CACTqJ,QAAS,OACTC,SAAU,QAEZC,YAAa,CACXC,OAAQJ,EAAMK,QAAQ,GACtBrI,SAAU,SAIC,SAASsI,EAAavJ,GACnC,IAAMC,EAAUR,IAD0B,EAElBU,oBAAS,GAFS,mBAEnC0F,EAFmC,KAE7B2D,EAF6B,OAGlBrJ,mBAAS,UAHS,mBAGnCmF,EAHmC,KAG7BmE,EAH6B,OAIdtJ,mBAAS,GAJK,mBAInCoF,EAJmC,KAI3BmE,EAJ2B,OAKNvJ,mBAAS,GALH,mBAKnCwJ,EALmC,KAKvBC,EALuB,OAMNzJ,oBAAS,GANH,mBAMnC0J,EANmC,KAMvBC,EANuB,OAOR3J,oBAAS,GAPD,mBAOnC4J,EAPmC,KAOxBC,EAPwB,KA0BpCC,EAAc,WAClBT,GAAQ,IAgEV,OAxDA9D,qBAAU,WACR,IAAIwE,GAAU,EAMZC,EAAY,IAAIC,KAAKC,eAAe,QAJ1B,CACVC,SAAU,mBACVJ,QAAS,UAI0B,QAAjCC,EAAU7C,OAAO,IAAIiD,OAAsD,QAAjCJ,EAAU7C,OAAO,IAAIiD,QACjEL,GAAU,GAGZ,IAIEM,EAAa,IAAIJ,KAAKC,eAAe,GAJzB,CACZC,SAAU,iBACVG,KAAM,YAIJD,EAAWlD,OAAO,IAAIiD,MAAU,IAAMC,EAAWlD,OAAO,IAAIiD,MAAU,IAAML,GAC9EJ,GAAc,KAEf,IAEHpE,qBAAU,WACR,IAIEyE,EAAY,IAAIC,KAAKC,eAAe,QAJ1B,CACVC,SAAU,mBACVJ,QAAS,UAGX,GAAqC,QAAjCC,EAAU7C,OAAO,IAAIiD,MAAmB,CAK5B,IAAIH,KAAKC,eAAe,GAJ3B,CACTC,SAAU,mBACVG,KAAM,YAGMnD,OAAO,IAAIiD,OAAW,IAClCP,GAAa,GAMjB,GAHqC,QAAjCG,EAAU7C,OAAO,IAAIiD,OACvBP,GAAa,GAEsB,QAAjCG,EAAU7C,OAAO,IAAIiD,MAAmB,CAK5B,IAAIH,KAAKC,eAAe,GAJ3B,CACTC,SAAU,mBACVG,KAAM,YAGMnD,OAAO,IAAIiD,OAAW,IAClCP,GAAa,MAGhB,IAID,gCACE,eAACpB,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UACNtC,MAAO,CAAEmB,SAAU,OAAQvH,MAAO,QAASqI,SAAU,WAAYC,OAAQ,QACzEW,QA3EkB,WACtBW,GAAQ,IAsEN,0BAOM,cAAC,IAAD,OAEN,eAACkB,EAAA,EAAD,CAAQC,sBAAoB,EAACC,sBAAoB,EAAC/E,KAAMA,EAAMgF,QAASZ,EAAvE,UACE,cAACa,EAAA,EAAD,sEACA,eAACC,EAAA,EAAD,WACE,uBAAMhF,UAAW9F,EAAQJ,UAAzB,UACE,eAACmI,EAAA,EAAD,CAAajC,UAAW9F,EAAQmJ,YAAhC,UACE,cAACf,EAAA,EAAD,CAAY2C,QAAQ,qBAApB,kBACA,eAACC,EAAA,EAAD,CACEC,QAAM,EACNhE,MAAO5B,EACPkD,SAAU,mBArGC,SAACtB,GACxBuC,EAAQvC,GAoGyCiE,CAA3B,EAAGpD,OAAUb,QACvBkE,MAAO,cAACC,EAAA,EAAD,CAAOtK,GAAG,uBAJnB,UAME,wBAAQmG,MAAM,SAAd,8BACgB,IAAf2C,GAAuB,wBAAQ3C,MAAM,SAAd,qBACT,IAAd6C,GAAsB,wBAAQ7C,MAAM,QAAd,6BACR,IAAd6C,GAAsB,wBAAQ7C,MAAM,WAAd,uBACR,IAAd6C,GAAsB,wBAAQ7C,MAAM,QAAd,mBACvB,wBAAQA,MAAM,OAAd,2BAIJ,eAACc,EAAA,EAAD,CAAajC,UAAW9F,EAAQmJ,YAAhC,UACE,cAACf,EAAA,EAAD,CAAYtH,GAAG,2BAAf,uBACA,eAACkK,EAAA,EAAD,CACEK,QAAQ,2BACRvK,GAAG,qBACHmG,MAAO3B,EACPiD,SAAU,mBAnHG,SAACtB,GAC1BwC,EAAUxC,GAkHuCqE,CAA3B,EAAGxD,OAAUb,QACvBkE,MAAO,cAACC,EAAA,EAAD,IALT,UAOE,cAACG,EAAA,EAAD,CAAUtE,MAAO,EAAjB,eACA,cAACsE,EAAA,EAAD,CAAUtE,MAAO,EAAjB,eACA,cAACsE,EAAA,EAAD,CAAUtE,MAAO,EAAjB,eACA,cAACsE,EAAA,EAAD,CAAUtE,MAAO,EAAjB,eACA,cAACsE,EAAA,EAAD,CAAUtE,MAAO,EAAjB,qBAGM,WAAT5B,GAAqB,eAAC0C,EAAA,EAAD,CAAajC,UAAW9F,EAAQmJ,YAAhC,UACpB,cAACf,EAAA,EAAD,CAAYtH,GAAG,2BAAf,2BACA,eAACkK,EAAA,EAAD,CACEK,QAAQ,2BACRvK,GAAG,qBACHmG,MAAOyC,EACPnB,SAAU,mBA/HO,SAACtB,GAC9B0C,EAAc1C,GA8HmCuE,CAA3B,EAAG1D,OAAUb,QACvBkE,MAAO,cAACC,EAAA,EAAD,IALT,UAOE,cAACG,EAAA,EAAD,CAAUtE,MAAO,EAAjB,qBACA,cAACsE,EAAA,EAAD,CAAUtE,MAAO,IAAjB,uBACA,cAACsE,EAAA,EAAD,CAAUtE,MAAO,IAAjB,4BAKN,kJAEK,uBAFL,iCAKA,2QAKA,qOAMF,eAACwE,EAAA,EAAD,WACE,cAAC9C,EAAA,EAAD,CAAQC,QAASoB,EAAa3B,MAAM,UAApC,oBAGA,cAACM,EAAA,EAAD,CACEC,QAAS,kBAlJa,SAACvD,EAAMC,EAAQoE,GAC7CM,IACAjK,EAAM2L,iBAAiBrG,EAAMC,EAAQoE,GAgJdiC,CAAwBtG,EAAMC,EAAQoE,IACrDrB,MAAM,UAFR,kC,8BC1LK,SAASuD,IAAmB,IAAD,EAChB3L,IAAMC,SAAS,GADC,mBACjCC,EADiC,KAC3BC,EAD2B,OAEFH,IAAMC,SAAS,IAFb,mBAEjCG,EAFiC,KAEpBC,EAFoB,OAGdL,IAAMC,SAAS,IAHD,mBAGjC2L,EAHiC,KAG1BC,EAH0B,OAIN7L,IAAMC,SAAS,IAJT,mBAIjC6L,EAJiC,KAItBC,EAJsB,KAMlCnL,EAAU,CACd,CACEC,GAAI,SACJC,MAAO,UACPC,SAAU,GACVyF,MAAO,UAET,CACE3F,GAAI,YACJC,MAAO,aACPC,SAAU,GACVyF,MAAO,UAET,CACE3F,GAAI,WACJC,MAAO,YACPC,SAAU,GACVyF,MAAO,UAET,CACE3F,GAAI,QACJC,MAAO,QACPC,SAAU,GACVyF,MAAO,UAET,CACE3F,GAAI,QACJC,MAAO,QACPC,SAAU,GACVyF,MAAO,UAET,CACE3F,GAAI,OACJC,MAAO,cACPC,SAAU,GACVyF,MAAO,UAET,CACE3F,GAAI,UACJC,MAAO,UACPC,SAAU,GACVyF,MAAO,UAET,CACE3F,GAAI,UACJC,MAAO,UACPC,SAAU,GACVyF,MAAO,UAET,CACE3F,GAAI,SACJC,MAAO,SACPC,SAAU,GACVyF,MAAO,WAILwF,EAAiB,uCAAG,WAAOzI,EAAO8B,GAAd,SAAAnC,EAAA,sDACxB,IACEC,IAAM8I,KAAK,sBAAuB,CAChC1I,MAAOA,EACP8B,OAAQA,IAEV6G,MAAM,wCACN,SACAA,MAAM,wBARgB,2CAAH,wDAiCjBC,EAAY,uCAAG,WAAOnF,GAAP,mBAAA9D,EAAA,sDAGnB,GAFIX,EAASuJ,EAAUvJ,QAAO,SAAAqE,GAAG,OAAIA,EAAIwF,UAAUC,cAAcC,SAAStF,MAC1E+E,EAAaxJ,GACC,KAAVyE,EAEF,IADA+E,EAAa,IADG,WAEP9J,GACP8J,GAAa,SAAAD,GAAS,4BAAQA,GAAR,EAEpBF,EAAM3J,GAAGsK,IAAKX,EAAM3J,GAAGmK,UAAWR,EAAM3J,GAAGuK,SAAUZ,EAAM3J,GAAGsB,MAAOqI,EAAM3J,GAAGwK,MAAOb,EAAM3J,GAAGyK,WAAYd,EAAM3J,GAAG0K,eAH9G1K,EAAI,EAAGA,EAAI2J,EAAM1J,OAAQD,IAAM,EAA/BA,GALQ,2CAAH,sDAcZ2K,EAAY,uCAAG,WAAO5F,GAAP,mBAAA9D,EAAA,sDAGnB,GAFIX,EAASuJ,EAAUvJ,QAAO,SAAAqE,GAAG,OAAIA,EAAI4F,SAASH,cAAcC,SAAStF,MACzE+E,EAAaxJ,GACC,KAAVyE,EAEF,IADA+E,EAAa,IADG,WAEP9J,GACP8J,GAAa,SAAAD,GAAS,4BAAQA,GAAR,EAEpBF,EAAM3J,GAAGsK,IAAKX,EAAM3J,GAAGmK,UAAWR,EAAM3J,GAAGuK,SAAUZ,EAAM3J,GAAGsB,MAAOqI,EAAM3J,GAAGwK,MAAOb,EAAM3J,GAAGyK,WAAYd,EAAM3J,GAAG0K,eAH9G1K,EAAI,EAAGA,EAAI2J,EAAM1J,OAAQD,IAAM,EAA/BA,GALQ,2CAAH,sDAcZ4K,EAAY,uCAAG,WAAO7F,GAAP,mBAAA9D,EAAA,sDAGnB,GAFIX,EAASuJ,EAAUvJ,QAAO,SAAAqE,GAAG,OAAIA,EAAIrD,MAAM8I,cAAcC,SAAStF,MACtE+E,EAAaxJ,GACC,KAAVyE,EAEF,IADA+E,EAAa,IADG,WAEP9J,GACP8J,GAAa,SAAAD,GAAS,4BAAQA,GAAR,EAEpBF,EAAM3J,GAAGsK,IAAKX,EAAM3J,GAAGmK,UAAWR,EAAM3J,GAAGuK,SAAUZ,EAAM3J,GAAGsB,MAAOqI,EAAM3J,GAAGwK,MAAOb,EAAM3J,GAAGyK,WAAYd,EAAM3J,GAAG0K,eAH9G1K,EAAI,EAAGA,EAAI2J,EAAM1J,OAAQD,IAAM,EAA/BA,GALQ,2CAAH,sDAcZ6K,EAAW,uCAAG,WAAO9F,GAAP,mBAAA9D,EAAA,sDAGlB,GAFIX,EAASuJ,EAAUvJ,QAAO,SAAAqE,GAAG,OAAI5B,OAAO4B,EAAImG,MAAMT,SAAStF,MAC/D+E,EAAaxJ,GACC,KAAVyE,EAEF,IADA+E,EAAa,IADG,WAEP9J,GACP8J,GAAa,SAAAD,GAAS,4BAAQA,GAAR,EAEpBF,EAAM3J,GAAGsK,IAAKX,EAAM3J,GAAGmK,UAAWR,EAAM3J,GAAGuK,SAAUZ,EAAM3J,GAAGsB,MAAOqI,EAAM3J,GAAGwK,MAAOb,EAAM3J,GAAGyK,WAAYd,EAAM3J,GAAG0K,eAH9G1K,EAAI,EAAGA,EAAI2J,EAAM1J,OAAQD,IAAM,EAA/BA,GALO,2CAAH,sDAcX+K,EAAY,uCAAG,WAAOhG,GAAP,mBAAA9D,EAAA,sDAGnB,GAFIX,EAASuJ,EAAUvJ,QAAO,SAAAqE,GAAG,OAAI5B,OAAO4B,EAAI6F,OAAOH,SAAStF,MAChE+E,EAAaxJ,GACC,KAAVyE,EAEF,IADA+E,EAAa,IADG,WAEP9J,GACP8J,GAAa,SAAAD,GAAS,4BAAQA,GAAR,EAEpBF,EAAM3J,GAAGsK,IAAKX,EAAM3J,GAAGmK,UAAWR,EAAM3J,GAAGuK,SAAUZ,EAAM3J,GAAGsB,MAAOqI,EAAM3J,GAAGwK,MAAOb,EAAM3J,GAAGyK,WAAYd,EAAM3J,GAAG0K,eAH9G1K,EAAI,EAAGA,EAAI2J,EAAM1J,OAAQD,IAAM,EAA/BA,GALQ,2CAAH,sDAcZgL,EAAU,uCAAG,WAAOpM,GAAP,SAAAqC,EAAA,6DACjBgK,QAAQC,IAAItM,GADK,SAEXsC,IAAMiK,OAAN,2BAAiCvM,IAFtB,OAGjBqL,MAAM,6BACNxG,OAAO2H,SAASC,SAJC,2CAAH,sDAqBhB,OAbA9H,oBAAS,sBAAC,gCAAAtC,EAAA,sEACeC,IAAMC,IAAI,kBADzB,OAGR,IAFMmK,EADE,OAER1B,EAAS0B,EAASjK,MAFV,WAGCrB,GACP8J,GAAa,SAAAD,GAAS,4BAAQA,GAAR,EAvGN0B,EAyGdD,EAASjK,KAAKrB,GAAGsK,IAzGKH,EAyGAmB,EAASjK,KAAKrB,GAAGmK,UAzGNI,EAyGiBe,EAASjK,KAAKrB,GAAGuK,SAzGxBjJ,EAyGkCgK,EAASjK,KAAKrB,GAAGsB,MAzG5CkJ,EAyGmDc,EAASjK,KAAKrB,GAAGwK,MAzG7DM,EAyGoEQ,EAASjK,KAAKrB,GAAGyK,WAzG/EC,EAyG2FY,EAASjK,KAAKrB,GAAG0K,QAxGxK,CACLa,SACApB,YACAI,WACAjJ,QACAkJ,QACAM,OACAJ,UACAc,kBATe,IAACD,EAAQpB,EAAWI,EAAUjJ,EAAOkJ,EAAOM,EAAMJ,EAASc,MAsGnExL,EAAI,EAAGA,EAAIsL,EAASjK,KAAKpB,OAAQD,IAAM,EAAvCA,GAHD,2CASP,IAKD,sBAAK6D,MAAO,CAAEiC,SAAU,WAAY2F,IAAK,QAAS5E,KAAM,IAAKZ,MAAO,IAAKyF,WAAY,OAAQC,YAAa,OAAQlO,MAAO,UAAzH,UACE,cAACmO,EAAA,EAAD,CAAWhN,GAAG,eAAeC,MAAM,mBAAmB+H,QAAQ,SAAS/C,MAAO,CAAE8H,YAAa,QAASD,WAAY,QAASjO,MAAO,SAChI4I,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2BmF,EAAanF,MAEpD,cAAC6G,EAAA,EAAD,CAAWhN,GAAG,eAAeC,MAAM,mBAAmB+H,QAAQ,SAAS/C,MAAO,CAAE8H,YAAa,QAASlO,MAAO,SAC3G4I,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2B4F,EAAa5F,MAEpD,cAAC6G,EAAA,EAAD,CAAWhN,GAAG,eAAeC,MAAM,kBAAkB+H,QAAQ,SAAS/C,MAAO,CAAE8H,YAAa,QAASlO,MAAO,SAC1G4I,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2B6F,EAAa7F,MAEpD,cAAC6G,EAAA,EAAD,CAAWhN,GAAG,eAAeC,MAAM,kBAAkB+H,QAAQ,SAAS/C,MAAO,CAAE8H,YAAa,SAAUlO,MAAO,SAC3G4I,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2BgG,EAAahG,MAEpD,cAAC6G,EAAA,EAAD,CAAWhN,GAAG,eAAeC,MAAM,iBAAiB+H,QAAQ,SAAS/C,MAAO,CAAE8H,YAAa,QAASD,WAAY,QAASjO,MAAO,SAC9H4I,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2B8F,EAAY9F,MAEnD,eAACpB,EAAA,EAAD,WACE,cAACI,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAOC,cAAY,EAACC,aAAW,eAA/B,UACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACGzF,EAAQ8B,KAAI,SAAC4D,GAAD,OACX,cAACC,EAAA,EAAD,CAEEC,MAAOF,EAAOE,MACdV,MAAO,CAAE/E,SAAUuF,EAAOvF,UAH5B,SAKGuF,EAAOxF,OAJHwF,EAAOzF,WASpB,cAAC8F,EAAA,EAAD,UACGmF,EAAU1J,MAAMlC,EAAOE,EAAaF,EAAOE,EAAcA,GAAasC,KAAI,SAACkE,GAC1E,OACE,cAACP,EAAA,EAAD,CAAUQ,OAAK,EAACC,KAAK,WAAWC,UAAW,EAA3C,SACGnG,EAAQ8B,KAAI,SAAC4D,GACZ,IAAMU,EAAQJ,EAAIN,EAAOzF,IACzB,MAAkB,YAAdyF,EAAOzF,GAEP,eAAC0F,EAAA,EAAD,CAA2BC,MAAOF,EAAOE,MAAzC,UACGF,EAAOc,QAA2B,kBAAVJ,EAAqBV,EAAOc,OAAOJ,GAASA,EACtD,YAAdV,EAAOzF,IAAoB,cAAC6H,EAAA,EAAD,CAC1BG,QAAQ,YACRT,MAAM,UACNO,QAAS,kBAAMqD,EAAkBpF,EAAIrD,MAAOqD,EAAI+F,UAHtB,4BAOb,WAAdrG,EAAOzF,IAAmB,cAAC6H,EAAA,EAAD,CACzBG,QAAQ,YACRT,MAAM,YACNO,QAAS,kBAAMsE,EAAWrG,EAAI4G,SAHL,2BATblH,EAAOzF,IAqBvB,cAAC0F,EAAA,EAAD,CAA2BC,MAAOF,EAAOE,MAAzC,SACE,cAACqH,EAAA,EAAD,CACEhN,GAAG,kBACHC,MAAM,SACNsE,KAAK,SACL0I,YAAa9G,EACb+G,gBAAiB,CACfC,QAAQ,GAEVlI,MAAO,CACLpG,MAAO,QAET4I,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2BJ,EAAI+F,QAAU3F,MAZvCV,EAAOzF,QA1BoB+F,EAAIqH,gBAkDjE,cAAC5G,EAAA,EAAD,CACEC,mBAAoB,CAAC,GAAI,GAAI,KAC7BC,UAAU,MACVC,MAAOsE,EAAU5J,OACjB9B,YAAaA,EACbF,KAAMA,EACNuH,aA/LiB,SAACC,EAAOC,GAC/BxH,EAAQwH,IA+LFC,oBA5LwB,SAACF,GAC/BrH,EAAe,IACfF,EAAQ,Y,+FCtFG,SAAS+N,KAAkB,MAChBlO,IAAMC,SAAS,GADC,mBACjCC,EADiC,KAC3BC,EAD2B,OAEFH,IAAMC,SAAS,IAFb,mBAEjCG,EAFiC,KAEpBC,EAFoB,OAGZL,IAAMC,SAAS,IAHH,mBAGjCkO,EAHiC,KAGzBC,EAHyB,KAKlCC,EAAe7O,YAAW,CAC9BC,KAAM,CACJ,QAAS,CACP0H,aAAc,YAKpB,SAASmH,EAAIxO,GAAO,IACV8G,EAAQ9G,EAAR8G,IADU,EAEM5G,IAAMC,UAAS,GAFrB,mBAEX0F,EAFW,KAEL2D,EAFK,KAGZvJ,EAAUsO,IAEhB,OACE,eAAC,IAAME,SAAP,WACE,eAAClI,EAAA,EAAD,CAAUR,UAAW9F,EAAQN,KAA7B,UACE,cAAC8G,EAAA,EAAD,UACE,cAACiI,GAAA,EAAD,CAAYrI,aAAW,aAAasI,KAAK,QAAQ9F,QAAS,kBAAMW,GAAS3D,IAAzE,SACGA,EAAO,cAAC,KAAD,IAA0B,cAAC,KAAD,QAGtC,cAACY,EAAA,EAAD,CAAWC,MAAM,SAASe,UAAU,KAAKmH,MAAM,MAA/C,SACG9H,EAAI+H,WAEP,cAACpI,EAAA,EAAD,CAAWC,MAAM,SAAjB,SAA2BI,EAAIrD,QAC/B,cAACgD,EAAA,EAAD,CAAWC,MAAM,SAAjB,SAA2BI,EAAImG,OAC/B,cAACxG,EAAA,EAAD,CAAWC,MAAM,SAAjB,SACE,cAACkC,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,YACNO,QAAS,kBAAMiG,EAAchI,EAAI/F,KAHnC,SAKE,cAAC,KAAD,WAIN,cAACwF,EAAA,EAAD,UACE,cAACE,EAAA,EAAD,CAAWT,MAAO,CAAE+I,cAAe,EAAG9I,WAAY,GAAK+I,QAAS,EAAhE,SACE,cAACC,EAAA,EAAD,CAAUC,GAAIrJ,EAAMsJ,QAAQ,OAAOC,eAAa,EAAhD,SACE,eAACC,EAAA,EAAD,CAAKhG,OAAQ,EAAb,UACE,cAACiG,EAAA,EAAD,CAAYvG,QAAQ,KAAKwG,cAAY,EAAC9H,UAAU,MAAhD,qBAGA,cAAC6H,EAAA,EAAD,CAAYC,cAAY,EAAC9H,UAAU,MAAnC,SACGX,EAAI0I,sBAsBrB,IAXoBzO,EAAI8N,EAAUpL,EAAOwJ,EAAMuC,EAW3C/K,EAAO,GACX,GAAI4J,EAAO,GACT,IAAK,IAAIlM,EAAI,EAAGA,EAAIkM,EAAOjM,OAAQD,IACjCsC,EAAKxB,SAdWlC,EAgBZsN,EAAOlM,GAAGsK,IAhBMoC,EAgBDR,EAAOlM,GAAG0M,SAhBCpL,EAgBS4K,EAAOlM,GAAGsB,MAhBZwJ,EAgBmBoB,EAAOlM,GAAGyK,WAhBvB4C,EAgBmCnB,EAAOlM,GAAGqN,QAfnF,CACLzO,KACA8N,WACApL,QACAwJ,OACAuC,aAiBJ,IAUMV,EAAgB,SAAC/N,GACrBsC,IAAMiK,OAAN,yBAA+BvM,IAC/BqL,MAAM,6CACNxG,OAAO2H,SAASC,UAqBlB,OALA9H,oBAAS,sBAAC,4BAAAtC,EAAA,sEACgBC,IAAMC,IAAI,kBAD1B,OACFmM,EADE,OAERnB,EAAUmB,EAAUjM,MAFZ,2CAGP,IAGD,sBAAKwC,MAAO,CAAEiC,SAAU,WAAY2F,IAAK,QAASxF,MAAO,SAAzD,UACE,cAAClC,EAAA,EAAD,CAAgBuB,UAAW3B,IAAOE,MAAO,CAAEpG,MAAO,UAAlD,SACE,eAACuG,EAAA,EAAD,CAAOE,aAAW,oBAAlB,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACE,EAAA,EAAD,IACA,cAACA,EAAA,EAAD,CAAW1F,GAAG,OAAO2F,MAAM,SAA3B,gCACA,cAACD,EAAA,EAAD,CAAW1F,GAAG,QAAQ2F,MAAM,SAA5B,4BACA,cAACD,EAAA,EAAD,CAAW1F,GAAG,OAAO2F,MAAM,SAA3B,0BACA,cAACD,EAAA,EAAD,CAAW1F,GAAG,SAAS2F,MAAM,SAA7B,yBAGJ,cAACG,EAAA,EAAD,UACGpC,EAAKnC,MAAMlC,EAAOE,EAAaF,EAAOE,EAAcA,GAAasC,KAAI,SAACkE,GAAD,OACpE,cAAC0H,EAAD,CAAoB1H,IAAKA,GAAfA,EAAI4I,gBAKtB,cAACnI,EAAA,EAAD,CACEC,mBAAoB,CAAC,IACrBC,UAAU,MACVC,MAAOjD,EAAKrC,OACZ9B,YAAaA,EACbF,KAAMA,EACNuH,aA5DmB,SAACC,EAAOC,GAC/BxH,EAAQwH,IA4DJC,oBAzD0B,SAACF,GAC/BrH,EAAe,IACfF,EAAQ,MAyDN,cAACuI,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,YACNtC,MAAO,CACLiC,SAAU,WACVe,KAAM,MACNd,OAAQ,OAEVW,QAAS,kBArDS,WAItB,IAHA,IAAM8G,EAAkBlL,EAAKnC,MAC3BlC,EAAOE,EAAaF,EAAOE,EAAcA,GACxCsC,KAAI,SAACkE,GAAD,OAASA,EAAI/F,MACXoB,EAAI,EAAGA,EAAIwN,EAAgBvN,OAAQD,IAC1CkB,IAAMiK,OAAN,yBAA+BqC,EAAgBxN,KAEjDiK,MAAM,0CACNxG,OAAO2H,SAASC,SA6CGoC,IARjB,kC,2CC5JAnQ,GAAYC,YAAW,CAC3BC,KAAM,CACJC,MAAO,QAETC,UAAW,CACTC,UAAW,OAIA,SAAS+P,GAAT,GAAgD,IAAjBC,EAAgB,EAAhBA,aACtC7P,EAAUR,KAD4C,EAEpCS,IAAMC,SAAS,GAFqB,mBAErDC,EAFqD,KAE/CC,EAF+C,OAGtBH,IAAMC,SAAS,IAHO,mBAGrDG,EAHqD,KAGxCC,EAHwC,OAI1BL,IAAMC,SAAS,IAJW,gCAKpCD,IAAMC,SAAS,KALqB,mBAKrDsE,EALqD,KAK/CsL,EAL+C,KAQtDjP,EAAU,CACd,CACEC,GAAI,MACJC,MAAO,IACPC,SAAU,IAEZ,CACEF,GAAI,SACJC,MAAO,SACPC,SAAU,IAEZ,CACEF,GAAI,YACJC,MAAO,YACPC,SAAU,IAEZ,CACEF,GAAI,YACJC,MAAO,aACPC,SAAU,IAEZ,CACEF,GAAI,UACJC,MAAO,WACPC,SAAU,IAEZ,CACEF,GAAI,aACJC,MAAO,cACPC,SAAU,IAEZ,CACEF,GAAI,WACJC,MAAO,YACPC,SAAU,IAEZ,CACEF,GAAI,YACJC,MAAO,YACPC,SAAU,IAEZ,CACEF,GAAI,cACJC,MAAO,eACPC,SAAU,IAEZ,CACEF,GAAI,UACJC,MAAO,0BACPC,SAAU,KAId,SAASC,EACPC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAG,EACAC,EACAmO,GAEA,MAAO,CAAE7O,MAAKC,SAAQC,YAAWC,YAAWC,UAASC,aAAYC,WAAUG,YAAWC,cAAamO,WAGrG,IASMjO,EAAiB,SAACC,GAKtB,IAJA,IAAIC,EAAS,GAETC,EAAa,GAERC,EAAI,EAAGA,EAAIH,EAAII,OAAQD,GAHnB,GAIXF,EAAOI,KAAKL,EAAIM,MAAMH,EAAGA,EAJd,KA2Bb,OApBAF,EAAOM,SAAQ,SAAAC,GAEb,IAAIZ,EAAYY,EAAMC,QAAO,SAAAC,GAAI,MAAsB,QAAlBA,EAAKd,aAAqBQ,OAE3DO,EAAoB,EACxBH,EAAMI,KAAI,SAACF,GACa,aAAlBA,EAAKd,WACPe,OAIJ,IAAIE,EAAQjB,GAAaY,EAAMJ,OAASO,GAAsB,IAEjD,UADbE,EAAOA,EAAKC,UAAY,OAEtBD,EAAO,MAETX,EAAWG,KAAKQ,MAGlBZ,EAAOW,KAAI,SAACG,EAAOC,GAAR,OAAgBD,EAAME,QAAQ/B,EAAW,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAIgB,EAAWc,QAC5Ff,EAAOiB,QAGV+M,EAAkB,uCAAG,kCAAA7M,EAAA,sEACJC,IAAMC,IAAN,2BAA8BwM,IAD1B,gBACnBtM,EADmB,EACnBA,KACF0M,EAAe,GACnB1M,EAAKc,MAAK,SAAClB,EAAGmB,GACZ,OAAOA,EAAEC,WAAapB,EAAEoB,cAE1BhB,EAAKZ,KAAI,SAACuN,EAAQnN,GACZmN,EAAOxL,SACTwL,EAAOxL,OAASwL,EAAOxL,OAAO7B,QAAQ,IAExCoN,EAAa7N,KACXnB,EACE8B,EAAM,EACNmN,EAAOvL,OACPuL,EAAOtL,UACPsL,EAAOrL,UACPqL,EAAOpL,QACPoL,EAAOnL,WACPmL,EAAOlL,SACPC,OAAOiL,EAAOvO,WACduO,EAAOxL,OACPwL,EAAOrO,aAITsO,EAAYrO,EAAemO,GAC/BH,EAAQK,GACRxK,OAAOyK,SAAWC,YAAW,sBAAE,sBAAAlN,EAAA,sEAChBC,IAAMC,IAAN,2BAA8BwM,IADd,OAC7BtM,EAD6B,OAE7B0M,EAAe,GACf1M,EAAKA,KAAKc,MAAK,SAAClB,EAAGmB,GACjB,OAAOA,EAAEC,WAAapB,EAAEoB,cAE1BhB,EAAKA,KAAKZ,KAAI,SAACuN,EAAQnN,GACjBmN,EAAOxL,SACTwL,EAAOxL,OAASwL,EAAOxL,OAAO7B,QAAQ,IAExCoN,EAAa7N,KACXnB,EACE8B,EAAM,EACNmN,EAAOvL,OACPuL,EAAOtL,UACPsL,EAAOrL,UACPqL,EAAOpL,QACPoL,EAAOnL,WACPmL,EAAOlL,SACPC,OAAOiL,EAAOvO,WACduO,EAAOxL,OACPwL,EAAOrO,aAIbsO,EAAYrO,EAAemO,GAC3BH,EAAQK,GACRhD,QAAQC,IAAI,iBAAkB+C,GA3BD,2CA4B5B,KAvDsB,4CAAH,qDAmExB,OATA1K,qBAAU,WACRuK,MACC,IAEHM,2BAAgB,WACd,OAAO,WACHC,cAAc5K,OAAOyK,aAE1B,IAEC,eAACvK,EAAA,EAAD,CAAOC,UAAW9F,EAAQN,KAA1B,UACE,cAACuG,EAAA,EAAD,CAAgBH,UAAW9F,EAAQJ,UAAnC,SACE,eAACsG,EAAA,EAAD,CAAOC,cAAY,EAACC,aAAW,eAA/B,UACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACGzF,EAAQ8B,KAAI,SAAC4D,EAAQxD,GAAT,OACX,aAD8B,CAC7ByD,EAAA,EAAD,CAEEC,MAAOF,EAAOE,MACdV,MAAO,CAAE/E,SAAUuF,EAAOvF,SAAU0F,UAAW,SAAUC,gBAAiB,aAH5E,SAKGJ,EAAOxF,OAJHgC,UASb,cAAC6D,EAAA,EAAD,UACGpC,EAAKnC,MAAMlC,EAAOE,EAAaF,EAAOE,EAAcA,GAAasC,KAAI,SAACkE,EAAK9D,GAC1E,OACE,cAACuD,EAAA,EAAD,CAAUQ,OAAK,EAACC,KAAK,WAAWC,UAAW,EAA3C,SACGnG,EAAQ8B,KAAI,SAAC4D,EAAQxD,GACpB,IAAMkE,EAAQJ,EAAIN,EAAOzF,IACzB,OACE,cAAC0F,EAAA,EAAD,CAAqBC,MAAOF,EAAOE,MAAOV,MAAO,CAAEW,UAAW,SAAUQ,SAAU,OAAQC,OAAQ,SAAUC,aAAc,mBAA1H,SACGb,EAAOc,QAA2B,kBAAVJ,EAAqBV,EAAOc,OAAOJ,GAASA,GADvDlE,OAJ6BA,aAe7D,cAACuE,EAAA,EAAD,CACEC,mBAAoB,CAAC,IACrBC,UAAU,MACVC,MAAOjD,EAAKrC,OACZ9B,YAAaA,EACbF,KAAMA,EACNuH,aArJmB,SAACC,EAAOC,GAC/BxH,EAAQwH,IAqJJC,oBAlJ0B,SAACF,GAC/BrH,GAAgBqH,EAAMG,OAAOb,OAC7B7G,EAAQ,SC9FZ,SAASoQ,GAASzQ,GAAQ,IAChB0Q,EAAqC1Q,EAArC0Q,SAAUxJ,EAA2BlH,EAA3BkH,MAAOyJ,EAAoB3Q,EAApB2Q,MAAUC,EADZ,aACsB5Q,EADtB,8BAEvB,OACE,+CACEgH,KAAK,WACL6J,OAAQ3J,IAAUyJ,EAClB5P,GAAE,0BAAqB4P,GACvBG,kBAAA,qBAA+BH,IAC3BC,GALN,aAOG1J,IAAUyJ,GACT,cAACtB,EAAA,EAAD,CAAK0B,EAAG,EAAR,SACE,cAACzB,EAAA,EAAD,UAAaoB,SAOvB,SAASM,GAAUL,GACjB,MAAO,CACL5P,GAAG,cAAD,OAAgB4P,GAClB,gBAAgB,mBAAhB,OAAoCA,IAKxC,IAAMlR,GAAYC,aAAW,SAACuJ,GAAD,MAAY,CACvCtJ,KAAM,CACJsR,SAAU,EACVrK,gBAAiBqC,EAAMiI,QAAQC,WAAWC,MAC1CnJ,SAAU,WACV2F,IAAK,OACLxF,MAAO,WAKI,SAASiJ,KACtB,IAAMpR,EAAUR,KAD8B,EAEpBS,IAAMC,SAAS,GAFK,mBAEvC+G,EAFuC,KAEhCoK,EAFgC,KAS9C,OACE,sBAAKvL,UAAW9F,EAAQN,KAAMsI,SAAS,WAAWjC,MAAO,CAAE4H,IAAK,SAAhE,UACE,cAAC2D,EAAA,EAAD,CAAQtJ,SAAS,SAAjB,SACE,eAACuJ,GAAA,EAAD,CAAMtK,MAAOA,EAAOsB,SAPL,SAACZ,EAAO6J,GAC3BH,EAASG,IAML,UACE,cAACC,GAAA,EAAD,cAAK1Q,MAAM,UAAagQ,GAAU,KAClC,cAACU,GAAA,EAAD,cAAK1Q,MAAM,kBAAqBgQ,GAAU,KAC1C,cAACU,GAAA,EAAD,cAAK1Q,MAAM,SAAYgQ,GAAU,KACjC,cAACU,GAAA,EAAD,cAAK1Q,MAAM,YAAegQ,GAAU,KACpC,cAACU,GAAA,EAAD,cAAK1Q,MAAM,WAAcgQ,GAAU,KACnC,cAACU,GAAA,EAAD,cAAK1Q,MAAM,UAAagQ,GAAU,UAGtC,cAACP,GAAD,CAAUvJ,MAAOA,EAAOyJ,MAAO,EAA/B,SACG,cAAC,GAAD,CAAoBb,aAAa,aAEpC,cAACW,GAAD,CAAUvJ,MAAOA,EAAOyJ,MAAO,EAA/B,SACG,cAAC,GAAD,CAAoBb,aAAa,YAEpC,cAACW,GAAD,CAAUvJ,MAAOA,EAAOyJ,MAAO,EAA/B,SACG,cAAC,GAAD,CAAoBb,aAAa,YAEpC,cAACW,GAAD,CAAUvJ,MAAOA,EAAOyJ,MAAO,EAA/B,SACG,cAAC,GAAD,CAAoBb,aAAa,eAEpC,cAACW,GAAD,CAAUvJ,MAAOA,EAAOyJ,MAAO,EAA/B,SACG,cAAC,GAAD,CAAoBb,aAAa,WAEpC,cAACW,GAAD,CAAUvJ,MAAOA,EAAOyJ,MAAO,EAA/B,SACG,cAAC,GAAD,CAAoBb,aAAa,gBC9E3B,SAAS6B,KAAa,MACXxR,mBAAS,IADE,mBAC5ByR,EAD4B,KACtBC,EADsB,KAG7BC,EAAmB,SAAC5K,GACxB2K,EAAQ3K,IAGV,OACE,gCACE,gCACE,cAAC0B,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UACNtC,MAAO,CACLmB,SAAU,OACVc,SAAU,YAEZY,QAAS,kBAAMiJ,EAAiB,aAPlC,2BAWA,cAAClJ,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UACNtC,MAAO,CACLmB,SAAU,OACVc,SAAU,WACVe,KAAM,QAERH,QAAS,kBAAMiJ,EAAiB,UARlC,wBAYA,cAAClJ,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UACNtC,MAAO,CACLmB,SAAU,OACVc,SAAU,WACVe,KAAM,QAERH,QAAS,kBAAMiJ,EAAiB,cARlC,mCAaF,gCAEY,aAATF,GAAuB,cAACxD,GAAD,IAEd,UAATwD,GAAoB,cAAC/F,EAAD,IACX,cAAT+F,GAAwB,cAACP,GAAD,UC1DlB,WAA0B,iC,UCoBvBU,EAAQ,KAI1B,SAASC,GAAcC,GACrB,OAAIA,EACEA,EAAc,IACT,KACEA,EAAc,IAChB,KACEA,EAAc,KAChB,KACEA,EAAc,KAChB,KAEA,UAGT,EAKJ,IAAMxS,GAAYC,aAAW,SAACuJ,GAAD,MAAY,CACvCtJ,KAAM,CACJsR,SAAU,GAEZrI,OAAQ,CACNqI,SAAU,IAEZiB,MAAO,CACLjB,SAAU,IACV3I,MAAO,aA63BI6J,GAz3BE,WAAO,IAAD,UACflS,EAAUR,KADK,EAEmBU,mBAAS,MAF5B,mBAEdiS,EAFc,KAEAC,EAFA,OAGmBlS,mBAAS,MAH5B,mBAGdmS,EAHc,KAGAC,EAHA,OAIqBpS,mBAAS,SAJ9B,mBAIdqS,EAJc,KAICC,EAJD,OAKuBtS,mBAAS,IALhC,mBAKduS,EALc,KAKEC,EALF,OAMiBxS,mBAAS,GAN1B,mBAMdyS,EANc,KAMDC,EANC,OAOa1S,mBAAS,IAPtB,mBAOd2S,EAPc,KAOHC,EAPG,OAQ2B5S,qBAR3B,mBAQd6S,EARc,KAQIC,EARJ,OAS+B9S,qBAT/B,oBASd+S,GATc,MASMC,GATN,SAUqBhT,mBAAS,GAV9B,qBAUdiT,GAVc,MAUCC,GAVD,SAWqBlT,oBAAS,GAX9B,qBAWdmT,GAXc,MAWCC,GAXD,SAYiBpT,mBAAS,IAZ1B,qBAYdO,GAZc,MAYDC,GAZC,SAayBR,qBAbzB,qBAadqT,GAbc,MAaGC,GAbH,SAcWtT,mBAAS,IAdpB,qBAgBfuT,IAhBe,YAgBLC,eACVC,GAAmC,kBAAXhO,OAjBT,GAkBezF,mBAClCyT,GACI5B,GAAcpM,OAAOiO,iBACrBC,GArBe,qBAkBdC,GAlBc,MAkBFC,GAlBE,MAwBrBtO,oBAAS,sBAAC,gCAAAtC,EAAA,sEACcC,IAAMC,IAAI,qBADxB,cACFC,EADE,gBAEoBF,IAAMC,IAAN,sCAAyCC,EAAQC,KAAKC,QAF1E,OAEFC,EAFE,QAGFuQ,EAASC,aAhEF,0BAiENC,KAAK,cACZF,EAAOG,GAAG,SAAS,SAAUH,GAC3B,OAAQA,EAAO,IACb,IAAK,YACH,GAAkB,UAAdA,EAAO,GAET,GADyBvQ,EAAcF,KAAK,GAAGI,MAAMnB,QAAO,SAAAoB,GAAI,OAAIA,GAAQoQ,EAAO,GAAGI,YAAY5H,OAC7ErK,OAAS,EACbiB,IAAMC,IAAN,6BAAgC2Q,EAAO,GAAGI,YAAY5H,MAAO6H,MAAK,SAAC1P,GAChFwH,MAAM,wCAAD,OAAyC6H,EAAO,GAAGM,kBAAkBC,cAAc9S,GAAnF,uBAAoGkD,EAAOpB,KAAK,GAAGoB,SACxH6P,QAKN,GAAkB,WAAdR,EAAO,GAET,GAD0BvQ,EAAcF,KAAK,GAAGW,OAAO1B,QAAO,SAAA2B,GAAK,OAAIA,GAAS6P,EAAO,GAAGI,YAAY5H,OAChFrK,OAAS,EACdiB,IAAMC,IAAN,8BAAiC2Q,EAAO,GAAGI,YAAY5H,MAAO6H,MAAK,SAAC1P,GACjFwH,MAAM,wCAAD,OAAyC6H,EAAO,GAAGM,kBAAkBC,cAAc9S,GAAnF,uBAAoGkD,EAAOpB,KAAK,GAAGoB,SACxH6P,QAKN,GAAkB,aAAdR,EAAO,GAET,GAD6BvQ,EAAcF,KAAK,GAAGO,SAAStB,QAAO,SAAAsB,GAAQ,OAAIA,GAAYkQ,EAAO,GAAGI,YAAY5H,OACxFrK,OAAS,EACjBiB,IAAMC,IAAN,iCAAoC2Q,EAAO,GAAGI,YAAY5H,MAAO6H,MAAK,SAAC1P,GACpFwH,MAAM,wCAAD,OAAyC6H,EAAO,GAAGM,kBAAkBC,cAAc9S,GAAnF,uBAAoGkD,EAAOpB,KAAK,GAAGoB,SACxH6P,QAKN,GAAkB,WAAdR,EAAO,GAET,GADyBvQ,EAAcF,KAAK,GAAGM,OAAOrB,QAAO,SAAAqB,GAAM,OAAIA,GAAUmQ,EAAO,GAAGI,YAAY5H,OAClFrK,OAAS,EACbiB,IAAMC,IAAN,+BAAkC2Q,EAAO,GAAGI,YAAY5H,MAAO6H,MAAK,SAAC1P,GAClFwH,MAAM,wCAAD,OAAyC6H,EAAO,GAAGM,kBAAkBC,cAAc9S,GAAnF,uBAAoGkD,EAAOpB,KAAK,GAAGoB,SACxH6P,QAKN,GAAkB,SAAdR,EAAO,GAET,GAD0BvQ,EAAcF,KAAK,GAAGU,KAAKzB,QAAO,SAAAkO,GAAK,OAAIA,GAASsD,EAAO,GAAGI,YAAY5H,OAC9ErK,OAAS,EACdiB,IAAMC,IAAN,6BAAgC2Q,EAAO,GAAGI,YAAY5H,MAAO6H,MAAK,SAAC1P,GAChFwH,MAAM,wCAAD,OAAyC6H,EAAO,GAAGM,kBAAkBC,cAAc9S,GAAnF,uBAAoGkD,EAAOpB,KAAK,GAAGoB,SACxH6P,QAKN,GAAkB,UAAdR,EAAO,GAET,GAD0BvQ,EAAcF,KAAK,GAAGQ,MAAMvB,QAAO,SAAAuB,GAAK,OAAIA,GAASiQ,EAAO,GAAGI,YAAY5H,OAC/ErK,OAAS,EACdiB,IAAMC,IAAN,8BAAiC2Q,EAAO,GAAGI,YAAY5H,MAAO6H,MAAK,SAAC1P,GACjFwH,MAAM,wCAAD,OAAyC6H,EAAO,GAAGM,kBAAkBC,cAAc9S,GAAnF,uBAAoGkD,EAAOpB,KAAK,GAAGoB,SACxH6P,QAKN,MACF,IAAK,iBAMH,IAL4D,IAAxDR,EAAO,GAAGM,kBAAkBC,cAAc5S,WAC5CyB,IAAM8I,KAAK,2BAA4B,CACrCpL,GAAIkT,EAAO,GAAGI,YAAY5H,MAGZ,WAAdwH,EAAO,GACiBvQ,EAAcF,KAAK,GAAGyQ,OAAO,GAAGxR,QAAO,SAAA2B,GAAK,OAAIA,GAAS6P,EAAO,GAAGI,YAAY5H,OACnFrK,OAAS,KAC+B,IAAxD6R,EAAO,GAAGM,kBAAkBC,cAAc5S,WAC5C8S,YAAW,WACTrR,IAAMC,IAAN,4BAA+BC,EAAQC,KAAKiJ,MAAO6H,MAAK,SAAC1B,GACvDC,EAAeD,EAAYpP,KAAKqJ,cAEjC,KAEL4H,MAGJ,GAAkB,UAAdR,EAAO,GACgBvQ,EAAcF,KAAK,GAAGI,MAAMnB,QAAO,SAAA2B,GAAK,OAAIA,GAAS6P,EAAO,GAAGI,YAAY5H,OAC/ErK,OAAS,KACgC,IAAxD6R,EAAO,GAAGM,kBAAkBC,cAAc5S,WAC5C8S,YAAW,WACTrR,IAAMC,IAAN,4BAA+BC,EAAQC,KAAKiJ,MAAO6H,MAAK,SAAC1B,GACvDC,EAAeD,EAAYpP,KAAKqJ,cAEjC,KAEL4H,MAGJ,GAAkB,WAAdR,EAAO,GACkBvQ,EAAcF,KAAK,GAAGM,OAAOrB,QAAO,SAAA2B,GAAK,OAAIA,GAAS6P,EAAO,GAAGI,YAAY5H,OAChFrK,OAAS,KAC8B,IAAxD6R,EAAO,GAAGM,kBAAkBC,cAAc5S,WAC5C8S,YAAW,WACTrR,IAAMC,IAAN,4BAA+BC,EAAQC,KAAKiJ,MAAO6H,MAAK,SAAC1B,GACvDC,EAAeD,EAAYpP,KAAKqJ,cAEjC,KAEL4H,MAGJ,GAAkB,UAAdR,EAAO,GACiBvQ,EAAcF,KAAK,GAAGQ,MAAMvB,QAAO,SAAA2B,GAAK,OAAIA,GAAS6P,EAAO,GAAGI,YAAY5H,OAC/ErK,OAAS,KAC+B,IAAxD6R,EAAO,GAAGM,kBAAkBC,cAAc5S,WAC5C8S,YAAW,WACTrR,IAAMC,IAAN,4BAA+BC,EAAQC,KAAKiJ,MAAO6H,MAAK,SAAC1B,GACvDC,EAAeD,EAAYpP,KAAKqJ,cAEjC,KAEL4H,MAGJ,GAAkB,aAAdR,EAAO,GACoBvQ,EAAcF,KAAK,GAAGO,SAAStB,QAAO,SAAA2B,GAAK,OAAIA,GAAS6P,EAAO,GAAGI,YAAY5H,OAClFrK,OAAS,KAC4B,IAAxD6R,EAAO,GAAGM,kBAAkBC,cAAc5S,WAC5C8S,YAAW,WACTrR,IAAMC,IAAN,4BAA+BC,EAAQC,KAAKiJ,MAAO6H,MAAK,SAAC1B,GACvDC,EAAeD,EAAYpP,KAAKqJ,cAEjC,KAEL4H,MAGJ,GAAkB,SAAdR,EAAO,GACiBvQ,EAAcF,KAAK,GAAGU,KAAKzB,QAAO,SAAA2B,GAAK,OAAIA,GAAS6P,EAAO,GAAGI,YAAY5H,OAC9ErK,OAAS,KAC+B,IAAxD6R,EAAO,GAAGM,kBAAkBC,cAAc5S,WAC5C8S,YAAW,WACTrR,IAAMC,IAAN,4BAA+BC,EAAQC,KAAKiJ,MAAO6H,MAAK,SAAC1B,GACvDC,EAAeD,EAAYpP,KAAKqJ,cAEjC,KAEL4H,UAtJF,2CA8JP,IAGH/O,qBAAU,WAER,SAASiP,IACPX,GAAchC,GAAcpM,OAAOiO,aAGrC,GAAID,GAKF,OAHAhO,OAAOgP,iBAAiB,SAAUD,GAG3B,kBAAM/O,OAAOiP,oBAAoB,SAAUF,MAEnD,CAACf,GAAgBI,KAEpB,IAAIc,GAAQ,IAAIC,MAAMC,IAEhBC,GAAY,uCAAG,WAAOC,GAAP,SAAA9R,EAAA,sEACbC,IAAMC,IAAI,gBADG,OAEnBsC,OAAO2H,SAASC,SAFG,2CAAH,sDAMZ2H,GAAY,uCAAG,kCAAA/R,EAAA,sEACSC,IAAMC,IAAN,kCAAqC4P,KAD9C,aACbkC,EADa,QAED5R,KAAKpB,OAAS8Q,IAFb,gBAGjB7P,IAAM8I,KAAK,sBAAuB,CAChC1I,MAAOqP,EACPvN,OAAQqN,EAAcM,KACrBoB,KAHH,cAAAlR,EAAA,MAGQ,4BAAAA,EAAA,6DACNgJ,MAAM,0HADA,SAEgB/I,IAAMC,IAAI,qBAF1B,OAEAC,EAFA,OAGNF,IAAMC,IAAN,4BAA+BC,EAAQC,KAAKiJ,MAAO6H,MAAK,SAAC1B,GACvDC,EAAeD,EAAYpP,KAAKqJ,YAJ5B,4CANS,uBAeR1K,EAAI,EAfI,YAeDA,EAAIiT,EAAc5R,KAAKpB,QAftB,kCAgBTiB,IAAM8I,KAAK,4BAA6B,CAC5C7G,KAAM,SACN7B,MAAOqP,EACP/R,GAAIqU,EAAc5R,KAAKrB,GAAGsK,MAnBb,yBAqBQpJ,IAAMC,IAAN,+BAAkC8R,EAAc5R,KAAKrB,GAAGsK,MArBhE,wBAqBPjJ,EArBO,EAqBPA,KArBO,UAsBTH,IAAM8I,KAAK,2BAA4B,CAC3C1I,MAAOqP,EACP7K,SAAUzE,EAAK,KAxBF,QAe8BrB,IAf9B,mEAAH,qDA+BZkT,GAAW,uCAAG,kCAAAjS,EAAA,sEACQC,IAAMC,IAAN,iCAAoC4P,KAD5C,aACZoC,EADY,QAEF9R,KAAKpB,OAAS8Q,IAFZ,gBAGhB7P,IAAM8I,KAAK,sBAAuB,CAChC1I,MAAOqP,EACPvN,OAAQqN,EAAcM,KACrBoB,MAAK,WACNlI,MAAM,wHAPQ,uBAWPjK,EAAI,EAXG,YAWAA,EAAImT,EAAY9R,KAAKpB,QAXrB,kCAYRiB,IAAM8I,KAAK,4BAA6B,CAC5C7G,KAAM,QACN7B,MAAOqP,EACP/R,GAAIuU,EAAY9R,KAAKrB,GAAGsK,MAfZ,yBAiBSpJ,IAAMC,IAAN,6BAAgCgS,EAAY9R,KAAKrB,GAAGsK,MAjB7D,wBAiBNjJ,EAjBM,EAiBNA,KAjBM,UAkBRH,IAAM8I,KAAK,2BAA4B,CAC3C1I,MAAOqP,EACP7K,SAAUzE,EAAK,KApBH,QAW6BrB,IAX7B,2DAAH,qDA2BXoT,GAAU,uCAAG,kCAAAnS,EAAA,sEACQC,IAAMC,IAAN,gCAAmC4P,KAD3C,aACXsC,EADW,QAEFhS,KAAKpB,OAAS8Q,IAFZ,gBAGf7P,IAAM8I,KAAK,sBAAuB,CAChC1I,MAAOqP,EACPvN,OAAQqN,EAAcM,KACrBoB,MAAK,WACNlI,MAAM,wHAPO,uBAWNjK,EAAI,EAXE,YAWCA,EAAIqT,EAAWhS,KAAKpB,QAXrB,wBAYbiB,IAAM8I,KAAK,4BAA6B,CACtC7G,KAAM,OACN7B,MAAOqP,EACP/R,GAAIyU,EAAWhS,KAAKrB,GAAGsK,MAfZ,UAiBUpJ,IAAMC,IAAN,6BAAgCkS,EAAWhS,KAAKrB,GAAGsK,MAjB7D,wBAiBLjJ,EAjBK,EAiBLA,KAjBK,UAkBPH,IAAM8I,KAAK,2BAA4B,CAC3C1I,MAAOqP,EACP7K,SAAUzE,EAAK,KApBJ,QAW6BrB,IAX7B,mEAAH,qDA2BVsT,GAAc,uCAAG,kCAAArS,EAAA,sEACQC,IAAMC,IAAN,oCAAuC4P,KAD/C,aACfwC,EADe,QAEFlS,KAAKpB,OAAS8Q,IAFZ,gBAGnB7P,IAAM8I,KAAK,sBAAuB,CAChC1I,MAAOqP,EACPvN,OAAQqN,EAAcM,KACrBoB,MAAK,WACNlI,MAAM,wHAPW,uBAWVjK,EAAI,EAXM,YAWHA,EAAIuT,EAAelS,KAAKpB,QAXrB,kCAYXiB,IAAM8I,KAAK,4BAA6B,CAC5C7G,KAAM,WACN7B,MAAOqP,EACP/R,GAAI2U,EAAelS,KAAKrB,GAAGsK,MAfZ,yBAiBMpJ,IAAMC,IAAN,iCAAoCoS,EAAelS,KAAKrB,GAAGsK,MAjBjE,wBAiBTjJ,EAjBS,EAiBTA,KAjBS,UAkBXH,IAAM8I,KAAK,2BAA4B,CAC3C1I,MAAOqP,EACP7K,SAAUzE,EAAK,KApBA,QAW6BrB,IAX7B,mEAAH,qDA4BdwT,GAAW,uCAAG,kCAAAvS,EAAA,sEACQC,IAAMC,IAAN,iCAAoC4P,KAD5C,aACZ0C,EADY,QAEFpS,KAAKpB,OAAS8Q,IAFZ,gBAGhB7P,IAAM8I,KAAK,sBAAuB,CAChC1I,MAAOqP,EACPvN,OAAQqN,EAAcM,KACrBoB,MAAK,WACNlI,MAAM,wHAPQ,uBAWPjK,EAAI,EAXG,YAWAA,EAAIyT,EAAYpS,KAAKpB,QAXrB,kCAYRiB,IAAM8I,KAAK,4BAA6B,CAC5C7G,KAAM,QACN7B,MAAOqP,EACP/R,GAAI6U,EAAYpS,KAAKrB,GAAGsK,MAfZ,yBAiBSpJ,IAAMC,IAAN,qCAAwCsS,EAAYpS,KAAKrB,GAAGsK,MAjBrE,wBAiBNjJ,EAjBM,EAiBNA,KAjBM,UAkBRH,IAAM8I,KAAK,2BAA4B,CAC3C1I,MAAOqP,EACP7K,SAAUzE,EAAK,KApBH,QAW6BrB,IAX7B,mEAAH,qDA2BX0T,GAAY,uCAAG,kCAAAzS,EAAA,sEACQC,IAAMC,IAAN,kCAAqC4P,GAArC,YAA2DE,KADnE,aACb0C,EADa,QAEFtS,KAAKpB,OAAS8Q,IAFZ,gBAGjB7P,IAAM8I,KAAK,sBAAuB,CAChC1I,MAAOqP,EACPvN,OAAQqN,EAAcM,KACrBoB,MAAK,WACNlI,MAAM,wHAPS,uBAWRjK,EAAI,EAXI,YAWDA,EAAI2T,EAAatS,KAAKpB,QAXrB,kCAYTiB,IAAM8I,KAAK,4BAA6B,CAC5C7G,KAAM,SACN7B,MAAOqP,EACP/R,GAAI+U,EAAatS,KAAKrB,GAAGsK,MAfZ,yBAiBQpJ,IAAMC,IAAN,8BAAiCwS,EAAatS,KAAKrB,GAAGsK,MAjB9D,wBAiBPjJ,EAjBO,EAiBPA,KAjBO,UAmBTH,IAAM8I,KAAK,2BAA4B,CAC3C1I,MAAOqP,EACP7K,SAAUzE,EAAK,KArBF,QAW6BrB,IAX7B,mEAAH,qDA4BZ4T,GAAe,uCAAG,WAAOzQ,EAAMC,EAAQoE,GAArB,eAAAvG,EAAA,yDACtB6P,EAAoB3N,GACpB6N,GAAsB5N,GACtB8N,GAAiB1J,KACbpE,GAAUqN,GAJQ,wBAKpBhN,OAAOoQ,aAAaC,QAAQ,QAAS,GACrCrQ,OAAOoQ,aAAaC,QAAQ,QAASnD,GACrClN,OAAOoQ,aAAaC,QAAQ,OAAQ3Q,GACpCM,OAAOoQ,aAAaC,QAAQ,SAAUrD,GACtCsD,KACMC,EAAiBC,OAAOxD,EAAcrN,GAVxB,UAWdlC,IAAM8I,KAAK,sBAAuB,CAAE1I,MAAOqP,EAAWvN,OAAQ4Q,IAXhD,QAYpBtD,EAAesD,GAZK,wBAcpB/J,MAAM,gCAdc,4CAAH,0DAmBfiK,GAAS,uCAAG,4BAAAjT,EAAA,6DAChBwC,OAAOoQ,aAAaM,WAAW,SAC/B1Q,OAAOoQ,aAAaM,WAAW,SAC/B1Q,OAAOoQ,aAAaM,WAAW,QAC/B1Q,OAAOoQ,aAAaM,WAAW,UACzBH,EAAiBC,OAAOxD,EAAcM,IAL5B,SAMV7P,IAAM8I,KAAK,sBAAuB,CAAE1I,MAAOqP,EAAWvN,OAAQ4Q,IANpD,OAOhBvQ,OAAO2H,SAASC,SAPA,2CAAH,qDAWT0I,GAAa,WACjB,GAAsB,UAAlB1D,EAA2B,CAC7B,IAAM+D,GAAiB,IAAIhM,MAAOiM,mBAAmB,GAAI,CAAEC,OAAQ,YAC7DC,EAAiB,IAAK,IAAInM,MAAOiM,mBAAmB,GAAI,CAAEG,OAAQ,YACxE,GAAIP,OAAOG,GAAkB,GAE3BlE,EADqB,GAAKkE,QAGvB,GAAIH,OAAOG,GAAkB,GAAI,CAEpClE,EADqB,GAAKkE,QAGvB,GAAIH,OAAOG,GAAkB,GAAI,CAEpClE,EADqB,GAAKkE,QAGvB,GAAIH,OAAOG,GAAkB,GAAI,CAEpClE,EADqB,GAAKkE,GAG5BhE,EAAgBmE,QAIhBtK,MAAM,2CAIJwK,GAAY,uCAAG,4BAAAxT,EAAA,sDACbyT,EAAWvG,YAAW,sBAAC,4BAAAlN,EAAA,2DACvBgP,GAAgB,GADO,gBAEnBsE,EAAiB,IAAK,IAAInM,MAAOiM,mBAAmB,GAAI,CAAEG,OAAQ,YACxEpE,EAAgBmE,GAChBlG,cAAcqG,GAJW,4BAMlBzE,EAAe,GAAKE,EAAe,IANjB,oBAOzB9B,cAAcqG,GACdtE,EAAgB,GAChBF,EAAgB,GAChBzM,OAAOoQ,aAAaM,WAAW,SAC/B1Q,OAAOoQ,aAAaM,WAAW,SAC/B1Q,OAAOoQ,aAAaM,WAAW,QAC/B1Q,OAAOoQ,aAAaM,WAAW,UAC/BxB,GAAMgC,OACmB,WAArB9D,EAfqB,kCAgBjBmC,KAhBiB,WAmBA,UAArBnC,EAnBqB,kCAoBjBqC,KApBiB,WAsBA,SAArBrC,EAtBqB,kCAuBjBuC,KAvBiB,WAyBA,aAArBvC,EAzBqB,kCA0BjByC,KA1BiB,WA4BA,UAArBzC,EA5BqB,kCA6BjB2C,KA7BiB,WA+BA,WAArB3C,EA/BqB,kCAgCjB6C,KAhCiB,QAkCzBpB,KAlCyB,4CAoC1B,KACiB,KAAhBnC,GACFoC,WAAU,sBAAC,sBAAAtR,EAAA,sEACHiP,EAAgBD,EAAe,GAD5B,OAETG,EAAgB,MAFP,2CAGR,KA1Cc,2CAAH,qDA+CZwE,GAAW,uCAAG,WAAOC,GAAP,SAAA5T,EAAA,+EAEVC,IAAM8I,KAAK,oBAAqB,CACpC3L,UAAWwW,EACXvT,MAAOqP,IAJO,OAMhBlN,OAAOC,KAAP,oBAAyBiN,EAAzB,QAA0C,UAN1B,+CAQhB1F,QAAQC,IAAR,MARgB,gEAAH,sDAaXoH,GAAsB,WAC1BlB,IAAiB,GACjBmB,YAAW,WACTnB,IAAiB,KAChB,MAIL7N,qBAAU,WACa,MAAjB4M,GAAwC,GAAhBA,GAC1BsE,OAED,CAACtE,IAEJ5M,oBAAS,sBAAC,8BAAAtC,EAAA,sEACkBC,IAAMC,IAAI,qBAD5B,YACF2T,EADE,QAEQzT,KAFR,iCAGoBH,IAAMC,IAAN,4BAA+B2T,EAAYzT,KAAKiJ,MAHpE,OAGAmG,EAHA,OAIND,EAAkBsE,EAAYzT,KAAK0T,SACnCrE,EAAeD,EAAYpP,KAAKqJ,SAChCkG,EAAakE,EAAYzT,KAAKC,OAC9BgP,EAAiBwE,EAAYzT,KAAK8I,WAP5B,4CASP,IAGH5G,qBAAU,WACR,GAAsB,UAAlB8M,EAA2B,CAC7B,IAAM2E,EAAevR,OAAOoQ,aAAaoB,QAAQ,SAC3C3T,EAAQmC,OAAOoQ,aAAaoB,QAAQ,SAC1C,GAAoB,GAAhBD,GAAqB1T,IAAUqP,EAAW,CAC5C,IAAMvN,EAASK,OAAOoQ,aAAaoB,QAAQ,UAC9BxR,OAAOoQ,aAAaoB,QAAQ,QACzC/T,IAAM8I,KAAK,sBAAuB,CAChC1I,MAAOA,EACP8B,OAAQA,IAEP+O,MAAK,WACJ1O,OAAOoQ,aAAaC,QAAQ,QAAS,GACrCrQ,OAAOoQ,aAAaC,QAAQ,QAAS,IACrCrQ,OAAOoQ,aAAaC,QAAQ,OAAQ,IACpCrQ,OAAOoQ,aAAaC,QAAQ,SAAU,IACtC7J,MAAM,6GAIb,CAACoG,IAiDJ9M,qBAAU,WAER,IAKI+E,EADW,IAAIL,KAAKC,eAAe,GAJrB,CAChBC,SAAU,iBACVG,KAAM,YAGcnD,OAAO,IAAIiD,MAQ7B8M,EADW,IAAIjN,KAAKC,eAAe,GAJnB,CAClBC,SAAU,iBACVmM,OAAQ,YAGenP,OAAO,IAAIiD,MAEhCiJ,IACE4C,OAAO5C,GAAgBlR,MAAM,GAAI,OAAS8T,OAAO3L,IACnDiK,YAAW,WACTD,OACqD,IAAnD2B,OAAO5C,GAAgBlR,MAAM,GAAI,IAAM+U,GAAmB,MAGjE,CAAC7D,KAMJ9N,qBAAU,WACY,WAAhBhF,IACF4W,KAEkB,UAAhB5W,IACF6W,KAEkB,UAAhB7W,IACF8W,KAEkB,aAAhB9W,IACF+W,KAEkB,YAAhB/W,IACFgX,KAEkB,WAAhBhX,IACFiX,OAED,CAACjX,KAGJ,IAAM8W,GAAe,WACnB5R,OAAOC,KAAK,iGAAkG,WAG1G0R,GAAe,WACnB3R,OAAOC,KAAK,iGAAkG,WAG1GyR,GAAgB,WACpB1R,OAAOC,KAAK,qGAAsG,WAG9G4R,GAAkB,WACtB7R,OAAOC,KAAK,iGAAkG,WAG1G8R,GAAgB,WACpB/R,OAAOC,KAAK,8GAA+G,WAGvH6R,GAAiB,WACrB9R,OAAOC,KAAK,iGAAkG,WAKhH,OACE,sBAAKE,UAAW9F,EAAQN,KAAxB,UACE,cAAC4R,EAAA,EAAD,CACEtJ,SAAS,WACTjC,MAAO,CACL4H,IAAK,EAAGxG,OAAQ,QAASiC,OAAQ,OAAQpD,WAAY,OAAQ2R,gBAAiB,sBAAuBC,OAAQ,KAC7GC,iBAAkB,YAAaC,eAAgB,SAJnD,SAOE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAMpY,WAAS,EAACqY,WAAW,SAASC,QAAQ,SAAS7O,QAAS,EAA9D,UACqB,UAAlBkJ,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SACnD,eAAC/I,EAAA,EAAD,CAAYvG,QAAQ,KAAKhD,UAAW9F,EAAQiS,MAAOlM,MAAO,CAAEsC,MAAO,QAASL,SAAU,WAAYC,OAAQ,OAAQc,KAAM,SAAxH,mBACSwJ,OAGQ,UAAlBA,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SACnD,eAAC/I,EAAA,EAAD,CAAYvG,QAAQ,KAAKhD,UAAW9F,EAAQiS,MAAOlM,MAAO,CAAEsC,MAAO,QAASL,SAAU,WAAYC,OAAQ,QAA1G,mBACSsK,OAGQ,UAAlBA,GAAgD,IAAnBE,GAAwB,cAACuF,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAGrS,OAAK,GAAIiC,SAAU,YAAd,yBAAoC,YAApC,uBAAwD,QAAxD,GAA9B,SACpD,eAACqH,EAAA,EAAD,CAAYvG,QAAQ,KAAKhD,UAAW9F,EAAQiS,MAAOlM,MAAO,CAAEsC,MAAO,SAAnE,mBACSkK,OAGQ,UAAlBA,GAAgD,IAAnBE,GAAuC,OAAfqB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAGrS,OAAK,GAAIiC,SAAU,WAAYG,MAAO,QAAjC,yBAAmD,YAAnD,uBAAuE,QAAvE,GAA9B,SAC3E,eAACkH,EAAA,EAAD,CAAYvG,QAAQ,KAAKhD,UAAW9F,EAAQiS,MAAOlM,MAAO,CAAEsC,MAAO,SAAnE,UACGsK,EADH,gBAIiB,UAAlBJ,GAAgD,IAAnBE,GAAuC,OAAfqB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAGrS,OAAK,GAAIiC,SAAU,WAAYG,MAAO,QAAjC,yBAAmD,YAAnD,uBAAuE,QAAvE,GAA9B,SAC3E,eAACkH,EAAA,EAAD,CAAYvG,QAAQ,KAAKhD,UAAW9F,EAAQiS,MAAOlM,MAAO,CAAEsC,MAAO,QAASL,SAAU,WAAYe,KAAM,QAAxG,UACG4J,EADH,gBAIkB,IAAnBF,GAAwC,MAAhBN,GAAwC,MAAhBE,GAC/C,cAAC2F,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SACE,cAAC,EAAD,CAAkB1M,iBAAkB,SAACrG,EAAMC,EAAQoE,GAAf,OAA8BoM,GAAgBzQ,EAAMC,EAAQoE,QAEhF,IAAnB+I,GAAwC,MAAhBJ,GAAwB,cAAC2F,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC/C,cAACzP,EAAA,EAAD,CAAQG,QAAQ,YAAYT,MAAM,YAAYtC,MAAO,CAAEiC,SAAU,WAAYC,OAAQ,QACnFW,QAAS,kBAAMwN,MADjB,mCAMkB,IAAnB3D,GAA0C,UAAlBF,GAA6B,cAACyF,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SACpD,eAAC/I,EAAA,EAAD,CAAYvG,QAAQ,KAAKhD,UAAW9F,EAAQiS,MAAOlM,MAAO,CAAEsC,MAAO,QAASL,SAAU,WAAYC,OAAQ,QAA1G,oBACUkK,EADV,IACyBE,OAGP,IAAnBI,GAA0C,UAAlBF,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC3E,cAACzP,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UACNtC,MAAO,CAAEiC,SAAU,WAAYC,OAAQ,OAAQE,MAAO,QACtDS,QAAS,kBAAM6K,GAAQrR,KAAK,aAJ9B,2BASkB,IAAnBqQ,GAA0C,UAAlBF,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC3E,cAACzP,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UACNtC,MAAO,CAAEiC,SAAU,WAAYC,OAAQ,OAAQc,KAAM,QACrDH,QAAS,kBAAM6K,GAAQrR,KAAK,aAJ9B,2BASkB,IAAnBqQ,GAA0C,UAAlBF,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC3E,cAAC,IAAD,CAAMC,GAAG,WAAWtS,MAAO,CAAEuS,eAAgB,OAAQtQ,SAAU,WAAYC,OAAQ,OAAQE,MAAO,SAAlG,SACE,cAACQ,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UAFR,4BASgB,IAAnBoK,GAA0C,UAAlBF,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC3E,cAAC,IAAD,CAAMC,GAAG,WAAWtS,MAAO,CAAEuS,eAAgB,OAAQtQ,SAAU,WAAYC,OAAQ,QAAnF,SACE,cAACU,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UAFR,4BAUgB,IAAnBoK,GAAuC,OAAfqB,IAAyC,UAAlBvB,GAA6B,cAACyF,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC3E,cAAC,IAAD,CAAMC,GAAG,WAAWtS,MAAO,CAAEuS,eAAgB,OAAQtQ,SAAU,WAAYC,OAAQ,QAAnF,SACE,cAACU,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UAFR,4BAQgB,IAAnBoK,GAA0C,UAAlBF,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC2V,GAAI,EAAf,SAC3E,eAACrQ,EAAA,EAAD,CAAahC,MAAO,CAAEpG,MAAO,QAASqI,SAAU,WAAYG,MAAO,QAASF,OAAQ,QAApF,UACE,cAACG,EAAA,EAAD,CAAYrC,MAAO,CAAEpG,MAAO,QAAS0I,MAAO,SAA5C,+BACA,eAACC,EAAA,EAAD,CAAcvC,MAAO,CAAEpG,MAAO,SAC5BsH,MAAOxG,GACP8H,SAlKqB,SAAC,GAAgB,IAAdT,EAAa,EAAbA,OACtCpH,GAAeoH,EAAOb,QA+JV,UAIE,wBAAQb,aAAW,OAAOa,MAAM,KAChC,wBAAQA,MAAO,SAAf,4BACA,wBAAQA,MAAO,QAAf,oCACA,wBAAQA,MAAO,SAAf,4BACA,wBAAQA,MAAO,QAAf,2BACA,wBAAQA,MAAO,WAAf,8BACA,wBAAQA,MAAO,UAAf,qCAMc,IAAnBwL,GAAuC,OAAfqB,IAAyC,UAAlBvB,GAA6B,cAACyF,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC3E,cAAC,IAAD,CAAMC,GAAG,WAAWtS,MAAO,CAAEuS,eAAgB,OAAQ1K,WAAY,OAAQ5F,SAAU,WAAYC,OAAQ,QAAvG,SACE,cAACU,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UAFR,4BAQe,UAAlBkK,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SACnD,cAAC,IAAD,CAAMC,GAAG,SAAStS,MAAO,CAAEuS,eAAgB,OAAQtQ,SAAU,WAAYG,MAAO,QAAhF,SACE,cAACQ,EAAA,EAAD,CAAQG,QAAQ,YAAYT,MAAM,UAAUtC,MAAO,CAAEiC,SAAU,WAAYC,OAAQ,QAAnF,yBAKe,UAAlBsK,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SACnD,cAAC,IAAD,CAAMC,GAAG,SAAStS,MAAO,CAAEuS,eAAgB,OAAQtQ,SAAU,WAAYe,KAAM,QAA/E,SACE,cAACJ,EAAA,EAAD,CAAQG,QAAQ,YAAYT,MAAM,UAAUtC,MAAO,CAAEiC,SAAU,WAAYC,OAAQ,QAAnF,yBAKe,UAAlBsK,GAA6B,cAACyF,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC5B,cAAC,IAAD,CAAMC,GAAG,YAAYtS,MAAO,CAAEuS,eAAgB,OAAQtQ,SAAU,WAAYC,OAAQ,OAAQE,MAAO,QAAnG,SACE,cAACQ,EAAA,EAAD,CAAQG,QAAQ,YAAYT,MAAM,YAAlC,yBAMe,UAAlBkK,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SACnD,cAACzP,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,YACNtC,OAAK,GAAImB,SAAU,OAAQc,SAAU,YAAhC,yBAAsD,YAAtD,uBAA0E,QAA1E,sBAAyF,SAAzF,GACLY,QAAS,kBAAMoM,MAJjB,sBAUiB,UAAlBzC,GAA4C,OAAfuB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SACnD,cAACzP,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,YACNtC,OAAK,GAAImB,SAAU,OAAQc,SAAU,YAAhC,yBAAsD,YAAtD,uBAA0E,QAA1E,GACLY,QAAS,kBAAMoM,MAJjB,sBAWkB,IAAnBvC,GAAwB,cAACf,GAAD,IACL,IAAnBe,GAAuC,OAAfqB,IAAyC,UAAlBvB,GAA6B,cAACyF,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC3E,qBACEG,IAAK,YACLxS,MAAO,CACLpG,MAAO,QAASiY,OAAQ,KAAM5P,SAAU,WAAYC,OAAQ,OAAQE,MAAO,YAK7D,IAAnBsK,GAAuC,OAAfqB,IAAyC,UAAlBvB,GAA6B,cAACyF,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC3E,qBACEG,IAAK,YACLxS,MAAO,CACLpG,MAAO,QAASiY,OAAQ,KAAM5P,SAAU,WAAYC,OAAQ,OAAQE,MAAO,mBAQnE,IAAnBsK,GACC,cAAC,EAAD,CACEvN,aAAc,SAACsT,GAAD,OAlUC,SAACA,GAEtB,IAAIC,EAAO,aACTpO,SAAU,iBACVqO,IAAK,UAAWC,MAAO,UAAWC,KAAM,WAF/B,MAE+C,WAGtDC,EADU,IAAI1O,KAAKC,eAAe,GAAIqO,GACpBpR,OAAO,IAAIiD,MAAQwO,QAAQ,OAAQ,KAErDC,EAAqB,GAGzBP,EAAc7V,KAAI,SAACqK,GACbA,EAAK3K,MAAM,EAAG,MAAQwW,GACxBE,EAAmB3W,KAAK4K,MAI5B,IAAMgM,EAAmBD,EAAmB1U,MAAK,SAAClB,EAAGmB,GACnD,OAAOnB,EAAEd,MAAM,IAAIyW,QAAQ,IAAK,IAAMxU,EAAEjC,MAAM,IAAIyW,QAAQ,IAAK,OAS7DtO,EADW,IAAIL,KAAKC,eAAe,GAJrB,CAChBC,SAAU,iBACVG,KAAM,YAGcnD,OAAO,IAAIiD,MAO7B8M,EADW,IAAIjN,KAAKC,eAAe,GAJnB,CAClBC,SAAU,iBACVmM,OAAQ,YAGenP,OAAO,IAAIiD,MAE9B2O,EAAgBD,EAAiBxW,QAAO,SAAAwK,GAAI,OAAImJ,OAAOnJ,EAAK3K,MAAM,GAAI,MAAQmI,GAAQ2L,OAAOnJ,EAAK3K,MAAM,GAAI,MAAQ+U,KAC1H5D,GAAmByF,EAAc,IA4RMC,CAAeV,IAChD9S,SAAU2N,GACVxK,SAAU,SAACkO,GAAD,OAAoBD,GAAYC,MAE1B,IAAnBtE,GAAuC,OAAfqB,IAAuB,cAACkE,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,EAAGC,GAAI,EAAtB,SAC9C,qBACEG,IAAK,YACLxS,MAAO,CAAEpG,MAAO,QAASiY,OAAQ,KAAM5P,SAAU,WAAYC,OAAQ,IAAK0F,IAAK,OAAQ5E,KAAM,WAG9E,UAAlBwJ,GAA6B,oBAAIxM,MAAO,CAAEW,UAAW,UAAxB,4CAGX,UAAlB6L,GAA6B,oBAAIxM,MAAO,CAAEW,UAAW,UAAxB,sD,0FC35BpC,SAASyS,KACP,OACE,eAAC9J,EAAA,EAAD,CAAYvG,QAAQ,QAAQT,MAAM,gBAAgB5B,MAAM,SAAxD,UACG,kBACD,cAAC2S,GAAA,EAAD,CAAM/Q,MAAM,UAAUgR,KAAK,gCAA3B,8BAEQ,KACP,IAAI/O,MAAOgP,cACX,OAKP,IAAM9Z,GAAYC,aAAW,SAACuJ,GAAD,MAAY,CACvCmI,MAAO,CACLoI,UAAWvQ,EAAMK,QAAQ,GACzBJ,QAAS,OACTuQ,cAAe,SACfvB,WAAY,UAEdwB,OAAQ,CACNrQ,OAAQJ,EAAMK,QAAQ,GACtB1C,gBAAiBqC,EAAMiI,QAAQyI,UAAUC,MAE3CC,KAAM,CACJja,MAAO,OACP4Z,UAAWvQ,EAAMK,QAAQ,IAE3BwQ,OAAQ,CACNzQ,OAAQJ,EAAMK,QAAQ,EAAG,EAAG,QAIjB,SAASyQ,KACtB,IAAM9Z,EAAUR,KADc,EAEEU,mBAAS,IAFX,mBAEvB6Z,EAFuB,KAEbC,EAFa,OAGE9Z,mBAAS,IAHX,mBAGvB+Z,EAHuB,KAGbC,EAHa,KAIxBzG,EAAUC,cAGVyG,EAAW,uCAAG,WAAOlF,GAAP,SAAA9R,EAAA,+EAEIC,IAAM8I,KAAK,cAAe,CAC5CkO,SAAUL,EACVE,SAAUA,IAJI,cAMlBxG,EAAQrR,KAAK,KANK,gDAQhB+J,MAAM,8BARU,iEAAH,sDAgBjB,OAJA1G,qBAAU,eAKR,qBAAKK,UAAU,gBAAf,SACE,eAACuU,GAAA,EAAD,CAAW7S,UAAU,OAAO8S,SAAS,KAAKvU,MAAO,CAACY,gBAAiB,SAAnE,UACE,cAAC4T,GAAA,EAAD,IACA,sBAAKzU,UAAW9F,EAAQmR,MAAxB,UACE,cAACqJ,GAAA,EAAD,CAAQ1U,UAAW9F,EAAQyZ,OAA3B,SACE,cAAC,KAAD,MAEF,cAACpK,EAAA,EAAD,CAAY7H,UAAU,KAAKsB,QAAQ,KAAnC,qBAGA,sBAAKhD,UAAW9F,EAAQ4Z,KAAMa,YAAU,EAAxC,UACE,cAAC3M,EAAA,EAAD,CACEhF,QAAQ,WACRM,OAAO,SACPsR,UAAQ,EACRC,WAAS,EACT7Z,GAAG,QACHC,MAAM,gBACN0O,KAAK,QACLmL,aAAa,QACbC,WAAS,EACTtS,SAAU,gBAAWtB,EAAX,EAAEa,OAASb,MAAX,OAAuB+S,EAAY/S,MAE/C,cAAC6G,EAAA,EAAD,CACEhF,QAAQ,WACRM,OAAO,SACPsR,UAAQ,EACRC,WAAS,EACTlL,KAAK,WACL1O,MAAM,WACNsE,KAAK,WACLvE,GAAG,WACH8Z,aAAa,mBACbrS,SAAU,gBAAWtB,EAAX,EAAEa,OAASb,MAAX,OAAuBiT,EAAYjT,MAE/C,cAAC0B,EAAA,EAAD,CACEtD,KAAK,SACLsV,WAAS,EACT7R,QAAQ,YACRT,MAAM,UACNvC,UAAW9F,EAAQ6Z,OACnBjR,QAAS,kBAAMuR,KANjB,qBAUA,cAACnC,EAAA,EAAD,CAAMpY,WAAS,EAAf,SACE,cAACoY,EAAA,EAAD,CAAMvV,MAAI,EAAV,SACE,cAAC2W,GAAA,EAAD,CAAMC,KAAK,YAAYvQ,QAAQ,QAAQ/C,MAAO,CAACiC,SAAU,WAAYe,KAAM,QAA3E,SACG,6CAMX,uBACA,cAACoQ,GAAD,IACA,oBAAIpT,MAAO,CAACW,UAAW,UAAvB,SACE,oBAAG2S,KAAK,4BAAR,sCAA6D,cAAC,KAAD,IAA7D,uBAEA,qBACEd,IAAK,YACLxS,MAAO,CAACpG,MAAO,QAASsJ,QAAS,QAAS2E,WAAY,OAAQC,YAAa,OAAO7F,SAAU,WAAaC,OAAQ,MAAO2P,OAAQ,a,oDCnHtIpY,I,OAAYC,aAAW,SAACuJ,GAAD,MAAY,CACvCmI,MAAO,CACLoI,UAAWvQ,EAAMK,QAAQ,GACzBJ,QAAS,OACTuQ,cAAe,SACfvB,WAAY,UAEdwB,OAAQ,CACNrQ,OAAQJ,EAAMK,QAAQ,GACtB1C,gBAAiBqC,EAAMiI,QAAQyI,UAAUC,MAE3CC,KAAM,CACJja,MAAO,OACP4Z,UAAWvQ,EAAMK,QAAQ,IAE3BwQ,OAAQ,CACNzQ,OAAQJ,EAAMK,QAAQ,EAAG,EAAG,SAIjB,SAASyR,KACtB,IAAM9a,EAAUR,KADiB,EAECU,qBAFD,mBAE1BmM,EAF0B,KAEf0O,EAFe,OAGD7a,qBAHC,mBAG1BuM,EAH0B,KAGhBuO,EAHgB,OAIP9a,qBAJO,mBAI1BsD,EAJ0B,KAInByX,EAJmB,OAKD/a,qBALC,mBAK1B+Z,EAL0B,KAKhBC,EALgB,OAMDha,oBAAS,GANR,mBAM1Bgb,EAN0B,KAMhBC,EANgB,OAOCjb,oBAAS,GAPV,mBAO1Bkb,EAP0B,KAOfC,EAPe,OAQKnb,qBARL,mBAQ1Bob,EAR0B,KAQbC,EARa,OASKrb,qBATL,mBAS1Bsb,EAT0B,KASbC,EATa,OAUCvb,oBAAS,GAVV,mBAU1Bwb,EAV0B,KAUfC,EAVe,KAW3BlI,EAAUC,cAEVkI,EAAc,uCAAG,WAAO3G,GAAP,eAAA9R,EAAA,mEAEF,IAAb+X,EAFe,qBAGC,IAAdE,EAHa,oBAIHI,IAAgBvB,EAJb,qBAKG,IAAdyB,EALW,iCAMQtY,IAAM8I,KAAK,eAAgB,CAC9CG,UAAWA,EACXI,SAAUA,EACVC,MAAO4O,EACP9X,MAAOA,EACPyW,SAAUA,IAXC,cAMP4B,EANO,iBAaPzY,IAAM8I,KAAK,gCAAiC,CAChD1I,MAAOA,EACP4W,SAAU5W,EACVyW,SAAUA,IAhBC,QAkBb9N,MAAM0P,EAAOtY,KAAKgM,SACU,SAAxBsM,EAAOtY,KAAKuY,SACdrI,EAAQrR,KAAK,UApBF,wBAuBb+J,MAAM,sBAvBO,gCA0BfA,MAAM,4BA1BS,gCA6BjBA,MAAM,qDA7BW,gCAgCjBA,MAAM,6CAhCW,0DAmCnBA,MAAM,wBAnCa,kEAAH,sDAgDpB,OATA1G,qBAAU,YAC4B,IAAhCR,OAAOzB,GAAO+I,SAAS,KACzBoP,GAAa,GAGbA,GAAa,KAEd,CAACnY,IAGF,qBAAKsC,UAAU,gBAAf,SACE,eAACuU,GAAA,EAAD,CAAW7S,UAAU,OAAO8S,SAAS,KAArC,UACE,cAACC,GAAA,EAAD,IACA,sBAAKzU,UAAW9F,EAAQmR,MAAxB,UACE,cAAC9B,EAAA,EAAD,CAAY7H,UAAU,KAAKsB,QAAQ,KAAnC,qBAGA,sBAAKhD,UAAW9F,EAAQ4Z,KAAMa,YAAU,EAAxC,UACE,eAACzC,EAAA,EAAD,CAAMpY,WAAS,EAACyJ,QAAS,EAAzB,UACE,cAAC2O,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAIC,GAAI,EAAvB,SACE,cAACtK,EAAA,EAAD,CACE8M,aAAa,QACbnL,KAAK,YACL3G,QAAQ,WACR4R,UAAQ,EACRC,WAAS,EACT7Z,GAAG,YACHC,MAAM,aACN8Z,WAAS,EACTtS,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2B8T,EAAa9T,QAGtD,cAAC+Q,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAIC,GAAI,EAAvB,SACE,cAACtK,EAAA,EAAD,CACEhF,QAAQ,WACR4R,UAAQ,EACRC,WAAS,EACT7Z,GAAG,WACHC,MAAM,YACN0O,KAAK,WACLlH,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2B+T,EAAY/T,QAGrD,cAAC+Q,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAACrK,EAAA,EAAD,CACEhF,QAAQ,WACR4R,UAAQ,EACRC,WAAS,EACT7Z,GAAG,QACHC,MAAM,gBACN0O,KAAK,QACLlH,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2BgU,EAAShU,QAGlD,cAAC+Q,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAACrK,EAAA,EAAD,CACEhF,QAAQ,WACR4R,UAAQ,EACRC,WAAS,EACTlL,KAAK,WACL1O,MAAM,WACNsE,KAAK,WACLvE,GAAG,WACHyH,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2BwU,EAAexU,QAGxD,cAAC+Q,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAACrK,EAAA,EAAD,CACEhF,QAAQ,WACR4R,UAAQ,EACRC,WAAS,EACTlL,KAAK,UACL1O,MAAM,mBACNsE,KAAK,WACLvE,GAAG,UACHyH,SAAU,gBAAatB,EAAb,EAAGa,OAAUb,MAAb,OAA2BiT,EAAYjT,QAGrD,cAAC+Q,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAAC,KAAD,CACEpS,MAAO,CACLiC,SAAU,WACVoB,OAAQ,OACRzJ,MAAO,SAEToc,QAAS,KACTxT,SAAU,SAACmE,GAAD,OAAW6O,EAAe7O,QAGxC,cAACsL,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAAC6D,GAAA,EAAD,CACEC,QAAS,cAACC,GAAA,EAAD,CAAUjV,MAAM,QAAQoB,MAAM,YACvCtH,MAAM,4EACN6H,QAAS,kBAAyBuS,EAAP,GAAZD,QAGnB,cAAClD,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAAC6D,GAAA,EAAD,CACEC,QAAS,cAACC,GAAA,EAAD,CAAUjV,MAAM,QAAQoB,MAAM,YACvCtH,MAAM,yBACN6H,QAAS,kBAA0ByS,EAAP,GAAbD,WAIrB,cAACzS,EAAA,EAAD,CACEtD,KAAK,SACLsV,WAAS,EACT7R,QAAQ,YACRT,MAAM,UACNvC,UAAW9F,EAAQ6Z,OACnBjR,QAAS,kBAAMgT,KANjB,qBAUA,eAAC5D,EAAA,EAAD,CAAMpY,WAAS,EAACsY,QAAQ,SAAxB,UACE,cAACF,EAAA,EAAD,CAAMvV,MAAI,EAAE0Z,GAAI,EAAhB,SACI,cAAC/C,GAAA,EAAD,CAAMrT,MAAO,CAACsC,MAAO,QAAS+T,WAAY,QAAS/C,KAAK,uFAAxD,iCAEJ,cAACrB,EAAA,EAAD,CAAMvV,MAAI,EAAC0Z,GAAI,EAAf,SACI,cAAC/C,GAAA,EAAD,CAAMrT,MAAO,CAACsC,MAAO,QAAS+T,WAAY,QAAS/C,KAAK,uFAAxD,8BAEJ,cAACrB,EAAA,EAAD,CAAMvV,MAAI,EAAC0Z,GAAI,EAAf,SACI,cAAC/C,GAAA,EAAD,CAAMrT,MAAO,CAACsC,MAAO,QAAS+T,WAAY,QAAS/C,KAAK,uFAAxD,0BAGJ,uBACA,uBAEA,cAACrB,EAAA,EAAD,CAAMvV,MAAI,EAAV,SACE,cAAC2W,GAAA,EAAD,CAAMC,KAAK,SAASvQ,QAAQ,QAAQ/C,MAAO,CAACsC,MAAO,QAAS+T,WAAY,QAAxE,yDAOR,oBAAIrW,MAAO,CAAEW,UAAW,SAAUsB,SAAU,WAAYC,OAAQ,QAAhE,SACG,oBAAGoR,KAAK,4BAA4BtT,MAAO,CAACsC,MAAO,SAAnD,qCAAqF,cAAC,KAAD,IAArF,uBAEH,cAAC2P,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,qBACEI,IAAK,YACLxS,MAAO,CAAEpG,MAAO,QAASsJ,QAAS,QAAS2E,WAAY,OAAQC,YAAa,OAAQwO,MAAO,e,gCC7NjG7c,GAAYC,aAAW,SAACuJ,GAAD,MAAY,CACvCtJ,KAAM,CACJ,uBAAwB,CACtB0J,OAAQJ,EAAMK,QAAQ,GACtB1J,MAAO,aAKE,SAAS2c,KACtB,IAAMtc,EAAUR,KADoB,EAEJS,IAAMC,SAAS,IAFX,mBAE7B0O,EAF6B,KAEnB2N,EAFmB,OAGVtc,IAAMC,SAAS,IAHL,mBAG7BsD,EAH6B,KAGtByX,EAHsB,OAINhb,IAAMC,SAAS,IAJT,mBAI7BqP,EAJ6B,KAIpBiN,EAJoB,KAkB9BC,EAAS,uCAAG,WAAO7N,EAAUpL,EAAO+L,GAAxB,SAAApM,EAAA,+EAERC,IAAM8I,KAAK,eAAgB,CAC/B0C,WACApL,QACA+L,YALY,OAOdpD,MAAM,2CACN8O,EAAS,IACTsB,EAAY,IACZC,EAAW,IAVG,gDAYdrQ,MAAM,yCAZQ,iEAAH,0DAgBf,OACE,sBAAKrG,UAAW9F,EAAQN,KAAxB,UACE,cAACsY,EAAA,EAAD,CAAMpY,WAAS,EAACsY,QAAQ,SAASD,WAAW,SAA5C,SACE,sBAAKlS,MAAO,CAAEW,UAAW,UAAzB,UACE,sBAAMZ,UAAU,SAASC,MAAO,CAAEmB,SAAU,OAAQc,SAAU,WAAY2F,IAAK,QAA/E,wBACA,uBACA,uBACA,sBAAM7H,UAAU,UAAUC,MAAO,CAAEmB,SAAU,OAAQc,SAAU,WAAY2F,IAAK,QAAhF,gCACA,uBACA,uBACA,sBAAM7H,UAAU,UAAUC,MAAO,CAAEmB,SAAU,OAAQc,SAAU,WAAY2F,IAAK,QAAhF,mFAGJ,eAACqK,EAAA,EAAD,CAAMpY,WAAS,EAACsY,QAAQ,aAAaD,WAAW,SAASyE,UAAU,MAAnE,UACE,qBAAK3W,MAAO,CAAEpG,MAAO,MAAOgd,aAAc,SAA1C,SACE,eAAC3E,EAAA,EAAD,CAAMpY,WAAS,EAACsY,QAAQ,SAASD,WAAW,WAAWyE,UAAU,SAAjE,UACE,cAAC1E,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAACrK,EAAA,EAAD,CACE/H,MAAO,CACLiC,SAAU,WACV2F,IAAK,OACLhO,MAAO,SAETmB,GAAG,WACHC,MAAM,iBACNkG,MAAO2H,EACPb,YAAY,wBACZxF,SAAU,mBAvDC,SAACqG,GACxB2N,EAAY3N,GAsDqCgO,CAA3B,EAAG9U,OAAUb,QACvB6B,QAAQ,eAGZ,cAACkP,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAACrK,EAAA,EAAD,CACE/H,MAAO,CACLiC,SAAU,WACV2F,IAAK,OACLhO,MAAO,SAETsH,MAAOzD,EACP1C,GAAG,QACHC,MAAM,qBACNgN,YAAY,uCACZjF,QAAQ,WACRP,SAAU,mBAnEE,SAAC/E,GACzByX,EAASzX,GAkEwCqZ,CAA3B,EAAG/U,OAAUb,YAG3B,cAAC+Q,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAACrK,EAAA,EAAD,CACE/H,MAAO,CACLiC,SAAU,WACV2F,IAAK,OACLhO,MAAO,SAETmB,GAAG,UACHC,MAAM,eACN+b,WAAS,EACT7V,MAAOsI,EACP/K,KAAM,GACNuJ,YAAY,gEACZjF,QAAQ,WACRP,SAAU,mBAhFI,SAACgH,GAC3BiN,EAAWjN,GA+EsCwN,CAA3B,EAAGjV,OAAUb,YAG3B,cAAC+Q,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAf,SACE,cAACxP,EAAA,EAAD,CACEG,QAAQ,YACRT,MAAM,UACNtC,MAAO,CACLiC,SAAU,WACV2F,IAAK,OACLhO,MAAO,QACPoJ,KAAM,OAERH,QAAS,kBAAM6T,EAAU7N,EAAUpL,EAAO+L,IAT5C,SAWE,sBAAMzJ,UAAU,SAAhB,iCAKR,eAACkS,EAAA,EAAD,CAAMvV,MAAI,EAAC0V,GAAI,GAAIC,GAAI,EAAvB,UACE,qBAAKrS,MAAO,CAAEqD,OAAQ,SAAUzJ,MAAO,OAAQqI,SAAU,WAAYC,OAAQ,QAA7E,SACE,eAAC+P,EAAA,EAAD,CAAMpY,WAAS,EAACsY,QAAQ,WAAWD,WAAW,SAASyE,UAAU,SAAjE,UAaE,oBAAGrD,KAAK,4BACNvR,OAAO,SACPkV,IAAI,aACJjX,MAAO,CAAEsC,MAAO,SAHlB,UAKE,cAAC,KAAD,CAActC,MAAO,CAAEmB,SAAU,OAAQc,SAAU,WAAY2F,IAAK,OAAQxF,MAAO,OAAQE,MAAO,WAClG,sBAAMvC,UAAU,UAAUC,MAAO,CAAEmB,SAAU,OAAQc,SAAU,WAAYG,MAAO,QAAlF,2BAIF,oBAAGkR,KAAK,6GACNvR,OAAO,SACPkV,IAAI,aACJjX,MAAO,CAAEsC,MAAO,SAHlB,UAKE,cAAC,KAAD,CAAWtC,MAAO,CAAEmB,SAAU,OAAQc,SAAU,WAAY2F,IAAK,OAAQxF,MAAO,OAAQE,MAAO,UAC/F,sBAAMvC,UAAU,UAAUC,MAAO,CAAEmB,SAAU,OAAQc,SAAU,WAAYG,MAAO,QAAlF,mCAMN,qBAEEoQ,IAAK,YACL0E,IAAI,OACJlX,MAAO,CAAEpG,MAAO,QAASqI,SAAU,WAAYE,MAAO,QAAS0P,OAAQ,KAAM3P,OAAQ,mBC1KlF,SAASiV,KACtB,IAAMC,EAASC,mBADgB,EAEOld,mBAAS,IAFhB,mBAExB8W,EAFwB,KAEXqG,EAFW,KAGzB5J,EAAUC,cA0GhB,OAvGAjO,oBAAS,sBAAC,4BAAAtC,EAAA,sEACkBC,IAAMC,IAAI,qBAD5B,OAEsB,WADxB2T,EADE,QAEQ3K,WACdoH,EAAQrR,KAAK,KAEfib,EAAerG,EAAYzT,MAC3BoC,OAAOwX,OACJG,QAAQ,CACPC,YAAa,SAACha,EAAMia,EAASC,GAC3B,OAAOD,EAAQE,MAAMC,OAAO,CAC1BC,OAAQ,UACRC,eAAgB,CACd,CACEC,YAAa,4BACbxY,OAAQ,CACNyY,cAAe,MACf9W,MAAO,SAOjB+W,UAAU,WAAD,4BAAE,WAAOza,EAAMia,GAAb,mBAAAra,EAAA,sEACiBC,IAAMC,IAAI,qBAD3B,cACH2T,EADG,gBAEkB5T,IAAMC,IAAN,4BAA+B2T,EAAYzT,KAAKiJ,MAFlE,cAEHyR,EAFG,OAGH/H,EAAiB+H,EAAa1a,KAAKqJ,QAAU,GAH1C,SAIgBxJ,IAAM8I,KAAK,sBAAuB,CACzD1I,MAAOwT,EAAYzT,KAAKC,MACxB8B,OAAQ4Q,IAND,0DAAF,qDAAC,GASVgI,QAAS,SAACT,GACRtQ,QAAQC,IAAIqQ,MAGfU,OAAOhB,EAAOiB,SAEjBzY,OAAOwX,OACJG,QAAQ,CACPC,YAAa,SAACha,EAAMia,EAASC,GAC3B,OAAOD,EAAQE,MAAMC,OAAO,CAC1BC,OAAQ,UACRC,eAAgB,CACd,CACEC,YAAa,4BACbxY,OAAQ,CACNyY,cAAe,MACf9W,MAAO,SAOjB+W,UAAU,WAAD,4BAAE,WAAOza,EAAMia,GAAb,mBAAAra,EAAA,sEACiBC,IAAMC,IAAI,qBAD3B,cACH2T,EADG,gBAEkB5T,IAAMC,IAAN,4BAA+B2T,EAAYzT,KAAKiJ,MAFlE,cAEHyR,EAFG,OAGH/H,EAAiB+H,EAAa1a,KAAKqJ,QAAU,GAH1C,SAIgBxJ,IAAM8I,KAAK,sBAAuB,CACzD1I,MAAOwT,EAAYzT,KAAKC,MACxB8B,OAAQ4Q,IAND,0DAAF,qDAAC,GASVgI,QAAS,SAACT,GACRtQ,QAAQC,IAAIqQ,MAGfU,OAAOhB,EAAOiB,SAEjBzY,OAAOwX,OACJG,QAAQ,CACPC,YAAa,SAACha,EAAMia,EAASC,GAC3B,OAAOD,EAAQE,MAAMC,OAAO,CAC1BC,OAAQ,UACRC,eAAgB,CACd,CACEC,YAAa,4BACbxY,OAAQ,CACNyY,cAAe,MACf9W,MAAO,SAOjB+W,UAAU,WAAD,4BAAE,WAAOza,EAAMia,GAAb,mBAAAra,EAAA,sEACiBC,IAAMC,IAAI,qBAD3B,cACH2T,EADG,gBAEkB5T,IAAMC,IAAN,4BAA+B2T,EAAYzT,KAAKiJ,MAFlE,cAEHyR,EAFG,OAGH/H,EAAiB+H,EAAa1a,KAAKqJ,QAAU,GAH1C,SAIgBxJ,IAAM8I,KAAK,sBAAuB,CACzD1I,MAAOwT,EAAYzT,KAAKC,MACxB8B,OAAQ4Q,IAND,0DAAF,qDAAC,GASVgI,QAAS,SAACT,GACRtQ,QAAQC,IAAIqQ,MAGfU,OAAOhB,EAAOiB,SApGT,2CAqGP,IAGD,sBAAKrY,MAAO,CAAEW,UAAW,UAAzB,UACE,oBAAIX,MAAO,CAAEmB,SAAU,QAAvB,yBACA,wCACS8P,EAAY3K,UADrB,iCAEO,uBAFP,yEAIQ,uBAJR,2EAOA,sBAAKtG,MAAO,CAAEpG,MAAO,QAASwH,OAAQ,QAASR,gBAAiB,YAAayC,OAAQ,QAArF,UACE,qBAAIrD,MAAO,CAAEiC,SAAU,WAAY2F,IAAK,OAAQC,WAAY,OAAQ1F,MAAO,QAA3E,0BAAmG,uBAAnG,UAAkH,uBAAlH,mBACA,qBAAInC,MAAO,CAAEiC,SAAU,WAAYC,OAAQ,MAAO4F,YAAa,QAAS3F,MAAO,QAA/E,wBAAqG,uBAArG,YAAsH,uBAAtH,kBACA,qBAAInC,MAAO,CAAEiC,SAAU,WAAYE,MAAO,OAAQD,OAAQ,QAA1D,4BAAoF,uBAApF,WAAoG,uBAApG,sBAEF,qBAAKoW,IAAKlB,EAAQpX,MAAO,CAAEpG,MAAO,OAAQyJ,OAAQ,OAAQpB,SAAU,WAAYe,KAAM,OAAQd,OAAQ,cCnG7FqW,OAhBf,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,SAAS/W,UAAWsS,KAChC,cAAC,IAAD,CAAOyE,KAAK,YAAY/W,UAAWsT,KACnC,cAAC,IAAD,CAAOyD,KAAK,WAAW/W,UAAWgX,KAClC,cAAC,IAAD,CAAOD,KAAK,WAAW/W,UAAWiX,KAClC,cAAC,IAAD,CAAOF,KAAK,IAAI/W,UAAW0K,WCXpBwM,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBvK,MAAK,YAAkD,IAA/CwK,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASf,OACP,cAAC,IAAMgB,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BX,O","file":"static/js/main.d2398382.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './PositionsTable.css';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Button from '@material-ui/core/Button';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport alertify from 'alertifyjs';\r\nimport 'alertifyjs/build/css/alertify.css';\r\nimport 'alertifyjs/build/css/themes/default.css'\r\n\r\n\r\nconst useStyles = makeStyles({ //יצירת סטיילינג\r\n  root: { //דיב רוט \r\n    width: '100%',\r\n  },\r\n  container: { // דיב חיצוני ביותר\r\n    maxHeight: 800,\r\n  },\r\n});\r\n\r\nexport default function StickyHeadTable(props) { //הפונקציה של הטבלה\r\n  const classes = useStyles(); //שימוש בסטיילינג לפי קלאסים\r\n  const [page, setPage] = React.useState(0); //סטייט של הפאג'ינציה (עמודים)\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(11); //כמות שורות פר עמוד\r\n  const [positions, setPositions] = React.useState([]);\r\n  const [openSymbols, setOpenSymbols] = React.useState('');\r\n  const [trackRecord, setTrackRecord] = React.useState('');\r\n\r\n  const handleAvailableSymbolsChange = ({ target }) => {\r\n    setOpenSymbols(target.value);\r\n  };\r\n\r\n\r\n  const bondsSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/d/1VZOFoAPhfIigwNSD8j4SjM3VXvJI17uKasW-KH-hjvk/edit#gid=0\", '_blank')\r\n  }\r\n\r\n  const pairsSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/d/13WBfVqtgm1lpx230yJyvFVxzgGzOwm96BRDtXTq_dMY/edit#gid=0\", '_blank')\r\n  }\r\n\r\n  const cryptoSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/u/2/d/1AXKooJnZS8j5HoZVLdmls8jh1B9SN7Xyw7EVzClqRW4/edit#gid=0\", '_blank')\r\n  }\r\n\r\n  const comoditySymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/d/1qQSdmshVsYaP_fvwwDx27UlZBe_R57-R8ixmHtqceTU/edit#gid=0\", '_blank')\r\n  }\r\n\r\n  const stocksSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/u/2/d/1DmFY6gaN8xzYpNCVg6nOE9xpm05zqKQ97vPzXuZ6Dj0/edit#gid=1238020137\", '_blank')\r\n  }\r\n\r\n  const indexesSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/d/1pN6EFAZOOcmH_34fO1IzlSlEHX6lle3qB4xAYiBjFE8/edit#gid=0\", '_blank')\r\n  }\r\n\r\n\r\n  const columns = [  // עמודות לטבלה הראשית\r\n    {\r\n      id: 'Num',\r\n      label: 'Num',\r\n      minWidth: 50\r\n    },\r\n    {\r\n      id: 'Symbol',\r\n      label: 'Symbol',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'Operation',\r\n      label: 'Operation',\r\n      minWidth: 50\r\n    },\r\n    {\r\n      id: 'StartDate',\r\n      label: 'Start Date',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'EndDate',\r\n      label: 'End Date',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'StartPrice',\r\n      label: 'Start Price',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'EndPrice',\r\n      label: 'End Price',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'tp',\r\n      label: 'TP',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'sp',\r\n      label: 'SP',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'succeeded',\r\n      label: 'Succeeded',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'PipsesCents',\r\n      label: 'Pipses/Cents',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'Precent',\r\n      label: 'Success rate (per page)',\r\n      minWidth: 50,\r\n    },\r\n  ];\r\n\r\n  function createData( //פונקציה המייצרת דאטא חדש לטבלה\r\n    Num,\r\n    Symbol,\r\n    Operation,\r\n    StartDate,\r\n    EndDate,\r\n    StartPrice,\r\n    EndPrice,\r\n    tp,\r\n    sp,\r\n    succeeded,\r\n    PipsesCents,\r\n    Precent\r\n  ) {\r\n    return { Num, Symbol, Operation, StartDate, EndDate, StartPrice, EndPrice, tp, sp, succeeded, PipsesCents, Precent };\r\n  }\r\n\r\n\r\n  const handleChangePage = (event, newPage) => { //פונקציה לשינוי עמוד\r\n    setPage(newPage); //שינוי הסטייט לעמוד חדש\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => { //אפשרות למשתמש לשנות את מספר השורות בעמוד (כרגע מבוטל)\r\n    setRowsPerPage(+event.target.value); //המספר שהמשתמש בחר\r\n    setPage(0);\r\n  };\r\n\r\n  // פונקציה שמוסיפה אחוזי הצלחה בראש כל עמוד + משנה ערכים שהם אנדיפיינד\r\n  const addSuccessRate = (arr) => {\r\n    let arrays = [];\r\n    const size = 10;\r\n    let ratesArray = [];\r\n    // חותך את המערך לצ'אנקים של 10 או פחות\r\n    for (let i = 0; i < arr.length; i += size) {\r\n      arrays.push(arr.slice(i, i + size));\r\n    }\r\n    //לולאת פור איצ\r\n    arrays.forEach(chunk => {\r\n      //מוצא את מספר הפוזיציות שהצליחו\r\n      let succeeded = chunk.filter(item => item.succeeded === 'true').length;\r\n      // מוצא את מספר הפוזיציות שעדיין לא נסגרו\r\n      let unClosedPositions = 0;\r\n      chunk.map((item) => {\r\n        if (item.succeeded === 'undefined') { //במידה וסוקסידד אנדיפיינד\r\n          item.succeeded = 'Position is open'\r\n          unClosedPositions++; // לא סופר פוזיציות פתוחות בחישוב האחוזים\r\n        };\r\n        if (!item.EndPrice) { // במידה ואין מחיר סגירה\r\n          item.EndPrice = 'Position is open'\r\n        }\r\n        if (!item.PipsesCents) { // במידה ואין פיפסים\r\n          item.PipsesCents = 'Position is open'\r\n        }\r\n      });\r\n      // מוצא את אחוזי ההצלחה לפי החישוב הבא: מספר הפוזיציות שהצליחו לחלק לגודל הצ'אנק פחות מספר הפוזיציות שלא נסגרו\r\n      let rate = (succeeded / (chunk.length - unClosedPositions)) * 100;\r\n      rate = rate.toFixed() + '%';\r\n      if (rate === 'NaN%') {\r\n        rate = '0%'\r\n      };\r\n      ratesArray.push(rate);\r\n    });\r\n    arrays.map((array, idx) => array.unshift(createData('', '', '', '', '', '', '', '', '', '', '', ratesArray[idx]))); //הכנסה של עמודת אחוזים לטבלה\r\n    return arrays.flat()\r\n  }\r\n\r\n  //פונקציה שמביאה את כל הפוזיציות והמידע של המשתמש\r\n  const getUserData = async () => {\r\n    const details = await axios.get('/auth/userDetails'); // API שמביא דאטא על המשתמש\r\n    const userPositions = await axios.get(`/positions/getUserPositions/${details.data.email}`); // API שמביא את הפוזיציות של המשתמש\r\n    let finalPositions = [];\r\n    for (let i = 0; i < userPositions.data[0].bonds.length; i++) {\r\n      const bond = await axios.get(`positions/getbond/${userPositions.data[0].bonds[i]}`); // כל הבונדים של המשתמש\r\n      finalPositions.push(bond.data[0]);\r\n    }\r\n    for (let i = 0; i < userPositions.data[0].crypto.length; i++) {\r\n      const crypto = await axios.get(`positions/getCrypto/${userPositions.data[0].crypto[i]}`); // כל הקריפטו של המשתמש\r\n      finalPositions.push(crypto.data[0]);\r\n    }\r\n    for (let i = 0; i < userPositions.data[0].comodity.length; i++) {\r\n      const comodity = await axios.get(`positions/getComodity/${userPositions.data[0].comodity[i]}`); // כל הקומודיטי של המשתמש\r\n      finalPositions.push(comodity.data[0]);\r\n    }\r\n    for (let i = 0; i < userPositions.data[0].pairs.length; i++) {\r\n      const currencyPair = await axios.get(`positions/getCurrencyPair/${userPositions.data[0].pairs[i]}`); // כל הקורנסי של המשתמש\r\n      finalPositions.push(currencyPair.data[0]);\r\n    }\r\n    for (let i = 0; i < userPositions.data[0].rest.length; i++) {\r\n      const rest = await axios.get(`positions/getRest/${userPositions.data[0].rest[i]}`); // כל הרסט של המשתמש\r\n      finalPositions.push(rest.data[0]);\r\n    }\r\n    for (let i = 0; i < userPositions.data[0].stocks.length; i++) {\r\n      const stock = await axios.get(`positions/getStock/${userPositions.data[0].stocks[i]}`); // כל הסטוקס של המשתמש\r\n      finalPositions.push(stock.data[0]);\r\n    }\r\n\r\n    const sortedPositions = finalPositions.sort((a, b) => { // מסדר את הפוזיציות \r\n      return b.insertTime - a.insertTime;\r\n    });\r\n    let rows = [];\r\n    let openPositionsEndDates = []\r\n    for (let i = 0; i < sortedPositions.length; i++) { // לולאת פור על כל הפוזיציות של המשתמש\r\n      if (typeof sortedPositions[i].pipsed === 'number') { //במידה ויש לפוזיציה פיפסים\r\n        sortedPositions[i].pipsed = sortedPositions[i].pipsed.toFixed(5); // מסדר את הפיפסים רק ל3 מספרים אחרי הנקודה\r\n      } else {\r\n        sortedPositions[i].pipsed = \"Position is open\"\r\n      }\r\n      if (typeof sortedPositions[i].succeeded !== 'number') { //במידה והפוזיציה פתוחה\r\n        // openPositionsEndDates.push(sortedPositions[i].endDate); // דוחף למערך את תאריך הסגירה של הפוזיציה\r\n        sortedPositions[i].succeeded = \"Position is open\"\r\n      }\r\n      rows.push(createData( // מכין את כל הפוזיציות לטבלה\r\n        i + 1,\r\n        sortedPositions[i].symbol,\r\n        sortedPositions[i].operation,\r\n        sortedPositions[i].startDate,\r\n        sortedPositions[i].endDate,\r\n        sortedPositions[i].startPrice,\r\n        sortedPositions[i].endPrice,\r\n        \"test\",// sortedPositions[i].tp,\r\n        \"test\",// sortedPositions[i].sp.currentStopPrice,\r\n        String(sortedPositions[i].succeeded),\r\n        sortedPositions[i].pipsed,\r\n        sortedPositions[i].Precent\r\n      ))\r\n    };\r\n    props.passEndDates(openPositionsEndDates); // מעביר תאריכים של כל הפוזיציות הפתוחות לקומפוננטה הראשית\r\n    const finalArray = addSuccessRate(rows); // מוסיף אחוזי הצלחה לטבלה\r\n    setPositions(finalArray); // קריאה לפונקציה שמכניסה את הערכים לטבלה\r\n  }\r\n  //פונקציה בשביל ה TRACK RECORD לאיציק\r\n  const handleTrackRecordChange = ({ target }) => {\r\n    alertify.prompt( 'Set your starting capital', 'What was your capital when you first started using the system signals? ($)', '0'\r\n    , function(evt, value) {sendReport(target.value, value) }\r\n    , function() { alertify.error('Cancel') });\r\n    setTrackRecord(target.value);\r\n  }\r\n\r\n  const sendReport = async  (type, amount) => {\r\n    const details = await axios.get('/auth/userDetails') // API שמביא דאטא על המשתמש\r\n    alertify.success(`a report was sent to ${details.data.email}. the proccess might take a few minutes`);\r\n    await axios.get(`/reports/createReport/${type}/${amount}/${details.data.email}`)\r\n  }\r\n\r\n  //קיראה לפונקציה שמביאה את כל המידע על המשתמש כשהדף עולה\r\n  useEffect(() => {\r\n    getUserData();\r\n  }, [])\r\n\r\n  //קריאה לקומפוננטה הראשית שצריך לרנדר את הטבלה מחדש\r\n  useEffect(() => {\r\n    if (props.reRender === true) {\r\n      getUserData();\r\n    }\r\n  }, [props.reRender]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (openSymbols === 'crypto') {\r\n      cryptoSymbols();\r\n    }\r\n    if (openSymbols === 'pairs') {\r\n      pairsSymbols();\r\n    }\r\n    if (openSymbols === 'bonds') {\r\n      bondsSymbols();\r\n    }\r\n    if (openSymbols === 'comodity') {\r\n      comoditySymbols();\r\n    }\r\n    if (openSymbols === 'indexes') {\r\n      indexesSymbols();\r\n    }\r\n    if (openSymbols === 'stocks') {\r\n      stocksSymbols();\r\n    }\r\n  }, [openSymbols])\r\n\r\n  return (\r\n    <Paper className={classes.root} style={{ paddingTop: '20px' }}>\r\n      <TableContainer className={classes.container}>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {columns.map((column, idx) => ( //מאפינג לעמודות\r\n                <TableCell\r\n                  key={idx} //מזהה\r\n                  align={column.align}\r\n                  style={{ minWidth: column.minWidth, textAlign: 'center', backgroundColor: 'lightBlue' }} //סטיילינג\r\n                >\r\n                  {column.label}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {positions.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, idx) => { //מאפינג לדפים\r\n              return (\r\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={idx}>\r\n                  {columns.map((column, idx) => { //  מאפינג שורות לתוך הטבלה\r\n                    const value = row[column.id];\r\n                    return (\r\n                      <TableCell key={idx} align={column.align} style={{ textAlign: 'center', fontSize: '11px', height: '16.5px', borderBottom: '1px solid black' }}>\r\n                        {column.format && typeof value === 'number' ? column.format(value) : value}\r\n                      </TableCell>\r\n                    );\r\n                  })}\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination //פאג'ינציה (דפים)\r\n        rowsPerPageOptions={[10]} //אפשרות לתת למשתמש לבחור כמות שורות בדף כרגע האפשרות היחידה היא 10\r\n        component=\"div\"\r\n        count={positions.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n      <FormControl style={{ width: '180px', position: 'relative', bottom: '25px', float: 'right', right: '10px' }} >\r\n        <InputLabel style={{ width: '180px', color: 'black' }} >Available Symbols</InputLabel>\r\n        <NativeSelect style={{ width: '180px' }}\r\n          value={openSymbols}\r\n          onChange={handleAvailableSymbolsChange}\r\n        >\r\n          <option aria-label=\"None\" value=\"\" />\r\n          <option value={'crypto'}>Crypto Symbols</option>\r\n          <option value={'pairs'}>Currency Pairs Symbols</option>\r\n          <option value={'stocks'}>Stocks Symbols</option>\r\n          <option value={'bonds'}>Bonds Symbols</option>\r\n          <option value={'comodity'}>Comodity Symbols</option>\r\n          <option value={'indexes'}>Indexes Symbols</option>\r\n        </NativeSelect>\r\n      </FormControl>\r\n      <FormControl style={{ width: '180px', position: 'relative', bottom: '25px', float: 'right', right: '50px' }} >\r\n        <InputLabel style={{ width: '180px', color: 'black' }} >Track Records</InputLabel>\r\n        <NativeSelect style={{ width: '180px' }}\r\n          value={trackRecord}\r\n          onChange={handleTrackRecordChange}\r\n        >\r\n          <option aria-label=\"None\" value=\"\" />\r\n          <option value={'Cryptos'}>Track-Record Crypto Symbols</option>\r\n          <option value={'Pairs'}>Track-Record Currency Pairs Symbols</option>\r\n          <option value={'Stocks'}>Track-Record Stocks Symbols</option>\r\n          <option value={'Bonds'}>Track-Record Bonds Symbols</option>\r\n          <option value={'Comodity'}>Track-Record Commodity Symbols</option>\r\n          <option value={'Rest'}>Track-Record Indexes Symbols</option>\r\n          <option value={'allPositions'}>Track-Record All Records</option>\r\n        </NativeSelect>\r\n      </FormControl>\r\n      <Button\r\n        onClick={() => props.PdfArray(positions.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage))}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        style={\r\n          { fontSize: '14px', position: 'relative', left: '5px', bottom: '10px' }\r\n        }>\r\n        Download Page(PDF)\r\n      </Button>\r\n    </Paper>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Input from '@material-ui/core/Input';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({ //יצירת סטיילינג\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nexport default function DialogSelect(props) { //פונקציה ראשית - מודאל התחלת פוזיצייה חדשה\r\n  const classes = useStyles(); //שימוש בסטיילינג לפי קלאסים\r\n  const [open, setOpen] = useState(false); //סטייט של פתיחת המודל\r\n  const [type, setType] = useState('crypto'); //סטייט של סוג הפוזיציה\r\n  const [amount, setAmount] = useState(1); //סטייט של כמות הפוזיציות\r\n  const [stockValue, setstockValue] = useState(5); //סטייט של שווי המניות\r\n  const [stocksFlag, setStocksFlag] = useState(false);\r\n  const [forexFlag, setForexFlag] = useState(true);\r\n\r\n\r\n  const handleTypeChange = (value) => { //פונקצייה לשינוי סוג הפוזיציה\r\n    setType(value); //משנה את הפוזיציה לפי הערך שנבחר\r\n  };\r\n\r\n  const handleAmountChange = (value) => { //פונקציה לשינוי כמות הפוזיציות\r\n    setAmount(value); //שינוי כמות הפוזיציות לפי הערך שנבחר\r\n  };\r\n\r\n  const handleStockValueChange = (value) => { //פונקציה לשינוי שווי המניה\r\n    setstockValue(value); //שינוי שווי המניה לערך שנבחר\r\n  };\r\n\r\n  const handleClickOpen = () => { //פונקציה לפתיחת המודל\r\n    setOpen(true); //פותח את המודל בעזרת פלאג\r\n  };\r\n\r\n  const handleClose = () => { //פונקציה לסגירת המודל\r\n    setOpen(false); //סוגר את המודל בעזרת פלאג\r\n  };\r\n\r\n  const closeModalAndStartTimer = (type, amount, stockValue) => { //פונקציה לסגור את המודל ולהפעיל את הטיימר\r\n    handleClose(); //סוגר את המודל\r\n    props.handleStartTimer(type, amount, stockValue); //מפעיל את הטיימר בפונקצייה הראשית\r\n  };\r\n\r\n  useEffect(() => {\r\n    let weekday = true;\r\n\r\n    let today = {\r\n      timeZone: 'America/New_York',\r\n      weekday: 'short',\r\n    },\r\n      formatter = new Intl.DateTimeFormat('en-US', today);\r\n\r\n    if (formatter.format(new Date()) === 'Sat' || formatter.format(new Date()) === 'Sun') {\r\n      weekday = false;\r\n    };\r\n    \r\n    let options = {\r\n      timeZone: 'Asia/Jerusalem',\r\n      hour: 'numeric',\r\n    },\r\n      formatter2 = new Intl.DateTimeFormat([], options);\r\n\r\n    if (formatter2.format(new Date()) > 16 && formatter2.format(new Date()) < 21 && weekday) {\r\n      setStocksFlag(true);\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    let today = {\r\n      timeZone: 'America/New_York',\r\n      weekday: 'short',\r\n    },\r\n      formatter = new Intl.DateTimeFormat('en-US', today);\r\n    if (formatter.format(new Date()) === 'Sun') {\r\n      let hour = {\r\n        timeZone: 'America/New_York',\r\n        hour: 'numeric',\r\n      },\r\n        formatter = new Intl.DateTimeFormat([], hour);\r\n      if (formatter.format(new Date()) <= 17) {\r\n        setForexFlag(false);\r\n      }\r\n    }\r\n    if (formatter.format(new Date()) === 'Sat') {\r\n      setForexFlag(false);\r\n    }\r\n    if (formatter.format(new Date()) === 'Fri') {\r\n      let hour = {\r\n        timeZone: 'America/New_York',\r\n        hour: 'numeric',\r\n      },\r\n        formatter = new Intl.DateTimeFormat([], hour);\r\n      if (formatter.format(new Date()) >= 16) {\r\n        setForexFlag(false);\r\n      };\r\n    };\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        style={{ fontSize: '15px', width: '200px', position: 'relative', bottom: '20px' }}\r\n        onClick={handleClickOpen} //פותח את המודל בלחיצה\r\n      >\r\n        New Positions\r\n            <NotificationsActiveIcon />\r\n      </Button>\r\n      <Dialog disableBackdropClick disableEscapeKeyDown open={open} onClose={handleClose}>\r\n        <DialogTitle>choose the type and amount of positions you want to get</DialogTitle>\r\n        <DialogContent>\r\n          <form className={classes.container}>\r\n            <FormControl className={classes.formControl}>\r\n              <InputLabel htmlFor=\"demo-dialog-native\">Type</InputLabel>\r\n              <Select\r\n                native\r\n                value={type}\r\n                onChange={({ target: { value } }) => handleTypeChange(value)} //קריאה לפונקציה שמשנה את סוג הפוזיציה\r\n                input={<Input id=\"demo-dialog-native\" />}\r\n              >\r\n                <option value='crypto'>Crypto Currency</option>\r\n                {stocksFlag === true && <option value='stocks'>Stocks</option>}\r\n                {forexFlag === true && <option value='pairs'>Currency pairs</option>}\r\n                {forexFlag === true && <option value='comodity'>Comodity</option>}\r\n                {forexFlag === true && <option value='bonds'>Bonds</option>}\r\n                <option value='rest'>Indexes</option>\r\n\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl className={classes.formControl}>\r\n              <InputLabel id=\"demo-dialog-select-label\">Positions</InputLabel>\r\n              <Select\r\n                labelId=\"demo-dialog-select-label\"\r\n                id=\"demo-dialog-select\"\r\n                value={amount}\r\n                onChange={({ target: { value } }) => handleAmountChange(value)} //קריאה לפונקציה שמשנה את כמות הפוזיציות\r\n                input={<Input />}\r\n              >\r\n                <MenuItem value={1}>1</MenuItem>\r\n                <MenuItem value={2}>2</MenuItem>\r\n                <MenuItem value={3}>3</MenuItem>\r\n                <MenuItem value={4}>4</MenuItem>\r\n                <MenuItem value={5}>5</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            {type === 'stocks' && <FormControl className={classes.formControl}>\r\n              <InputLabel id=\"demo-dialog-select-label\">Stock's value</InputLabel>\r\n              <Select\r\n                labelId=\"demo-dialog-select-label\"\r\n                id=\"demo-dialog-select\"\r\n                value={stockValue}\r\n                onChange={({ target: { value } }) => handleStockValueChange(value)} //קריאה לפונקציה שמשנה את שווי המניה\r\n                input={<Input />}\r\n              >\r\n                <MenuItem value={5}>5$-100$</MenuItem>\r\n                <MenuItem value={100}>100$-200$</MenuItem>\r\n                <MenuItem value={200}>200$+</MenuItem>\r\n\r\n              </Select>\r\n            </FormControl>}\r\n          </form>\r\n          <h3>\r\n            the timer will start according to the current time and will stop when the minutes on the clock reach 01/16/31/46\r\n              {<br />}\r\n              (for example: 03:16, 07:46)\r\n          </h3>\r\n          <h4>\r\n            Regular trading hours for the U.S. stock market, including the New York Stock Exchange (NYSE)\r\n            and the Nasdaq Stock Market (Nasdaq), are 9:30 a.m. to 2 p.m.\r\n            Eastern time on weekdays (except stock market holidays, Saturday and Sunday).\r\n          </h4>\r\n          <h4>\r\n            The Forex market (Currency pairs,Comodity and Bonds)is open 24\r\n            hours a day in different parts of the world, from 5 p.m. EST on Sunday until 4 p.m. EST on Friday.\r\n            (except Forex market holidays)\r\n          </h4>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={() => closeModalAndStartTimer(type, amount, stockValue)} //קריאה לפונקציה שמפעילה את הטיימר\r\n            color=\"primary\">\r\n            Start timer\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\n\r\nexport default function AdminUsersTable() {\r\n  const [page, setPage] = React.useState(0); //סטייט של פאג'ינציה\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10); //סטייט של מספר ההודעות בעמוד\r\n  const [users, setUsers] = React.useState([]); //סטייט של המשתמשים מהדאטאבייס\r\n  const [usersRows, setusersRows] = React.useState([]);\r\n\r\n  const columns = [ //עמודות לטבלה של המשתמשים\r\n    {\r\n      id: 'userId', //מזהה\r\n      label: 'User id', //השם שיופיע בדפדפן\r\n      minWidth: 50, //רוחב מינימלי\r\n      align: 'center' //סידור הטקסט במרכז העמודה\r\n    },\r\n    {\r\n      id: 'firstName',\r\n      label: 'First name',\r\n      minWidth: 50,\r\n      align: 'center'\r\n    },\r\n    {\r\n      id: 'lastName',\r\n      label: 'Last name',\r\n      minWidth: 50,\r\n      align: 'center'\r\n    },\r\n    {\r\n      id: 'email',\r\n      label: 'Email',\r\n      minWidth: 50,\r\n      align: 'center'\r\n    },\r\n    {\r\n      id: 'phone',\r\n      label: 'Phone',\r\n      minWidth: 50,\r\n      align: 'center'\r\n    },\r\n    {\r\n      id: 'date',\r\n      label: 'Signup date',\r\n      minWidth: 50,\r\n      align: 'center'\r\n    },\r\n    {\r\n      id: 'credits',\r\n      label: 'credits',\r\n      minWidth: 50,\r\n      align: 'center'\r\n    },\r\n    {\r\n      id: 'actions',\r\n      label: 'Actions',\r\n      minWidth: 50,\r\n      align: 'center'\r\n    },\r\n    {\r\n      id: 'delete',\r\n      label: 'Delete',\r\n      minWidth: 50,\r\n      align: 'center'\r\n    },\r\n  ];\r\n\r\n  const changeUserCredits = async (email, amount) => { //פונקציה לשינוי הקרדיט של משתמש\r\n    try {\r\n      axios.post('/auth/changeCredits', { //api לשינוי קרדיט\r\n        email: email, //האימייל של המשתמש\r\n        amount: amount //הכמות אלייה האדמין רוצה לשנות\r\n      });\r\n      alert('user`s credits successfully changed.'); //הודעה שהשינוי בוצע\r\n    } catch {\r\n      alert('something went wrong'); //הודעה שמשהו השתבש במקרה של כשלון\r\n    };\r\n  };\r\n\r\n  const createData = (userId, firstName, lastName, email, phone, date, credits, successRate) => { //פונקציה שיוצרת דאטא שיכנס לטבלה של משתמשים\r\n    return {\r\n      userId, //מזהה משתמש\r\n      firstName, //שם פרטי\r\n      lastName, //שם משפחה\r\n      email, //אימייל\r\n      phone, //טלפון\r\n      date, //תאריך\r\n      credits, //קרדיטים\r\n      successRate //אחוזי הצלחה\r\n    };\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => { //פונקציה שמחליפה דף - פאג'ינציה\r\n    setPage(newPage); //שינוי דף - סטייט\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => { //פונקציה שמחליטה כמה שורות יהיו בעמוד - לא פעיל כרגע\r\n    setRowsPerPage(10); //תמיד יהיה על 10\r\n    setPage(0);\r\n  };\r\n  const fNameChanged = async (value) => {\r\n    let filter = usersRows.filter(row => row.firstName.toLowerCase().includes(value));\r\n    setusersRows(filter);\r\n    if (value === '') {\r\n      setusersRows([]);\r\n      for (let i = 0; i < users.length; i++) {\r\n        setusersRows(usersRows => [...usersRows,  //דחיפה לתוך המשתנה\r\n        ( //קריאה לפונקציה שיוצרת דאטא למשתמשים\r\n          users[i]._id, users[i].firstName, users[i].lastName, users[i].email, users[i].phone, users[i].created_at, users[i].credits\r\n        )]);\r\n      };\r\n    }\r\n  }\r\n\r\n  const lNameChanged = async (value) => {\r\n    let filter = usersRows.filter(row => row.lastName.toLowerCase().includes(value));\r\n    setusersRows(filter);\r\n    if (value === '') {\r\n      setusersRows([]);\r\n      for (let i = 0; i < users.length; i++) {\r\n        setusersRows(usersRows => [...usersRows,  //דחיפה לתוך המשתנה\r\n        ( //קריאה לפונקציה שיוצרת דאטא למשתמשים\r\n          users[i]._id, users[i].firstName, users[i].lastName, users[i].email, users[i].phone, users[i].created_at, users[i].credits\r\n        )]);\r\n      };\r\n    }\r\n  }\r\n\r\n  const emailChanged = async (value) => {\r\n    let filter = usersRows.filter(row => row.email.toLowerCase().includes(value));\r\n    setusersRows(filter);\r\n    if (value === '') {\r\n      setusersRows([]);\r\n      for (let i = 0; i < users.length; i++) {\r\n        setusersRows(usersRows => [...usersRows,  //דחיפה לתוך המשתנה\r\n        ( //קריאה לפונקציה שיוצרת דאטא למשתמשים\r\n          users[i]._id, users[i].firstName, users[i].lastName, users[i].email, users[i].phone, users[i].created_at, users[i].credits\r\n        )]);\r\n      };\r\n    }\r\n  }\r\n\r\n  const dateChanged = async (value) => {\r\n    let filter = usersRows.filter(row => String(row.date).includes(value));\r\n    setusersRows(filter);\r\n    if (value === '') {\r\n      setusersRows([]);\r\n      for (let i = 0; i < users.length; i++) {\r\n        setusersRows(usersRows => [...usersRows,  //דחיפה לתוך המשתנה\r\n        ( //קריאה לפונקציה שיוצרת דאטא למשתמשים\r\n          users[i]._id, users[i].firstName, users[i].lastName, users[i].email, users[i].phone, users[i].created_at, users[i].credits\r\n        )]);\r\n      };\r\n    }\r\n  }\r\n\r\n  const phoneChanged = async (value) => {\r\n    let filter = usersRows.filter(row => String(row.phone).includes(value));\r\n    setusersRows(filter);\r\n    if (value === '') {\r\n      setusersRows([]);\r\n      for (let i = 0; i < users.length; i++) {\r\n        setusersRows(usersRows => [...usersRows,  //דחיפה לתוך המשתנה\r\n        ( //קריאה לפונקציה שיוצרת דאטא למשתמשים\r\n          users[i]._id, users[i].firstName, users[i].lastName, users[i].email, users[i].phone, users[i].created_at, users[i].credits\r\n        )]);\r\n      };\r\n    }\r\n  }\r\n\r\n  const deleteUser = async (id) => {\r\n    console.log(id)\r\n    await axios.delete(`/auth/deleteUser/${id}`)\r\n    alert('User deleted Successfully');\r\n    window.location.reload(); //רענון של הדף\r\n  }\r\n\r\n\r\n  useEffect(async () => { //ברגע שהדף עולה בפעם הראשונה\r\n    const resUsers = await axios.get('/auth/allUsers'); //API שולף את כל המשתמשים\r\n    setUsers(resUsers.data); //מעדכן סטייט של משתמשים\r\n    for (let i = 0; i < resUsers.data.length; i++) {\r\n      setusersRows(usersRows => [...usersRows,  //דחיפה לתוך המשתנה\r\n      createData( //קריאה לפונקציה שיוצרת דאטא למשתמשים\r\n        resUsers.data[i]._id, resUsers.data[i].firstName, resUsers.data[i].lastName, resUsers.data[i].email, resUsers.data[i].phone, resUsers.data[i].created_at, resUsers.data[i].credits\r\n      )]);\r\n    };\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div style={{ position: 'absolute', top: '250px', left: '0', right: '0', marginLeft: 'auto', marginRight: 'auto', width: '1500px' }}>\r\n      <TextField id=\"filled-basic\" label=\"Search by F-name\" variant=\"filled\" style={{ marginRight: '100px', marginLeft: '200px', width: '150px' }}\r\n        onChange={({ target: { value } }) => fNameChanged(value)}\r\n      />\r\n      <TextField id=\"filled-basic\" label=\"Search by L-name\" variant=\"filled\" style={{ marginRight: '100px', width: '150px' }}\r\n        onChange={({ target: { value } }) => lNameChanged(value)}\r\n      />\r\n      <TextField id=\"filled-basic\" label=\"Search by email\" variant=\"filled\" style={{ marginRight: '100px', width: '150px' }}\r\n        onChange={({ target: { value } }) => emailChanged(value)}\r\n      />\r\n      <TextField id=\"filled-basic\" label=\"Search by phone\" variant=\"filled\" style={{ marginRight: '100px,', width: '150px' }}\r\n        onChange={({ target: { value } }) => phoneChanged(value)}\r\n      />\r\n      <TextField id=\"filled-basic\" label=\"Search by date\" variant=\"filled\" style={{ marginRight: '100px', marginLeft: '100px', width: '150px' }}\r\n        onChange={({ target: { value } }) => dateChanged(value)}\r\n      />\r\n      <Paper>\r\n        <TableContainer>\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                {columns.map((column) => (\r\n                  <TableCell\r\n                    key={column.id}\r\n                    align={column.align}\r\n                    style={{ minWidth: column.minWidth }}\r\n                  >\r\n                    {column.label}\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {usersRows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {  //סלייס+מאפינג של השורות לפי עמודים\r\n                return (\r\n                  <TableRow hover role=\"checkbox\" tabIndex={-1} key={row.code}>\r\n                    {columns.map((column) => {\r\n                      const value = row[column.id];\r\n                      if (column.id !== 'credits') {\r\n                        return (\r\n                          <TableCell key={column.id} align={column.align}>\r\n                            {column.format && typeof value === 'number' ? column.format(value) : value}\r\n                            {column.id === 'actions' && <Button\r\n                              variant=\"contained\"\r\n                              color=\"primary\"\r\n                              onClick={() => changeUserCredits(row.email, row.credits)} //שינוי הקרדיט למשתמש בלחיצה לפי הסכום שנבחר\r\n                            >\r\n                              Change credits\r\n                              </Button>}\r\n                            {column.id === 'delete' && <Button\r\n                              variant=\"contained\"\r\n                              color=\"secondary\"\r\n                              onClick={() => deleteUser(row.userId)}\r\n                            >\r\n                              Delete User\r\n                              </Button>}\r\n                          </TableCell>\r\n                        );\r\n                      }\r\n                      else {\r\n                        return (\r\n                          <TableCell key={column.id} align={column.align}>\r\n                            <TextField\r\n                              id=\"standard-number\"\r\n                              label=\"Amount\"\r\n                              type=\"number\"\r\n                              placeholder={value}\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              style={{\r\n                                width: '60px'\r\n                              }}\r\n                              onChange={({ target: { value } }) => row.credits = value} //שינוי מספר הקרדיטים\r\n                            />\r\n                          </TableCell>\r\n                        );\r\n                      }\r\n                    })}\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[10, 25, 100]}\r\n          component=\"div\"\r\n          count={usersRows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onChangePage={handleChangePage}\r\n          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport AdminUsersTable from './AdminUsersTable';\r\n\r\n\r\n\r\nexport default function AdminEmailTable() { //פונקציה ראשית של אדמין\r\n  const [page, setPage] = React.useState(0); //סטייט של פאג'ינציה\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10); //סטייט של מספר ההודעות בעמוד\r\n  const [emails, setEmails] = React.useState([]); //סטייט של האימיילים מהדאטאבייס\r\n\r\n  const useRowStyles = makeStyles({\r\n    root: {\r\n      '& > *': {\r\n        borderBottom: 'unset',\r\n      },\r\n    },\r\n  });\r\n\r\n  function Row(props) { //פונקציה שמטפלת בשורות לטבלה של הודעות\r\n    const { row } = props;\r\n    const [open, setOpen] = React.useState(false); //סטייט לקולאפס של ההודעות עצמן\r\n    const classes = useRowStyles();\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <TableRow className={classes.root}>\r\n          <TableCell>\r\n            <IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\r\n              {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n            </IconButton>\r\n          </TableCell>\r\n          <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n            {row.fullName}\r\n          </TableCell>\r\n          <TableCell align=\"center\">{row.email}</TableCell>\r\n          <TableCell align=\"center\">{row.date}</TableCell>\r\n          <TableCell align=\"center\">\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={() => deleteMessage(row.id)} //בלחיצה מפעיל את הפונקציה למחיקת הודעה עם האיידי של ההודעה למחוק\r\n            >\r\n              <DeleteForeverIcon />\r\n            </Button>\r\n          </TableCell>\r\n        </TableRow>\r\n        <TableRow>\r\n          <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n              <Box margin={1}>\r\n                <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                  Message\r\n                    </Typography>\r\n                <Typography gutterBottom component=\"div\">\r\n                  {row.message}\r\n                </Typography>\r\n              </Box>\r\n            </Collapse>\r\n          </TableCell>\r\n        </TableRow>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n\r\n  function createData(id, fullName, email, date, message) { // פונקציה שיוצרת דאטא שיכנס לטבלה של ההודעות\r\n    return {\r\n      id, //מזהה\r\n      fullName, //שם מלא\r\n      email, //אימייל\r\n      date, //תאריך\r\n      message, //הודעה\r\n    };\r\n  }\r\n\r\n\r\n  let rows = []; //משתנה שמכיל את השורות לטבלה של האימיילים\r\n  if (emails[0]) { //ברגע שהתקבלו אימיילים\r\n    for (let i = 0; i < emails.length; i++) { //לולאת פור\r\n      rows.unshift( //דחיפה לתוך המשתנה\r\n        createData( // קריאה לפונקציה שיוצרת דאטא לאימיילים\r\n          emails[i]._id, emails[i].fullName, emails[i].email, emails[i].created_at, emails[i].message // הדאטא שנכנס  \r\n        )\r\n      );\r\n    };\r\n  };\r\n\r\n\r\n  const handleChangePage = (event, newPage) => { //פונקציה שמחליפה דף - פאג'ינציה\r\n    setPage(newPage); //שינוי דף - סטייט\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => { //פונקציה שמחליטה כמה שורות יהיו בעמוד - לא פעיל כרגע\r\n    setRowsPerPage(10); //תמיד יהיה על 10\r\n    setPage(0);\r\n  };\r\n\r\n\r\n  const deleteMessage = (id) => { //פונקציה למחיקת הודעה\r\n    axios.delete(`/emails/delete/${id}`); //API שמוחק הודעה\r\n    alert('The message has been deleted successfully'); //אלרט שההודעה נמחקה\r\n    window.location.reload(); //רענון של הדף\r\n  }\r\n\r\n\r\n\r\n  const deleteWholePage = () => { //מחיקת דף שלם של הודעות\r\n    const currentPageData = rows.slice( //חישוב ההודעות בדף הנוכחי\r\n      page * rowsPerPage, page * rowsPerPage + rowsPerPage) //חישוב ההודעות בדף הנוכחי\r\n      .map((row) => row.id); //חישוב ההודעות בדף הנוכחי\r\n    for (let i = 0; i < currentPageData.length; i++) { //לולאת פור\r\n      axios.delete(`/emails/delete/${currentPageData[i]}`); //API שמוחק את ההודעות\r\n    }\r\n    alert('the page has been deleted successfully'); //הודעה שהמחיקה בוצעה בהצלחה\r\n    window.location.reload(); //טעינת הדף מחדש\r\n  }\r\n\r\n  useEffect(async () => { //ברגע שהדף עולה בפעם הראשונה\r\n    const resEmails = await axios.get('/emails/getall'); //API שולף את כל האימיילים\r\n    setEmails(resEmails.data); //מעדכן סטייט של אימיילים\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ position: 'absolute', top: '300px', right: '200px' }}>\r\n      <TableContainer component={Paper} style={{ width: '1200px' }}>\r\n        <Table aria-label=\"collapsible table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell />\r\n              <TableCell id=\"name\" align=\"center\">Sender's full name</TableCell>\r\n              <TableCell id=\"email\" align=\"center\">Sender's Email</TableCell>\r\n              <TableCell id=\"date\" align=\"center\">sending Date</TableCell>\r\n              <TableCell id=\"action\" align=\"center\">Action</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => (\r\n              <Row key={row.name} row={row} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10]}\r\n        component=\"div\"\r\n        count={rows.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"secondary\"\r\n        style={{\r\n          position: 'absolute',\r\n          left: '42%',\r\n          bottom: '5px',\r\n        }}\r\n        onClick={() => deleteWholePage()} //מחיקת כל ההודעות בדף בלחיצה\r\n      >\r\n        delete Whole page\r\n        </Button>\r\n    </div>\r\n  )\r\n\r\n}","import React, { useEffect, useLayoutEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './PositionsTable.css';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\n\r\nconst useStyles = makeStyles({ //יצירת סטיילינג\r\n  root: { //דיב רוט \r\n    width: '100%'\r\n  },\r\n  container: { // דיב חיצוני ביותר\r\n    maxHeight: 800,\r\n  },\r\n});\r\n\r\nexport default function AdminPositionsTable({ positionType }) { //הפונקציה של הטבלה\r\n  const classes = useStyles(); //שימוש בסטיילינג לפי קלאסים\r\n  const [page, setPage] = React.useState(0); //סטייט של הפאג'ינציה (עמודים)\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(11); //כמות שורות פר עמוד\r\n  const [positions, setPositions] = React.useState([]);\r\n  const [rows, setRows] = React.useState([]);\r\n\r\n\r\n  const columns = [  // עמודות לטבלה הראשית\r\n    {\r\n      id: 'Num', // id = מזהה\r\n      label: '#', // label = השם שמוצג בעמוד\r\n      minWidth: 50, // רוחב מינימלי\r\n    },\r\n    {\r\n      id: 'Symbol',\r\n      label: 'Symbol',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'Operation',\r\n      label: 'Operation',\r\n      minWidth: 50\r\n    },\r\n    {\r\n      id: 'StartDate',\r\n      label: 'Start Date',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'EndDate',\r\n      label: 'End Date',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'StartPrice',\r\n      label: 'Start Price',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'EndPrice',\r\n      label: 'End Price',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'succeeded',\r\n      label: 'Succeeded',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'PipsesCents',\r\n      label: 'Pipses/Cents',\r\n      minWidth: 50,\r\n    },\r\n    {\r\n      id: 'precent',\r\n      label: 'Success rate (per page)',\r\n      minWidth: 50,\r\n    },\r\n  ];\r\n\r\n  function createData( //פונקציה המייצרת דאטא חדש לטבלה\r\n    Num,\r\n    Symbol,\r\n    Operation,\r\n    StartDate,\r\n    EndDate,\r\n    StartPrice,\r\n    EndPrice,\r\n    succeeded,\r\n    PipsesCents,\r\n    precent\r\n  ) {\r\n    return { Num, Symbol, Operation, StartDate, EndDate, StartPrice, EndPrice, succeeded, PipsesCents, precent };\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => { //פונקציה לשינוי עמוד\r\n    setPage(newPage); //שינוי הסטייט לעמוד חדש\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => { //אפשרות למשתמש לשנות את מספר השורות בעמוד (כרגע מבוטל)\r\n    setRowsPerPage(+event.target.value); //המספר שהמשתמש בחר\r\n    setPage(0);\r\n  };\r\n\r\n  const addSuccessRate = (arr) => {\r\n    let arrays = [];\r\n    const size = 10;\r\n    let ratesArray = [];\r\n    // חותך את המערך לצ'אנקים של 10 או פחות\r\n    for (let i = 0; i < arr.length; i += size) {\r\n      arrays.push(arr.slice(i, i + size));\r\n    }\r\n    //לולאת פור איצ\r\n    arrays.forEach(chunk => {\r\n      //מוצא את מספר הפוזיציות שהצליחו\r\n      let succeeded = chunk.filter(item => item.succeeded == 'true').length;\r\n      // מוצא את מספר הפוזיציות שעדיין לא נסגרו\r\n      let unClosedPositions = 0;\r\n      chunk.map((item) => {\r\n        if (item.succeeded == 'undefined') {\r\n          unClosedPositions++;\r\n        };\r\n      });\r\n      // מוצא את אחוזי ההצלחה לפי החישוב הבא: מספר הפוזיציות שהצליחו לחלק לגודל הצ'אנק פחות מספר הפוזיציות שלא נסגרו\r\n      let rate = (succeeded / (chunk.length - unClosedPositions)) * 100;\r\n      rate = rate.toFixed() + '%';\r\n      if (rate === 'NaN%') {\r\n        rate = '0%'\r\n      };\r\n      ratesArray.push(rate);\r\n      //לכל אובייקט במערך successRate מוסיף מפתח בשם\r\n    });\r\n    arrays.map((array, idx) => array.unshift(createData('', '', '', '', '', '', '', '', '', ratesArray[idx])));\r\n    return arrays.flat()\r\n  }\r\n\r\n  const fetchPositionsData = async()=> {\r\n    let { data } = await axios.get(`/positions/getAll${positionType}`);\r\n    let enrichedRows = [];\r\n    data.sort((a, b) => {\r\n      return b.insertTime - a.insertTime;\r\n    });\r\n    data.map((object, idx) => {\r\n      if (object.pipsed) {\r\n        object.pipsed = object.pipsed.toFixed(5);\r\n      };\r\n      enrichedRows.push(\r\n        createData(\r\n          idx + 1,\r\n          object.symbol,\r\n          object.operation,\r\n          object.startDate,\r\n          object.endDate,\r\n          object.startPrice,\r\n          object.endPrice,\r\n          String(object.succeeded),\r\n          object.pipsed,\r\n          object.Precent\r\n        )\r\n      )\r\n    })\r\n    let finalRows = addSuccessRate(enrichedRows);\r\n    setRows(finalRows);\r\n    window.interval = setInterval( async() => {\r\n      data = await axios.get(`/positions/getAll${positionType}`);\r\n      enrichedRows = [];\r\n      data.data.sort((a, b) => {\r\n        return b.insertTime - a.insertTime;\r\n      });\r\n      data.data.map((object, idx) => {\r\n        if (object.pipsed) {\r\n          object.pipsed = object.pipsed.toFixed(5);\r\n        };\r\n        enrichedRows.push(\r\n          createData(\r\n            idx + 1,\r\n            object.symbol,\r\n            object.operation,\r\n            object.startDate,\r\n            object.endDate,\r\n            object.startPrice,\r\n            object.endPrice,\r\n            String(object.succeeded),\r\n            object.pipsed,\r\n            object.Precent\r\n          )\r\n        )\r\n      })\r\n      finalRows = addSuccessRate(enrichedRows);\r\n      setRows(finalRows);\r\n      console.log('data refreshed', finalRows)\r\n    }, 1000*60)\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchPositionsData();\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    return () => {\r\n        clearInterval(window.interval);\r\n    }\r\n}, [])\r\n  return (\r\n    <Paper className={classes.root}>\r\n      <TableContainer className={classes.container}>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {columns.map((column, idx) => ( //מאפינג לעמודות\r\n                <TableCell\r\n                  key={idx} //מזהה\r\n                  align={column.align}\r\n                  style={{ minWidth: column.minWidth, textAlign: 'center', backgroundColor: 'lightBlue' }} //סטיילינג\r\n                >\r\n                  {column.label}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, idx) => { //מאפינג לדפים\r\n              return (\r\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={idx}>\r\n                  {columns.map((column, idx) => { //  מאפינג שורות לתוך הטבלה\r\n                    const value = row[column.id];\r\n                    return (\r\n                      <TableCell key={idx} align={column.align} style={{ textAlign: 'center', fontSize: '11px', height: '16.5px', borderBottom: '1px solid black' }}>\r\n                        {column.format && typeof value === 'number' ? column.format(value) : value}\r\n                      </TableCell>\r\n                    );\r\n                  })}\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination //פאג'ינציה (דפים)\r\n        rowsPerPageOptions={[10]} //אפשרות לתת למשתמש לבחור כמות שורות בדף כרגע האפשרות היחידה היא 10\r\n        component=\"div\"\r\n        count={rows.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onChangePage={handleChangePage}\r\n        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n      />\r\n    </Paper>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport AdminPositonsTable from './AdminPositionsTable';\r\n\r\n// פונקציה של מאטיריאל ליצירת הפאל של הטאבים\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n// פונקציה של מאטיריאל ליצירת הפרופס של הטאבים\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\n// סטיילינ - הוקס\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n    position: 'absolute',\r\n    top: '60px',\r\n    right: '12%'\r\n  },\r\n}));\r\n\r\n// פונקציה ראשית - שליטה בפאנל של האדמין\r\nexport default function AdminPositionsControl() {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0); // הערך שהאדמין רוצה לפצות בו\r\n\r\n  // פונקציה שאחראית על שינוי הערך שבו האדמין רוצה לצפות\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root} position=\"absolute\" style={{ top: '250px' }}>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={value} onChange={handleChange}>\r\n          <Tab label=\"Crypto\" {...a11yProps(0)} />\r\n          <Tab label=\"Currency pairs\" {...a11yProps(1)} />\r\n          <Tab label=\"Bonds\" {...a11yProps(2)} />\r\n          <Tab label=\"Comodity\" {...a11yProps(3)} />\r\n          <Tab label=\"Indexes\" {...a11yProps(4)} />\r\n          <Tab label=\"Stocks\" {...a11yProps(5)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        {<AdminPositonsTable positionType=\"crypto\" />}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        {<AdminPositonsTable positionType=\"pairs\" />}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        {<AdminPositonsTable positionType=\"bonds\" />}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        {<AdminPositonsTable positionType=\"comodity\" />}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={4}>\r\n        {<AdminPositonsTable positionType=\"rest\" />}\r\n      </TabPanel>\r\n      <TabPanel value={value} index={5}>\r\n        {<AdminPositonsTable positionType=\"stocks\" />}\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios'\r\nimport AdminUsersTable from './AdminUsersTable';\r\nimport AdminEmailTable from './AdminEmailsTable';\r\nimport AdminPositionsControl from './AdminPositionsControl';\r\n\r\nexport default function AdminPanel() { //פונקציה ראשית של אדמין\r\n  const [view, setView] = useState(''); //סטייט שבודק מה האדמין רוצה לראות\r\n\r\n  const handleViewChange = (value) => { //פונקציה שבודקת במה האדמין רוצה לצפות (משתמשים, הודעות, פוזיציות)\r\n    setView(value); //עדכון הסטייט לפי מה שבחר האדמין\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          style={{\r\n            fontSize: '15px',\r\n            position: 'relative',\r\n          }}\r\n          onClick={() => handleViewChange('messages')} //משנה את הטבלה להודעות בלחיצה\r\n        >\r\n          View Messages\r\n          </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          style={{\r\n            fontSize: '15px',\r\n            position: 'relative',\r\n            left: '40px'\r\n          }}\r\n          onClick={() => handleViewChange('users')} //משנה את הטבלה למשתמשים בלחיצה\r\n        >\r\n          View Users\r\n          </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          style={{\r\n            fontSize: '15px',\r\n            position: 'relative',\r\n            left: '80px'\r\n          }}\r\n          onClick={() => handleViewChange('positions')} //משנה את הטבלה לפוזיציות בלחיצה\r\n        >\r\n          View All Positions\r\n          </Button>\r\n      </div>\r\n      <div>\r\n        {/* החלק הזה קורה רק במידה והאדמין רוצה לראות הודעות */}\r\n        {view === 'messages' && <AdminEmailTable />}\r\n        {/* החלק הזה קורה רק במידה והאדמין רוצה לראות את המשתמשים */}\r\n        {view === 'users' && <AdminUsersTable />}\r\n        {view === 'positions' && <AdminPositionsControl />}\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/ring.2c183f48.mp3\";","import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport './HomePage.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport PositionsTable from '../components/PositionsTable';\r\nimport NewPositionModal from '../components/NewPositionModal';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport AdminPanel from '../components/AdminPanel';\r\nimport ring from '../assets/ring.mp3';\r\nimport socketIOClient from \"socket.io-client\";\r\nconst ENDPOINT = \"http://127.0.0.1:3007\";\r\nconst hacktimer = require(\"hacktimer\");\r\n\r\n\r\n// פונקציה שמוצאת ברייק פוינטס רספונסיביים ומחלקת אותם לקטגוריות לפי גודל המסך\r\nfunction getBreakPoint(windowWidth) {\r\n  if (windowWidth) {\r\n    if (windowWidth < 600) {\r\n      return \"xs\";\r\n    } else if (windowWidth < 960) {\r\n      return \"sm\";\r\n    } else if (windowWidth < 1280) {\r\n      return \"md\";\r\n    } else if (windowWidth < 1920) {\r\n      return \"lg\"\r\n    } else {\r\n      return \"xl\";\r\n    }\r\n  } else {\r\n    return undefined;\r\n  }\r\n}\r\n\r\n//סטיילינג - הוקס\r\nconst useStyles = makeStyles((theme) => ({ //שימוש בסטיילינג לפי קלאסים\r\n  root: { //סטייל לרוט דיב\r\n    flexGrow: 1\r\n  },\r\n  Button: { //סטייל לכפתורים\r\n    flexGrow: 0.1,\r\n  },\r\n  title: { //סטייל לכותרות בנאב באר\r\n    flexGrow: 0.12,\r\n    color: 'black'\r\n  },\r\n}));\r\n\r\nconst HomePage = () => { //פונקציה דף ראשי\r\n  const classes = useStyles(); //שימוש בסטיילינג לקלאסים\r\n  const [timerMinutes, setTimerMinutes] = useState('00'); //סטייט של טיימר - דקות\r\n  const [timerSeconds, setTimerSeconds] = useState('00');//סטייט של טיימר - שניות \r\n  const [userFirstName, setUserFirstName] = useState('Guest'); //סטייט של שם המשתמש\r\n  const [userPremission, setUserPremission] = useState(''); //סטייט של הראשות משתמש\r\n  const [userCredits, setUserCredits] = useState(0); //סטייט של קרדיט שיש למשתמש\r\n  const [userEmail, setUserEmail] = useState(''); //סטייט אימייל של המשתמש\r\n  const [newPositionsType, setNewPositionsType] = useState();\r\n  const [newPositionsAmount, setNewPositionsAmount] = useState();\r\n  const [newStocksRate, setNewStocksRate] = useState(5);\r\n  const [reRenderTable, setReRenderTable] = useState(false);\r\n  const [openSymbols, setOpenSymbols] = useState('');\r\n  const [relativeEndDate, setRelativeEndDate] = useState();\r\n  const [connect, setIsConnect] = useState(\"\");\r\n\r\n  const history = useHistory(); // ריאקט הוקס - ראוטר\r\n  const isWindowClient = typeof window === \"object\";\r\n  const [windowSize, setWindowSize] = useState(\r\n    isWindowClient\r\n      ? getBreakPoint(window.innerWidth) //👈\r\n      : undefined\r\n  );\r\n\r\n  useEffect(async () => {\r\n    const details = await axios.get('/auth/userDetails'); // API שמביא דאטא על המשתמש\r\n    const userPositions = await axios.get(`/positions/getUserPositions/${details.data.email}`);\r\n    const socket = socketIOClient(ENDPOINT);\r\n    socket.emit(\"connection\");\r\n    socket.on(\"react\", function (socket) {\r\n      switch (socket[0]) {\r\n        case \"TPupdated\":\r\n          if (socket[2] === 'bonds') {\r\n            const doesUserHaveBond = userPositions.data[0].bonds.filter(bond => bond == socket[1].documentKey._id);\r\n            if (doesUserHaveBond.length > 0) {\r\n              const symbol = axios.get(`/positions/getbond/${socket[1].documentKey._id}`).then((symbol) => {\r\n                alert(`your takeprofit has been updated to: ${socket[1].updateDescription.updatedFields.tp} on symbol: ${symbol.data[0].symbol}`)\r\n                handleReRenderTable();\r\n              });\r\n            }\r\n          }\r\n\r\n          if (socket[2] === 'stocks') {\r\n            const doesUserHavestock = userPositions.data[0].stocks.filter(stock => stock == socket[1].documentKey._id);\r\n            if (doesUserHavestock.length > 0) {\r\n              const symbol = axios.get(`/positions/getStock/${socket[1].documentKey._id}`).then((symbol) => {\r\n                alert(`your takeprofit has been updated to: ${socket[1].updateDescription.updatedFields.tp} on symbol: ${symbol.data[0].symbol}`)\r\n                handleReRenderTable();\r\n              });\r\n            }\r\n          }\r\n\r\n          if (socket[2] === 'comodity') {\r\n            const doesUserHavecomodity = userPositions.data[0].comodity.filter(comodity => comodity == socket[1].documentKey._id);\r\n            if (doesUserHavecomodity.length > 0) {\r\n              const symbol = axios.get(`/positions/getComodity/${socket[1].documentKey._id}`).then((symbol) => {\r\n                alert(`your takeprofit has been updated to: ${socket[1].updateDescription.updatedFields.tp} on symbol: ${symbol.data[0].symbol}`)\r\n                handleReRenderTable();\r\n              });\r\n            }\r\n          }\r\n\r\n          if (socket[2] === 'crypto') {\r\n            const doesUserHaveBond = userPositions.data[0].crypto.filter(crypto => crypto == socket[1].documentKey._id);\r\n            if (doesUserHaveBond.length > 0) {\r\n              const symbol = axios.get(`/positions/getcrypto/${socket[1].documentKey._id}`).then((symbol) => {\r\n                alert(`your takeprofit has been updated to: ${socket[1].updateDescription.updatedFields.tp} on symbol: ${symbol.data[0].symbol}`)\r\n                handleReRenderTable();\r\n              });\r\n            }\r\n          }\r\n\r\n          if (socket[2] === 'rest') {\r\n            const doesUserHaveIndex = userPositions.data[0].rest.filter(index => index == socket[1].documentKey._id);\r\n            if (doesUserHaveIndex.length > 0) {\r\n              const symbol = axios.get(`/positions/getbond/${socket[1].documentKey._id}`).then((symbol) => {\r\n                alert(`your takeprofit has been updated to: ${socket[1].updateDescription.updatedFields.tp} on symbol: ${symbol.data[0].symbol}`)\r\n                handleReRenderTable();\r\n              });\r\n            }\r\n          }\r\n\r\n          if (socket[2] === 'pairs') {\r\n            const doesUserHavePairs = userPositions.data[0].pairs.filter(pairs => pairs == socket[1].documentKey._id);\r\n            if (doesUserHavePairs.length > 0) {\r\n              const symbol = axios.get(`/positions/getPairs/${socket[1].documentKey._id}`).then((symbol) => {\r\n                alert(`your takeprofit has been updated to: ${socket[1].updateDescription.updatedFields.tp} on symbol: ${symbol.data[0].symbol}`)\r\n                handleReRenderTable();\r\n              });\r\n            }\r\n          }\r\n\r\n          break;\r\n        case \"PositionClosed\":\r\n          if (socket[1].updateDescription.updatedFields.succeeded === false) {\r\n            axios.post('/positions/falsePosition', {\r\n              id: socket[1].documentKey._id\r\n            })\r\n          }\r\n          if (socket[2] === 'stocks') {\r\n            const doesUserHaveStock = userPositions.data[0].socket[2].filter(stock => stock == socket[1].documentKey._id);\r\n            if (doesUserHaveStock.length > 0) {\r\n              if (socket[1].updateDescription.updatedFields.succeeded === false) {\r\n                setTimeout(() => {\r\n                  axios.get(`/auth/getUserById/${details.data._id}`).then((userCredits) => {\r\n                    setUserCredits(userCredits.data.credits);\r\n                  })\r\n                }, 1000)\r\n              }\r\n              handleReRenderTable();\r\n            }\r\n          }\r\n          if (socket[2] === 'bonds') {\r\n            const doesUserHaveBond = userPositions.data[0].bonds.filter(stock => stock == socket[1].documentKey._id);\r\n            if (doesUserHaveBond.length > 0) {\r\n              if (socket[1].updateDescription.updatedFields.succeeded === false) {\r\n                setTimeout(() => {\r\n                  axios.get(`/auth/getUserById/${details.data._id}`).then((userCredits) => {\r\n                    setUserCredits(userCredits.data.credits);\r\n                  })\r\n                }, 1000)\r\n              }\r\n              handleReRenderTable();\r\n            }\r\n          }\r\n          if (socket[2] === 'crypto') {\r\n            const doesUserHaveCrypto = userPositions.data[0].crypto.filter(stock => stock == socket[1].documentKey._id);\r\n            if (doesUserHaveCrypto.length > 0) {\r\n              if (socket[1].updateDescription.updatedFields.succeeded === false) {\r\n                setTimeout(() => {\r\n                  axios.get(`/auth/getUserById/${details.data._id}`).then((userCredits) => {\r\n                    setUserCredits(userCredits.data.credits);\r\n                  })\r\n                }, 1000)\r\n              }\r\n              handleReRenderTable();\r\n            }\r\n          }\r\n          if (socket[2] === 'pairs') {\r\n            const doesUserHavePairs = userPositions.data[0].pairs.filter(stock => stock == socket[1].documentKey._id);\r\n            if (doesUserHavePairs.length > 0) {\r\n              if (socket[1].updateDescription.updatedFields.succeeded === false) {\r\n                setTimeout(() => {\r\n                  axios.get(`/auth/getUserById/${details.data._id}`).then((userCredits) => {\r\n                    setUserCredits(userCredits.data.credits);\r\n                  })\r\n                }, 1000)\r\n              }\r\n              handleReRenderTable();\r\n            }\r\n          }\r\n          if (socket[2] === 'comodity') {\r\n            const doesUserHaveComodity = userPositions.data[0].comodity.filter(stock => stock == socket[1].documentKey._id);\r\n            if (doesUserHaveComodity.length > 0) {\r\n              if (socket[1].updateDescription.updatedFields.succeeded === false) {\r\n                setTimeout(() => {\r\n                  axios.get(`/auth/getUserById/${details.data._id}`).then((userCredits) => {\r\n                    setUserCredits(userCredits.data.credits);\r\n                  })\r\n                }, 1000)\r\n              }\r\n              handleReRenderTable();\r\n            }\r\n          }\r\n          if (socket[2] === 'rest') {\r\n            const doesUserHaveIndex = userPositions.data[0].rest.filter(stock => stock == socket[1].documentKey._id);\r\n            if (doesUserHaveIndex.length > 0) {\r\n              if (socket[1].updateDescription.updatedFields.succeeded === false) {\r\n                setTimeout(() => {\r\n                  axios.get(`/auth/getUserById/${details.data._id}`).then((userCredits) => {\r\n                    setUserCredits(userCredits.data.credits);\r\n                  })\r\n                }, 1000)\r\n              }\r\n              handleReRenderTable();\r\n            }\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    })\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    //הנדלר שנקרא ברגע שיש שינוי בגודל המסך\r\n    function setSize() {\r\n      setWindowSize(getBreakPoint(window.innerWidth)); //👈\r\n    }\r\n\r\n    if (isWindowClient) {\r\n      //register the window resize listener\r\n      window.addEventListener(\"resize\", setSize);\r\n\r\n      //unregister the listerner on destroy of the hook\r\n      return () => window.removeEventListener(\"resize\", setSize);\r\n    }\r\n  }, [isWindowClient, setWindowSize]);\r\n\r\n  let audio = new Audio(ring); //יצירת קובץ אודיו \r\n\r\n  const HandleLogout = async (e) => { //פונקציה שמנתקת את המשתמש\r\n    await axios.get('/auth/logout'); // API שמנתק את המשתמש\r\n    window.location.reload() //רענון של הדף\r\n  }\r\n\r\n  // פונקציה שקוראת לאייפיאיי שמוסיף פוזיציות מסוג קריפטו למשתמש לפי הכמות שבחר\r\n  const addNewCrypto = async () => {\r\n    const getNewCryptos = await axios.get(`/positions/getNewCrypto/${newPositionsAmount}`);\r\n    if (getNewCryptos.data.length < newPositionsAmount) {\r\n      axios.post('/auth/changeCredits', {\r\n        email: userEmail,\r\n        amount: userCredits + newPositionsAmount\r\n      }).then(async () => {\r\n        alert('There were not enough positions available. You have been refunded for your credits, please try again in a few minutes.');\r\n        const details = await axios.get('/auth/userDetails'); // API שמביא דאטא על המשתמש\r\n        axios.get(`/auth/getUserById/${details.data._id}`).then((userCredits) => {\r\n          setUserCredits(userCredits.data.credits);\r\n        })\r\n      })\r\n    }\r\n    else {\r\n      for (let i = 0; i < getNewCryptos.data.length; i++) {\r\n        await axios.post('/positions/addNewPosition', {\r\n          type: 'crypto',\r\n          email: userEmail,\r\n          id: getNewCryptos.data[i]._id\r\n        });\r\n        const { data } = await axios.get(`/positions/getCrypto/${getNewCryptos.data[i]._id}`);\r\n        await axios.post('/emails/sendPositionMail', {\r\n          email: userEmail,\r\n          position: data[0]\r\n        });\r\n      };\r\n    }\r\n  };\r\n\r\n  // פונקציה שקוראת לאייפיאיי שמוסיף פוזיציות מסוג בונדס למשתמש לפי הכמות שבחר\r\n  const addNewBonds = async () => {\r\n    const getNewBonds = await axios.get(`/positions/getNewBonds/${newPositionsAmount}`);\r\n    if (getNewBonds.data.length < newPositionsAmount) {\r\n      axios.post('/auth/changeCredits', {\r\n        email: userEmail,\r\n        amount: userCredits + newPositionsAmount\r\n      }).then(() => {\r\n        alert('There were not enough positions available. Please refresh the page to get refunded and try again in a few minutes');\r\n      })\r\n    }\r\n    else {\r\n      for (let i = 0; i < getNewBonds.data.length; i++) {\r\n        await axios.post('/positions/addNewPosition', {\r\n          type: 'bonds',\r\n          email: userEmail,\r\n          id: getNewBonds.data[i]._id\r\n        })\r\n        const { data } = await axios.get(`/positions/getBond/${getNewBonds.data[i]._id}`);\r\n        await axios.post('/emails/sendPositionMail', {\r\n          email: userEmail,\r\n          position: data[0]\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // פונקציה שקוראת לאייפיאיי שמוסיף פוזיציות מסוג רסט למשתמש לפי הכמות שבחר\r\n  const addNewRest = async () => {\r\n    const getNewRest = await axios.get(`/positions/getNewRest/${newPositionsAmount}`);\r\n    if (getNewRest.data.length < newPositionsAmount) {\r\n      axios.post('/auth/changeCredits', {\r\n        email: userEmail,\r\n        amount: userCredits + newPositionsAmount\r\n      }).then(() => {\r\n        alert('There were not enough positions available. Please refresh the page to get refunded and try again in a few minutes');\r\n      })\r\n    }\r\n    else {\r\n      for (let i = 0; i < getNewRest.data.length; i++) {\r\n        axios.post('/positions/addNewPosition', {\r\n          type: 'rest',\r\n          email: userEmail,\r\n          id: getNewRest.data[i]._id\r\n        })\r\n        const { data } = await axios.get(`/positions/getRest/${getNewRest.data[i]._id}`);\r\n        await axios.post('/emails/sendPositionMail', {\r\n          email: userEmail,\r\n          position: data[0]\r\n        });\r\n      };\r\n    }\r\n  };\r\n\r\n  // פונקציה שקוראת לאייפיאיי שמוסיף פוזיציות מסוג קומודיטי למשתמש לפי הכמות שבחר\r\n  const addNewComodity = async () => {\r\n    const getNewComodity = await axios.get(`/positions/getNewComodity/${newPositionsAmount}`);\r\n    if (getNewComodity.data.length < newPositionsAmount) {\r\n      axios.post('/auth/changeCredits', {\r\n        email: userEmail,\r\n        amount: userCredits + newPositionsAmount\r\n      }).then(() => {\r\n        alert('There were not enough positions available. Please refresh the page to get refunded and try again in a few minutes');\r\n      })\r\n    }\r\n    else {\r\n      for (let i = 0; i < getNewComodity.data.length; i++) {\r\n        await axios.post('/positions/addNewPosition', {\r\n          type: 'comodity',\r\n          email: userEmail,\r\n          id: getNewComodity.data[i]._id\r\n        })\r\n        const { data } = await axios.get(`/positions/getComodity/${getNewComodity.data[i]._id}`);\r\n        await axios.post('/emails/sendPositionMail', {\r\n          email: userEmail,\r\n          position: data[0]\r\n        });\r\n      };\r\n    }\r\n  };\r\n\r\n\r\n  // פונקציה שקוראת לאייפיאיי שמוסיף פוזיציות מסוג קורנסי פיירס למשתמש לפי הכמות שבחר\r\n  const addNewPairs = async () => {\r\n    const getNewPairs = await axios.get(`/positions/getNewPairs/${newPositionsAmount}`);\r\n    if (getNewPairs.data.length < newPositionsAmount) {\r\n      axios.post('/auth/changeCredits', {\r\n        email: userEmail,\r\n        amount: userCredits + newPositionsAmount\r\n      }).then(() => {\r\n        alert('There were not enough positions available. Please refresh the page to get refunded and try again in a few minutes');\r\n      })\r\n    }\r\n    else {\r\n      for (let i = 0; i < getNewPairs.data.length; i++) {\r\n        await axios.post('/positions/addNewPosition', {\r\n          type: 'pairs',\r\n          email: userEmail,\r\n          id: getNewPairs.data[i]._id\r\n        })\r\n        const { data } = await axios.get(`/positions/getCurrencyPair/${getNewPairs.data[i]._id}`);\r\n        await axios.post('/emails/sendPositionMail', {\r\n          email: userEmail,\r\n          position: data[0]\r\n        });\r\n      };\r\n    }\r\n  };\r\n\r\n  // פונקציה שקוראת לאייפיאיי שמוסיף פוזיציות מסוג סטוקס למשתמש לפי הכמות שבחר\r\n  const addNewStocks = async () => {\r\n    const getNewStocks = await axios.get(`/positions/getNewStocks/${newPositionsAmount}/${newStocksRate}`);\r\n    if (getNewStocks.data.length < newPositionsAmount) {\r\n      axios.post('/auth/changeCredits', {\r\n        email: userEmail,\r\n        amount: userCredits + newPositionsAmount\r\n      }).then(() => {\r\n        alert('There were not enough positions available. Please refresh the page to get refunded and try again in a few minutes');\r\n      })\r\n    }\r\n    else {\r\n      for (let i = 0; i < getNewStocks.data.length; i++) {\r\n        await axios.post('/positions/addNewPosition', {\r\n          type: 'stocks',\r\n          email: userEmail,\r\n          id: getNewStocks.data[i]._id\r\n        })\r\n        const { data } = await axios.get(`/positions/getStock/${getNewStocks.data[i]._id}`);\r\n        //socket update\r\n        await axios.post('/emails/sendPositionMail', {\r\n          email: userEmail,\r\n          position: data[0]\r\n        });\r\n      };\r\n    }\r\n  };\r\n\r\n  //פונקציה שבודקת אם למשתמש יש מספיק קרדיט לקנות פוזיציה\r\n  const TimerValidation = async (type, amount, stockValue) => {\r\n    setNewPositionsType(type);\r\n    setNewPositionsAmount(amount);\r\n    setNewStocksRate(stockValue);\r\n    if (amount <= userCredits) { //במידה וכמות הפוזיציות קטנה מכמות הקרדיט של המשתמש\r\n      window.localStorage.setItem('timer', 1);\r\n      window.localStorage.setItem('email', userEmail);\r\n      window.localStorage.setItem('type', type);\r\n      window.localStorage.setItem('amount', userCredits);\r\n      startTimer(); //מפעיל את הטיימר\r\n      const updatedCredits = Number(userCredits - amount); //כמות הפוזציות שנקנו פחות כמות הקרדיט של המשתמש\r\n      await axios.post('/auth/changeCredits', { email: userEmail, amount: updatedCredits }); //API עדכון הקרדיט\r\n      setUserCredits(updatedCredits); //עדכון הקרדיט בדפדפן\r\n    } else {\r\n      alert('You dont have enough credits'); //הודעה במידה ואין למשתמש בספיק קרדיט\r\n    }\r\n  };\r\n\r\n  // פונקציה שעוצרת את הטיימר ומביאה פיצוי למשתמש\r\n  const stopTimer = async () => {\r\n    window.localStorage.removeItem('timer');\r\n    window.localStorage.removeItem('email');\r\n    window.localStorage.removeItem('type');\r\n    window.localStorage.removeItem('amount');\r\n    const updatedCredits = Number(userCredits + newPositionsAmount); //כמות הפוזציות שנקנו פחות כמות הקרדיט של המשתמש\r\n    await axios.post('/auth/changeCredits', { email: userEmail, amount: updatedCredits }); //API עדכון הקרדיט\r\n    window.location.reload() //רענון של הדף\r\n  }\r\n\r\n  //פונקציה שמפעילה את הטיימר \r\n  const startTimer = () => {\r\n    if (userFirstName !== 'Guest') {\r\n      const timeNowMinutes = new Date().toLocaleTimeString([], { minute: '2-digit' }) // בדיקה מה הזמן כרגע בדקות\r\n      const timeNowSeconds = 60 - new Date().toLocaleTimeString([], { second: '2-digit' }); // בדיקה 60 פחות הזמן כרגע בשניות\r\n      if (Number(timeNowMinutes) < 16) { //במידה והדקות בשעון כרגע פחות מ15\r\n        const timerMinutes = 15 - timeNowMinutes; // מוריד 14 דקות מהשעה הנוכחית (לדוגמא אם כרגע 14:07 התוצאה תהיה 7)\r\n        setTimerMinutes(timerMinutes); // מפעיל את הטיימר על 7 דקות(נוסף פה גם חישוב של שניות בהמשך אז התוצאה תהיה לדוגמא 7:35)\r\n      }\r\n      else if (Number(timeNowMinutes) < 31) { // אותו דבר רק לגבי פחות  מ30 דקות\r\n        const timerMinutes = 30 - timeNowMinutes;\r\n        setTimerMinutes(timerMinutes);\r\n      }\r\n      else if (Number(timeNowMinutes) < 46) { // אותו דבר רק לגבי פחות מ45 דקות\r\n        const timerMinutes = 45 - timeNowMinutes;\r\n        setTimerMinutes(timerMinutes);\r\n      }\r\n      else if (Number(timeNowMinutes) > 46) { // אותו דבר אבל מעל 45 דקות\r\n        const timerMinutes = 60 - timeNowMinutes;\r\n        setTimerMinutes(timerMinutes);\r\n      }\r\n      setTimerSeconds(timeNowSeconds); //חישוב השניות והוספה לטיימר\r\n\r\n    }\r\n    else {\r\n      alert('You have to login to get new positions'); //משתמש לא מחובר מנסה להביא פוזיציה\r\n    }\r\n  }\r\n\r\n  const TimerHandler = async () => { //פונקציה הגורמת לטיימר לעבוד (הטיימר בודק כל הזמן את השעה הנוכחית ומוודא שהיא תואמת לטיימר) //במידה והטיימר לא על 00:00\r\n    const Interval = setInterval(async () => { //יצירת אינטרבל שעובד כל שנייה\r\n      if (timerMinutes >= 0) { //אם הטיימר לא סיים לעבוד\r\n        const timeNowSeconds = 60 - new Date().toLocaleTimeString([], { second: '2-digit' }); //בדיקת הזמן הנוכחי בשניות\r\n        setTimerSeconds(timeNowSeconds); //שינוי הטיימר בשניות ל60 פחות הזמן הנוכחי בשניות\r\n        clearInterval(Interval); //ניקוי האינטרבל\r\n      }\r\n      else if (timerMinutes < 0 && timerSeconds > 59) { //במידה והטיימר סיים לעבוד\r\n        clearInterval(Interval); //ניקוי אינטרבל\r\n        setTimerSeconds(0); // שינוי השניות ל00\r\n        setTimerMinutes(0); // שינוי הדקות ל00\r\n        window.localStorage.removeItem('timer');\r\n        window.localStorage.removeItem('email');\r\n        window.localStorage.removeItem('type');\r\n        window.localStorage.removeItem('amount');\r\n        audio.play(); // מפעיל את הפעמול \r\n        if (newPositionsType === 'crypto') { // במידה ונבחר קריפטו\r\n          await addNewCrypto();  // מוסיף קריפטו\r\n\r\n        }\r\n        if (newPositionsType === 'bonds') { // במידה ונבחר בונדס\r\n          await addNewBonds(); // מוסיף בונדס\r\n        }\r\n        if (newPositionsType === 'rest') { // במידה ונבחר רסט\r\n          await addNewRest(); // מוסיף רסט\r\n        }\r\n        if (newPositionsType === 'comodity') { // במידה ונבחר קומודיטי\r\n          await addNewComodity(); // מוסיף קומודיטי\r\n        }\r\n        if (newPositionsType === 'pairs') { // במידה ונבחר קורנסי פיירס\r\n          await addNewPairs(); // מוסיף קורנסי פיירס\r\n        }\r\n        if (newPositionsType === 'stocks') { // במידה ונבחר סטוקס\r\n          await addNewStocks(); // מוסיף סטוקס\r\n        }\r\n        handleReRenderTable();\r\n      }\r\n    }, 1000) //סוף האינטרבל\r\n    if (timerSeconds == '1') { //במידה והשניות הגיעו ל1\r\n      setTimeout(async () => {  //יצירת טיים אאוט\r\n        await setTimerMinutes(timerMinutes - 1); //כעבור שנייה הדקות ירדו ב1\r\n        setTimerSeconds('60');\r\n      }, 1000);//סוף הטיים אאוט\r\n    }\r\n  }\r\n\r\n  // פונקציה שקוראת לאייפיאיי שמכין פידיאף להורדה\r\n  const downloadPdf = async (positionsArray) => {\r\n    try {\r\n      await axios.post('/pdf/downloadpage', {\r\n        positions: positionsArray,\r\n        email: userEmail\r\n      });\r\n      window.open(`/usersPDF/${userEmail}.pdf`, '_blank')\r\n    } catch (err) {\r\n      console.log(err);\r\n    };\r\n  };\r\n\r\n  //פונקציית האנדלר לרענון של הקומפוננטה דרך קומפוננטה אחרת \r\n  const handleReRenderTable = () => {\r\n    setReRenderTable(true);\r\n    setTimeout(() => {\r\n      setReRenderTable(false);\r\n    }, 5000);\r\n  };\r\n\r\n  //אפקט שמריץ את הטיימר\r\n  useEffect(() => {\r\n    if (timerSeconds !== '1' && timerSeconds != 0) {\r\n      TimerHandler(); //קריאה לפונקציה שמפעילה את הטיימר\r\n    }\r\n  }, [timerSeconds]);\r\n\r\n  useEffect(async () => { //בעלייה הראשונה של הדף\r\n    const userDetails = await axios.get('/auth/userDetails'); //בודק אם המשתמש מחובר ואם כן מביא את הפרטים שלו\r\n    if (userDetails.data) { //אם המשתמש מחובר\r\n      const userCredits = await axios.get(`/auth/getUserById/${userDetails.data._id}`); //בודק כמה קרדיטים יש למשתמש \r\n      setUserPremission(userDetails.data.isAdmin); //מציג את ההרשאות של המשתמש\r\n      setUserCredits(userCredits.data.credits); //מציג את כמות הקרדיט של המשתמש לפי הדאטאבייס\r\n      setUserEmail(userDetails.data.email); //מציג את האימייל של המשתמש\r\n      setUserFirstName(userDetails.data.firstName) //מציג את השם הפרטי של המשתמש\r\n    }\r\n  }, [])\r\n\r\n  // אפקט שבודק אם המשתמש יצא כשהטיימר עבד ושומר אותו בלוקאל סטוריג\r\n  useEffect(() => {\r\n    if (userFirstName !== 'Guest') { // במידה והמשתמש מחובר\r\n      const StorageTimer = window.localStorage.getItem('timer'); // בודק אם היה לו טיימר שעבד\r\n      const email = window.localStorage.getItem('email'); // מוודא שזה אותו משתמש שסגר את הטיימר\r\n      if (StorageTimer == 1 && email === userEmail) { // במידה ושני התנאים נכונים\r\n        const amount = window.localStorage.getItem('amount'); // מביא את כמות הפוזיציות שהמשתמש רצה לפני שסגר את האתר\r\n        const type = window.localStorage.getItem('type'); // מביא את סוג הפוזיציות שהמשתמש רצה לפני שסגר את האתר\r\n        axios.post('/auth/changeCredits', {\r\n          email: email,\r\n          amount: amount\r\n        })\r\n          .then(() => {\r\n            window.localStorage.setItem('timer', 0);\r\n            window.localStorage.setItem('email', '');\r\n            window.localStorage.setItem('type', '');\r\n            window.localStorage.setItem('amount', '');\r\n            alert('You have left the page while the timer was working. please refreh the application to get refunded.')\r\n          })\r\n      }\r\n    }\r\n  }, [userFirstName]);\r\n\r\n  // ימחק בהמשך - פונקציית טסט שמאפסת את הדקות בטיימר למתרות טסטינג\r\n  const testTimer = () => {\r\n    setTimerMinutes(0);\r\n  };\r\n\r\n  // פונקציה שמקבלת מהקומפוננטה של הטבלה תאריכים של פוזיציות פתוחות ומרנדרת מחדש את הטבלה כשתאריך סגירה מגיע\r\n  const getEndDateData = (endDatesArray) => {\r\n    //אופציות לטיימר שיפעל על שעון ישראל לפי תאריך\r\n    let options = {\r\n      timeZone: 'Asia/Jerusalem',\r\n      day: '2-digit', month: '2-digit', year: 'numeric', day: '2-digit'\r\n    },\r\n      formatter = new Intl.DateTimeFormat([], options);\r\n    let today = formatter.format(new Date()).replace(/[.]/g, '-'); //התאריך של היום\r\n\r\n    let validEndDatesArray = [];\r\n\r\n    //בודק שהתאריך של הפוזיציה וולידי\r\n    endDatesArray.map((date) => {\r\n      if (date.slice(0, 10) === today) {\r\n        validEndDatesArray.push(date);\r\n      };\r\n    });\r\n    // מסדר את התאריכים מהקרוב ביותר לרחוק ביותר\r\n    const sortedValidDates = validEndDatesArray.sort((a, b) => {\r\n      return a.slice(10).replace(':', '') - b.slice(10).replace(':', '');\r\n    });\r\n\r\n    //אופציות לטיימר שיפעל על שעון ישראל לפי שעה\r\n    let hourOptions = {\r\n      timeZone: 'Asia/Jerusalem',\r\n      hour: '2-digit'\r\n    },\r\n      formatter2 = new Intl.DateTimeFormat([], hourOptions);\r\n    let hour = formatter2.format(new Date());\r\n    //אופציות לטיימר שיפעל על שעון ישראל לפי דקה\r\n    let minuteOptions = {\r\n      timeZone: 'Asia/Jerusalem',\r\n      minute: '2-digit'\r\n    },\r\n      formatter3 = new Intl.DateTimeFormat([], minuteOptions);\r\n    let minutes = formatter3.format(new Date());\r\n    //מוודא שוב שהפוזיציה רלטיבית מבחינת שעות\r\n    const relativeDates = sortedValidDates.filter(date => Number(date.slice(10, 13)) >= hour && Number(date.slice(14, 16)) >= minutes);\r\n    setRelativeEndDate(relativeDates[0]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    //אופציות לטיימר שיפעל על שעון ישראל לפי שעה\r\n    let hourOptions = {\r\n      timeZone: 'Asia/Jerusalem',\r\n      hour: '2-digit'\r\n    },\r\n      formatter2 = new Intl.DateTimeFormat([], hourOptions);\r\n    let hour = formatter2.format(new Date());\r\n\r\n    //אופציות לטיימר שיפעל על שעון ישראל לפי דקה\r\n    let minuteOptions = {\r\n      timeZone: 'Asia/Jerusalem',\r\n      minute: '2-digit'\r\n    },\r\n      formatter3 = new Intl.DateTimeFormat([], minuteOptions);\r\n    let minutes = formatter3.format(new Date());\r\n\r\n    if (relativeEndDate) { // אם יש תאריכים רלוונטים\r\n      if (Number(relativeEndDate.slice(10, 13)) === Number(hour)) { //אם השעה של תאריך הסגירה שווה לשעה הנוכחית\r\n        setTimeout(() => { // מפעיל טיימר\r\n          handleReRenderTable(); //מרנדר מחדש את הטבלה\r\n        }, (Number(relativeEndDate.slice(14, 16) - minutes)) * 1000 * 60) // הזמן שהטיימר צריך לעבוד \r\n      }\r\n    }\r\n  }, [relativeEndDate]);\r\n\r\n  const handleAvailableSymbolsChange = ({ target }) => {\r\n    setOpenSymbols(target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (openSymbols === 'crypto') {\r\n      cryptoSymbols();\r\n    }\r\n    if (openSymbols === 'pairs') {\r\n      pairsSymbols();\r\n    }\r\n    if (openSymbols === 'bonds') {\r\n      bondsSymbols();\r\n    }\r\n    if (openSymbols === 'comodity') {\r\n      comoditySymbols();\r\n    }\r\n    if (openSymbols === 'indexes') {\r\n      indexesSymbols();\r\n    }\r\n    if (openSymbols === 'stocks') {\r\n      stocksSymbols();\r\n    }\r\n  }, [openSymbols])\r\n\r\n\r\n  const bondsSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/d/1VZOFoAPhfIigwNSD8j4SjM3VXvJI17uKasW-KH-hjvk/edit#gid=0\", '_blank')\r\n  }\r\n\r\n  const pairsSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/d/13WBfVqtgm1lpx230yJyvFVxzgGzOwm96BRDtXTq_dMY/edit#gid=0\", '_blank')\r\n  }\r\n\r\n  const cryptoSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/u/2/d/1AXKooJnZS8j5HoZVLdmls8jh1B9SN7Xyw7EVzClqRW4/edit#gid=0\", '_blank')\r\n  }\r\n\r\n  const comoditySymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/d/1qQSdmshVsYaP_fvwwDx27UlZBe_R57-R8ixmHtqceTU/edit#gid=0\", '_blank')\r\n  }\r\n\r\n  const stocksSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/u/2/d/1DmFY6gaN8xzYpNCVg6nOE9xpm05zqKQ97vPzXuZ6Dj0/edit#gid=1238020137\", '_blank')\r\n  }\r\n\r\n  const indexesSymbols = () => {\r\n    window.open(\"https://docs.google.com/spreadsheets/d/1pN6EFAZOOcmH_34fO1IzlSlEHX6lle3qB4xAYiBjFE8/edit#gid=0\", '_blank')\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        position=\"relative\"\r\n        style={{\r\n          top: 0, height: '170px', margin: 'auto', paddingTop: '45px', backgroundImage: 'url(\"main-img.jpg\")', zIndex: '10',\r\n          backgroundRepeat: 'no-repeat', backgroundSize: 'cover'\r\n        }}\r\n      >\r\n        <Toolbar>\r\n          <Grid container alignItems=\"center\" justify=\"center\" spacing={1}>\r\n            {userFirstName === 'Guest' && windowSize !== 'xs' && <Grid item xs={5} sm={3}>\r\n              <Typography variant=\"h6\" className={classes.title} style={{ color: 'white', position: 'relative', bottom: '20px', left: '100px' }}>\r\n                Hello {userFirstName}\r\n              </Typography>\r\n            </Grid>}\r\n            {userFirstName === 'Guest' && windowSize === 'xs' && <Grid item xs={5} sm={3}>\r\n              <Typography variant=\"h6\" className={classes.title} style={{ color: 'white', position: 'relative', bottom: '20px' }}>\r\n                Hello {userFirstName}\r\n              </Typography>\r\n            </Grid>}\r\n            {userFirstName !== 'Guest' && userPremission !== 1 && <Grid item xs={5} sm={1} style={{ position: 'relative', position: 'relative', bottom: '20px' }} >\r\n              <Typography variant=\"h6\" className={classes.title} style={{ color: 'white' }}>\r\n                Hello {userFirstName}\r\n              </Typography>\r\n            </Grid>}\r\n            {userFirstName !== 'Guest' && userPremission !== 1 && windowSize !== 'xs' && <Grid item xs={5} sm={1} style={{ position: 'relative', right: '20px', position: 'relative', bottom: '20px' }}>\r\n              <Typography variant=\"h6\" className={classes.title} style={{ color: 'white' }}>\r\n                {userCredits} Credits\r\n              </Typography>\r\n            </Grid>}\r\n            {userFirstName !== 'Guest' && userPremission !== 1 && windowSize === 'xs' && <Grid item xs={5} sm={1} style={{ position: 'relative', right: '20px', position: 'relative', bottom: '20px' }}>\r\n              <Typography variant=\"h6\" className={classes.title} style={{ color: 'white', position: 'relative', left: '40px' }}>\r\n                {userCredits} Credits\r\n              </Typography>\r\n            </Grid>}\r\n            {userPremission !== 1 && timerMinutes == '00' && timerSeconds == '00' &&\r\n              <Grid item xs={8} sm={2}>\r\n                <NewPositionModal handleStartTimer={(type, amount, stockValue) => TimerValidation(type, amount, stockValue)} />\r\n              </Grid>}\r\n            {userPremission !== 1 && timerSeconds != '00' && <Grid item xs={6} sm={2}>\r\n              <Button variant=\"contained\" color=\"secondary\" style={{ position: 'relative', bottom: '20px' }}\r\n                onClick={() => stopTimer()}\r\n              >\r\n                Stop timer (refund)\r\n              </Button>\r\n            </Grid>}\r\n            {userPremission !== 1 && userFirstName !== 'Guest' && <Grid item xs={5} sm={2}>\r\n              <Typography variant=\"h5\" className={classes.title} style={{ color: 'white', position: 'relative', bottom: '20px' }}>\r\n                Timer: {timerMinutes}:{timerSeconds}\r\n              </Typography>\r\n            </Grid>}\r\n            {userPremission !== 1 && userFirstName !== \"Guest\" && windowSize !== 'xs' && <Grid item xs={6} sm={2}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{ position: 'relative', bottom: '20px', right: '50px' }}\r\n                onClick={() => history.push('/payment')}\r\n              >\r\n                Buy Credits\r\n              </Button>\r\n            </Grid>}\r\n            {userPremission !== 1 && userFirstName !== \"Guest\" && windowSize === 'xs' && <Grid item xs={6} sm={2}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{ position: 'relative', bottom: '20px', left: '20px', }}\r\n                onClick={() => history.push('/payment')}\r\n              >\r\n                Buy Credits\r\n              </Button>\r\n            </Grid>}\r\n            {userPremission !== 1 && userFirstName !== 'Guest' && windowSize !== 'xs' && <Grid item xs={6} sm={2}>\r\n              <Link to=\"/contact\" style={{ textDecoration: 'none', position: 'relative', bottom: '20px', right: '100px' }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Contact us\r\n                </Button>\r\n              </Link>\r\n            </Grid>}\r\n\r\n            {userPremission !== 1 && userFirstName !== 'Guest' && windowSize === 'xs' && <Grid item xs={6} sm={2}>\r\n              <Link to=\"/contact\" style={{ textDecoration: 'none', position: 'relative', bottom: '20px' }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Contact us\r\n                </Button>\r\n              </Link>\r\n            </Grid>}\r\n\r\n\r\n            {userPremission !== 1 && windowSize !== 'xs' && userFirstName === 'Guest' && <Grid item xs={6} sm={3}>\r\n              <Link to=\"/contact\" style={{ textDecoration: 'none', position: 'relative', bottom: '20px' }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Contact us\r\n                </Button>\r\n              </Link>\r\n            </Grid>}\r\n            {userPremission !== 1 && userFirstName === 'Guest' && windowSize !== 'xs' && <Grid item sm={1}>\r\n              <FormControl style={{ width: '180px', position: 'relative', right: '200px', bottom: '25px' }} >\r\n                <InputLabel style={{ width: '180px', color: 'white' }} >Available Symbols</InputLabel>\r\n                <NativeSelect style={{ width: '180px' }}\r\n                  value={openSymbols}\r\n                  onChange={handleAvailableSymbolsChange}\r\n                >\r\n                  <option aria-label=\"None\" value=\"\" />\r\n                  <option value={'crypto'}>Crypto Symbols</option>\r\n                  <option value={'pairs'}>Currency Pairs Symbols</option>\r\n                  <option value={'stocks'}>Stocks Symbols</option>\r\n                  <option value={'bonds'}>Bonds Symbols</option>\r\n                  <option value={'comodity'}>Comodity Symbols</option>\r\n                  <option value={'indexes'}>Indexes Symbols</option>\r\n                </NativeSelect>\r\n              </FormControl>\r\n            </Grid>}\r\n\r\n\r\n            {userPremission !== 1 && windowSize === 'xs' && userFirstName === 'Guest' && <Grid item xs={6} sm={3}>\r\n              <Link to=\"/contact\" style={{ textDecoration: 'none', marginLeft: '10px', position: 'relative', bottom: '20px' }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Contact us\r\n                </Button>\r\n              </Link>\r\n            </Grid>}\r\n            {userFirstName === 'Guest' && windowSize !== 'xs' && <Grid item xs={7} sm={1}>\r\n              <Link to=\"/login\" style={{ textDecoration: 'none', position: 'relative', right: '80px' }}>\r\n                <Button variant=\"contained\" color=\"success\" style={{ position: 'relative', bottom: '20px' }}>\r\n                  Sign in\r\n                </Button>\r\n              </Link>\r\n            </Grid>}\r\n            {userFirstName === 'Guest' && windowSize === 'xs' && <Grid item xs={7} sm={1}>\r\n              <Link to=\"/login\" style={{ textDecoration: 'none', position: 'relative', left: '40px' }}>\r\n                <Button variant=\"contained\" color=\"success\" style={{ position: 'relative', bottom: '20px' }}>\r\n                  Sign in\r\n                </Button>\r\n              </Link>\r\n            </Grid>}\r\n            {userFirstName === 'Guest' && <Grid item xs={4} sm={1}>\r\n              <Link to=\"/register\" style={{ textDecoration: 'none', position: 'relative', bottom: '20px', right: '50px' }}>\r\n                <Button variant=\"contained\" color=\"secondary\" >\r\n                  Sign up\r\n                </Button>\r\n              </Link>\r\n            </Grid>}\r\n\r\n            {userFirstName !== 'Guest' && windowSize !== 'xs' && <Grid item xs={5} sm={1}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                style={{ fontSize: '15px', position: 'relative', position: 'relative', bottom: '20px', right: '100px' }}\r\n                onClick={() => HandleLogout()} //מבצע התנתקות בלחיצה\r\n              >\r\n                logout\r\n              </Button>\r\n            </Grid>}\r\n\r\n            {userFirstName !== 'Guest' && windowSize === 'xs' && <Grid item xs={5} sm={1}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                style={{ fontSize: '15px', position: 'relative', position: 'relative', bottom: '20px', }}\r\n                onClick={() => HandleLogout()} //מבצע התנתקות בלחיצה\r\n              >\r\n                logout\r\n              </Button>\r\n            </Grid>}\r\n\r\n\r\n            {userPremission === 1 && <AdminPanel />}\r\n            {userPremission !== 1 && windowSize !== 'xs' && userFirstName !== 'Guest' && <Grid item xs={9} sm={1}>\r\n              <img\r\n                src={'/Logo.jpg'}\r\n                style={{\r\n                  width: '217px', zIndex: '15', position: 'relative', bottom: '20px', right: '45px'\r\n                }}\r\n              />\r\n            </Grid>}\r\n\r\n            {userPremission !== 1 && windowSize !== 'xs' && userFirstName === 'Guest' && <Grid item xs={9} sm={1}>\r\n              <img\r\n                src={'/Logo.jpg'}\r\n                style={{\r\n                  width: '217px', zIndex: '15', position: 'relative', bottom: '20px', right: '45px'\r\n                }}\r\n              />\r\n            </Grid>}\r\n\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {userPremission === 0 &&\r\n        <PositionsTable\r\n          passEndDates={(endDatesArray) => getEndDateData(endDatesArray)}\r\n          reRender={reRenderTable}\r\n          PdfArray={(positionsArray) => downloadPdf(positionsArray)}\r\n        />}\r\n      {userPremission !== 1 && windowSize === 'xs' && <Grid item xs={9} sm={1}>\r\n        <img\r\n          src={'/Logo.jpg'}\r\n          style={{ width: '250px', zIndex: '15', position: 'relative', bottom: '0', top: '20px', left: '20%' }}\r\n        />\r\n      </Grid>}\r\n      {userFirstName === 'Guest' && <h1 style={{ textAlign: 'center' }}>\r\n        Welcome to Trading and Coffee!\r\n      </h1>}\r\n      {userFirstName === 'Guest' && <h2 style={{ textAlign: 'center' }}>\r\n        login to start using the application\r\n      </h2>}\r\n    </div>\r\n  );\r\n}\r\nexport default HomePage;","import React, { useState, useEffect } from 'react';\r\nimport './Login.css';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from 'axios'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nfunction Copyright() { //פונקציית זכויות יוצרים\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://tradingandcoffee.com/\">\r\n        Trading & Coffee\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({ //סטיילינג\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() { //פונקצייה ראשית - התחברות\r\n  const classes = useStyles(); //סטיילינג לפי קלאסים\r\n  const [userName, setUserName] = useState([]);  //שם משתמש - אימייל\r\n  const [password, setPassword] = useState([]); // סיסמא\r\n  const history = useHistory(); // ריאקט הוקס - ראוטר\r\n\r\n\r\n  const HandleLogin = async (e) => { //פונקציית התחברות\r\n    try {\r\n      const login = await axios.post('/auth/login', { //API שמחבר את המשתמש\r\n        username: userName,\r\n        password: password\r\n    })\r\n    history.push(\"/\"); //אם המשתמש הצליח להתחבר מעביר אותו לדף הראשי\r\n    } catch {\r\n      alert('wrong username or password'); //אם המשתמש לא הצליח מציג הודעת שגיאה\r\n    };\r\n  };\r\n  \r\n  useEffect(() => {\r\n\r\n  })\r\n\r\n  return (\r\n    <div className=\"container-div\">\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{backgroundColor: 'white'}}>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <div className={classes.form} noValidate>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              onChange={({target: {value}}) => setUserName(value)} //שינוי שם המשתמש לפי הערך שהכניס\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={({target: {value}}) => setPassword(value)} //שינוי סיסמא לפי הערך שהכניס\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              onClick={() => HandleLogin()} //קריאה לפונקציית התחברות\r\n            >\r\n              Sign In\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item>\r\n                <Link href=\"/register\" variant=\"body2\" style={{position: 'relative', left: '90px'}}>\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <Copyright />\r\n        <h4 style={{textAlign: 'center'}}>\r\n         {<a href=\"https://wa.me/12407431840\">Contact through WhatsApp <WhatsAppIcon></WhatsAppIcon>+1-240-743-1840</a>}\r\n          </h4>\r\n          <img \r\n            src={'/Logo.jpg'}\r\n            style={{width: '300px', display: 'block', marginLeft: 'auto', marginRight: 'auto',position: 'relative',  bottom: '5px', zIndex: '15',}} \r\n          />  \r\n      </Container>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport './Register.css';\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport PhoneInput from 'react-phone-input-2'\r\nimport 'react-phone-input-2/lib/style.css'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({ //יצירת סטיילינג\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(1, 0, 1),\r\n  },\r\n}));\r\n\r\nexport default function Register() { //פונקציה ראשית - הרשמה\r\n  const classes = useStyles(); //שימוש סטיילינג לפי קלאסים\r\n  const [firstName, setFirstName] = useState(); //סטייט שם פרטי\r\n  const [lastName, setlastName] = useState(); //סטייט שם משפחה\r\n  const [email, setEmail] = useState(); //סטייט אימייל\r\n  const [password, setPassword] = useState(); //סטייט סיסמא\r\n  const [checkBox, setCheckBox] = useState(false); //סטייט קריאת תנאי הרשמה\r\n  const [checkBox2, setCheckBox2] = useState(false); //סטייט מעל גיל 18\r\n  const [phoneNumber, setPhoneNumber] = useState();\r\n  const [confirmPass, setConfirmPass] = useState();\r\n  const [emailFlag, setEmailFlag] = useState(false);\r\n  const history = useHistory(); //ריאקט הוקס - ראוטר\r\n\r\n  const HandleRegister = async (e) => { //פונקציה שרושמת את המשתמש במערכת\r\n    try {\r\n      if (checkBox === true) { //במידה והמשתמש קרא את התנאים\r\n        if (checkBox2 === true) {\r\n                  if (confirmPass === password) { //מוודא שהסיסמא תואמת\r\n          if (emailFlag === true) {\r\n            const signup = await axios.post('/auth/signup', { //api רושם את המשתמש במערכת\r\n              firstName: firstName,\r\n              lastName: lastName,\r\n              phone: phoneNumber,\r\n              email: email,\r\n              password: password,\r\n            })\r\n            await axios.post('/emails/sendRegisterationMail', {\r\n              email: email,\r\n              username: email,\r\n              password: password\r\n            })\r\n            alert(signup.data.message);\r\n            if (signup.data.created === 'true') {\r\n              history.push(\"/login\"); //מעביר את המשתמש לעמוד התחברות במידה והוא נרשם בהצלחה\r\n            }\r\n          } else {\r\n            alert('Email is not valid');\r\n          }\r\n        } else {\r\n          alert('Passwords does not match');\r\n        };\r\n      } else {\r\n        alert('You have to confirm you are at least 18 years old')\r\n      }\r\n      } else {\r\n        alert('You have to agree to the terms of service'); //הודעת שגיאה במידה והמשתמש לא קרא את התנאים\r\n      }\r\n    } catch {\r\n      alert('Something went wrong'); //הודעת שגיאה במידה ומשהו השתבש בדרך\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (String(email).includes('@') === true) {\r\n      setEmailFlag(true);\r\n    }\r\n    else {\r\n      setEmailFlag(false);\r\n    };\r\n  }, [email])\r\n\r\n  return (\r\n    <div className=\"container-div\">\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign up\r\n          </Typography>\r\n          <div className={classes.form} noValidate>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  autoComplete=\"fname\"\r\n                  name=\"firstName\"\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"firstName\"\r\n                  label=\"First Name\"\r\n                  autoFocus\r\n                  onChange={({ target: { value } }) => setFirstName(value)} //שינוי שם פרטי לפי הערך שהמשתמש בחר\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"lastName\"\r\n                  label=\"Last Name\"\r\n                  name=\"lastName\"\r\n                  onChange={({ target: { value } }) => setlastName(value)} //שינוי שם משפחה לפי הערך שהמשתמש בחר\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  onChange={({ target: { value } }) => setEmail(value)} //שינוי אימייל לפי הערך שהמשתמש בחר\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  onChange={({ target: { value } }) => setConfirmPass(value)} //שינוי סיסמא לפי הערך שהמשתמש בחר\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"confirm\"\r\n                  label=\"confirm password\"\r\n                  type=\"password\"\r\n                  id=\"confirm\"\r\n                  onChange={({ target: { value } }) => setPassword(value)} //שינוי סיסמא לפי הערך שהמשתמש בחר\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <PhoneInput\r\n                  style={{\r\n                    position: 'relative',\r\n                    margin: 'auto',\r\n                    width: '300px'\r\n                  }}\r\n                  country={'ee'}\r\n                  onChange={(phone) => setPhoneNumber(phone)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControlLabel\r\n                  control={<Checkbox value=\"false\" color=\"primary\" />}\r\n                  label=\"I have read and accept the Terms of service, Privacy policy & Disclaimer.\"\r\n                  onClick={() => checkBox == true ? setCheckBox(false) : setCheckBox(true)} //שינוי סטייט שהמשתמש קרא את התנאים\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControlLabel\r\n                  control={<Checkbox value=\"false\" color=\"primary\" />}\r\n                  label=\"I am over 18 years old\"\r\n                  onClick={() => checkBox2 == true ? setCheckBox2(false) : setCheckBox2(true)} //שינוי סטייט שהמשתמש קרא את התנאים\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              onClick={() => HandleRegister()} //קריאה לפונקציית הרשמה\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <Grid container justify=\"center\">\r\n              <Grid item  lg={5}>\r\n                  <Link style={{color: 'black', fontWeight: 'bold'}} href=\"https://docs.google.com/document/d/1xkG8ccYOo9-h1TdRxQP6MEkWzo4UotttVusHba8h2sU/edit\">Terms of services</Link>\r\n              </Grid>\r\n              <Grid item lg={4}>\r\n                  <Link style={{color: 'black', fontWeight: 'bold'}} href=\"https://docs.google.com/document/d/1YsQbDrYkuke9pX13NmyYDcb9l9kc7qe0wakAvKBeCJ8/edit\">Privacy policy</Link>\r\n              </Grid>\r\n              <Grid item lg={3}>\r\n                  <Link style={{color: 'black', fontWeight: 'bold'}} href=\"https://docs.google.com/document/d/1YsQbDrYkuke9pX13NmyYDcb9l9kc7qe0wakAvKBeCJ8/edit\">Disclaimer</Link>\r\n              </Grid>\r\n              \r\n              <br/>\r\n              <br/>\r\n\r\n              <Grid item>\r\n                <Link href=\"/login\" variant=\"body2\" style={{color: 'black', fontWeight: 'bold'}}>\r\n                  Already have an account? Sign in\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n        </div>\r\n        <h4 style={{ textAlign: 'center', position: 'relative', bottom: '10px' }}>\r\n          {<a href=\"https://wa.me/12407431840\" style={{color: 'black'}}>Contact through WhatsApp<WhatsAppIcon></WhatsAppIcon>+1-240-743-1840</a>}\r\n        </h4>\r\n        <Grid item xs={12}>\r\n          <img\r\n            src={'/Logo.jpg'}\r\n            style={{ width: '300px', display: 'block', marginLeft: 'auto', marginRight: 'auto', Index: '15', }}\r\n          />\r\n        </Grid>\r\n      </Container>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport axios from 'axios'\r\nimport './Contact.css'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Button } from '@material-ui/core'\r\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({ //יצירת סטייל\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ContactPage() { //פונקציה ראשית - עמוד יצירת קשר\r\n  const classes = useStyles(); //שימוש בסטייל לפי קלאסים\r\n  const [fullName, setfullName] = React.useState(''); //סטייט שם מלא\r\n  const [email, setEmail] = React.useState(''); //סטייט אימייל\r\n  const [message, setMessage] = React.useState(''); //סטייט הודעה\r\n\r\n  const handleNameChange = (fullName) => { //פונקציה לשינוי השם\r\n    setfullName(fullName); //משנה את השם לפי הערך שהמשתמש הזין\r\n  };\r\n\r\n  const handleEmailChange = (email) => { //פונקציה לשינוי אימייל\r\n    setEmail(email); //משנה את האימייל לפי הערך שהמשתמש הזין\r\n  };\r\n\r\n  const handleMessageChange = (message) => { //שינוי ההודעוה\r\n    setMessage(message); //משנה את ההודעה לפי הערך שהמשתמש הזין\r\n  };\r\n\r\n  const sendEmail = async (fullName, email, message) => { //שליחת הודעה למערכת\r\n    try {\r\n      await axios.post('/emails/send', { //API שולח הודעה לדאטא בייס\r\n        fullName,\r\n        email,\r\n        message\r\n      })\r\n      alert('Your message has been sent successfully'); //הודעה שההודעה נשלחה בהצלחה\r\n      setEmail(''); //איפוס אימייל\r\n      setfullName(''); //איפוס שם מלא\r\n      setMessage(''); //איפוס ההודעה\r\n    } catch {\r\n      alert('Something went wrong please try again'); //במקרה של כשלון שולח הודעה שמשהו השתבש\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container justify=\"center\" alignItems=\"center\">\r\n        <div style={{ textAlign: 'center' }}>\r\n          <span className=\"fonted\" style={{ fontSize: '60px', position: 'relative', top: '20px' }}>Contact Us</span>\r\n          <br />\r\n          <br />\r\n          <span className=\"fonted2\" style={{ fontSize: '40px', position: 'relative', top: '20px' }}>We'd love to help!</span>\r\n          <br />\r\n          <br />\r\n          <span className=\"fonted2\" style={{ fontSize: '30px', position: 'relative', top: '20px' }}>we Suggest you to send us an Email or a message through Whatsapp</span>\r\n        </div>\r\n      </Grid>\r\n      <Grid container justify=\"flex-start\" alignItems=\"center\" direction=\"row\">\r\n        <div style={{ width: '40%', marginBottom: '200px' }}>\r\n          <Grid container justify=\"center\" alignItems=\"flex-end\" direction=\"column\">\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                style={{\r\n                  position: 'relative',\r\n                  top: '50px',\r\n                  width: '360px',\r\n                }}\r\n                id=\"fullName\"\r\n                label=\"Your full name\"\r\n                value={fullName}\r\n                placeholder=\"example: Nitai Luyckx\"\r\n                onChange={({ target: { value } }) => handleNameChange(value)} //קיראה לפונקציה שינוי שם עם הערך שנבחר\r\n                variant=\"outlined\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                style={{\r\n                  position: 'relative',\r\n                  top: '50px',\r\n                  width: '360px'\r\n                }}\r\n                value={email}\r\n                id=\"email\"\r\n                label=\"Your email address\"\r\n                placeholder=\"example: customer@Trading&Coffee.com\"\r\n                variant=\"outlined\"\r\n                onChange={({ target: { value } }) => handleEmailChange(value)} //קיראה לפונקציה שינוי אימייל עם הערך שנבחר\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                style={{\r\n                  position: 'relative',\r\n                  top: '50px',\r\n                  width: '360px'\r\n                }}\r\n                id=\"message\"\r\n                label=\"Your message\"\r\n                multiline\r\n                value={message}\r\n                rows={10}\r\n                placeholder=\"example: I would love to buy some credits. how can i do that?\"\r\n                variant=\"outlined\"\r\n                onChange={({ target: { value } }) => handleMessageChange(value)} //קיראה לפונקציה שינוי הודעה עם הערך שנבחר\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{\r\n                  position: 'relative',\r\n                  top: '50px',\r\n                  width: '360px',\r\n                  left: '7px'\r\n                }}\r\n                onClick={() => sendEmail(fullName, email, message)}\r\n              >\r\n                <span className=\"fonted\">Send Email</span>\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n        <Grid item xs={12} sm={6}>\r\n          <div style={{ margin: '0 auto', width: '100%', position: 'relative', bottom: '10px' }}>\r\n            <Grid container justify=\"flex-end\" alignItems=\"center\" direction=\"column\">\r\n              {/* <Grid item xs={12}>\r\n                <a href=\"https://www.google.co.il/maps/place/Nolimitz/@29.4238044,-98.4927114,18.3z\"\r\n                  rel=\"noreferrer\"\r\n                  target=\"_blank\"\r\n                  style={{ color: 'black' }}\r\n                >\r\n                  <LocationOnIcon style={{ fontSize: '50px', position: 'relative', top: '10px' }} />\r\n                  <span className=\"fonted3\" style={{ fontSize: '30px' }}>\r\n                    7292 Dictum Av.San Antonio\r\n                    </span>\r\n                </a>\r\n              </Grid> */}\r\n              <a href=\"https://wa.me/12407431840\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                style={{ color: 'black' }}\r\n              >\r\n                <WhatsAppIcon style={{ fontSize: '50px', position: 'relative', top: '10px', right: '80px', color: 'green'}} />\r\n                <span className=\"fonted3\" style={{ fontSize: '30px', position: 'relative', right: '70px' }}>\r\n                  Let's talk\r\n                  </span>\r\n              </a>\r\n              <a href=\"https://mail.google.com/mail/u/0/?fs=1&to=tradingandcoffeeapplication@gmail.com&su=SUBJECT&body=BODY&tf=cm\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                style={{ color: 'black' }}\r\n              >\r\n                <EmailIcon style={{ fontSize: '50px', position: 'relative', top: '10px', right: '60px', color: 'blue'}} />\r\n                <span className=\"fonted3\" style={{ fontSize: '30px', position: 'relative', right: '50px' }}>\r\n                  Send an Email\r\n                </span>\r\n              </a>\r\n            </Grid>\r\n          </div>\r\n          <img\r\n\r\n            src={'/Logo.jpg'}\r\n            alt=\"logo\"\r\n            style={{ width: '380px', position: 'relative', float: 'right', zIndex: '15', bottom: '20px' }}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n\r\n// פונקה ראשית - פייפאל\r\nexport default function Paypal() {\r\n  const paypal = useRef(); // רפרנס של פייפאל\r\n  const [userDetails, setUserDetails] = useState({}); // פרטים של המשתמש\r\n  const history = useHistory(); // ריאקט הוקס - ראוטר\r\n\r\n  //כשהדף עולה\r\n  useEffect(async () => {\r\n    const userDetails = await axios.get('/auth/userDetails'); // מביא מידע על המשתמש\r\n    if (userDetails.firstName === 'Guest') { // אם המשתמש לא מחובר\r\n      history.push('/') //מעביר אותו לדף הראשי\r\n    }\r\n    setUserDetails(userDetails.data); // שומר את המידע בסטייט\r\n    window.paypal //אובייקט שפייפאל שמים על ווינדו\r\n      .Buttons({ //יצירת כפתור של פייפאל \r\n        createOrder: (data, actions, err) => {\r\n          return actions.order.create({ //יצירת הכפתור \r\n            intent: \"CAPTURE\",\r\n            purchase_units: [\r\n              {\r\n                description: \"10 positions of any kinds\", //תיאור של המוצר - 10 פוזיציות\r\n                amount: {\r\n                  currency_code: \"USD\", //סוג מטבע לתשלום - דולר\r\n                  value: 30.0, // מחיר - 30\r\n                },\r\n              },\r\n            ],\r\n          });\r\n\r\n        },\r\n        onApprove: async (data, actions) => { //ברגע שההעברה התקבלה\r\n          const userDetails = await axios.get('/auth/userDetails'); //מוודא את המידע על המשתמש\r\n          const checkCredits = await axios.get(`/auth/getUserById/${userDetails.data._id}`) //בודק כמה קרדיטים יש למשתמש \r\n          const updatedCredits = checkCredits.data.credits + 10 // מוסיף למשתמש 10 קרדיטים\r\n          const addCredits = await axios.post('/auth/changeCredits', { //API שמשנה את הקרדיטים של המשתמש בדאטאבייס\r\n            email: userDetails.data.email, //האימייל של המשתמש\r\n            amount: updatedCredits //כמות הקרדיטים המעודכנת\r\n          })\r\n        },\r\n        onError: (err) => { // במידה ויש שגיאה\r\n          console.log(err); // מדפיס את השגיאה\r\n        },\r\n      })\r\n      .render(paypal.current); // רינדור של הכפתור\r\n\r\n    window.paypal //אובייקט שפייפאל שמים על ווינדו\r\n      .Buttons({  //יצירת כפתור של פייפאל \r\n        createOrder: (data, actions, err) => {\r\n          return actions.order.create({ //יצירת הכפתור \r\n            intent: \"CAPTURE\",\r\n            purchase_units: [\r\n              {\r\n                description: \"25 positions of any kinds\", //תיאור של המוצר - 15 פוזיציות\r\n                amount: {\r\n                  currency_code: \"USD\", // מטבע - דולר\r\n                  value: 69.0, // מחיר - 69\r\n                },\r\n              },\r\n            ],\r\n          });\r\n\r\n        },\r\n        onApprove: async (data, actions) => { //ברגע שההעברה התקבלה\r\n          const userDetails = await axios.get('/auth/userDetails'); //מוודא את המידע על המשתמש\r\n          const checkCredits = await axios.get(`/auth/getUserById/${userDetails.data._id}`); //בודק כמה קרדיטים יש למשתמש \r\n          const updatedCredits = checkCredits.data.credits + 25 // מוסיף למשתמש 15 קרדיטים\r\n          const addCredits = await axios.post('/auth/changeCredits', { //API שמשנה את הקרדיטים של המשתמש בדאטאבייס\r\n            email: userDetails.data.email, //האימייל של המשתמש\r\n            amount: updatedCredits //כמות הקרדיטים המעודכנת\r\n          })\r\n        },\r\n        onError: (err) => { //במידה ויש שגיאה\r\n          console.log(err); // מדפיס את השגיאה\r\n        },\r\n      })\r\n      .render(paypal.current); // מרנדר את הכפתור של פייפאל\r\n\r\n    window.paypal //אובייקט שפייפאל שמים על ווינדו\r\n      .Buttons({  //יצירת כפתור של פייפאל\r\n        createOrder: (data, actions, err) => {\r\n          return actions.order.create({ //יצירת הכפתור \r\n            intent: \"CAPTURE\",\r\n            purchase_units: [\r\n              {\r\n                description: \"36 positions of any kinds\", //תיאור של המוצר - 22 פוזיציות\r\n                amount: {\r\n                  currency_code: \"USD\",  // מטבע - דולר\r\n                  value: 99.0,// מחיר - 99\r\n                },\r\n              },\r\n            ],\r\n          });\r\n\r\n        },\r\n        onApprove: async (data, actions) => { //ברגע שההעברה התקבלה\r\n          const userDetails = await axios.get('/auth/userDetails'); //מוודא את המידע על המשתמש\r\n          const checkCredits = await axios.get(`/auth/getUserById/${userDetails.data._id}`); //בודק כמה קרדיטים יש למשתמש\r\n          const updatedCredits = checkCredits.data.credits + 36 // מוסיף למשתמש 22 קרדיטים\r\n          const addCredits = await axios.post('/auth/changeCredits', { //API שמשנה את הקרדיטים של המשתמש בדאטאבייס\r\n            email: userDetails.data.email, //האימייל של המשתמש\r\n            amount: updatedCredits //כמות הקרדיטים המעודכנת\r\n          })\r\n        },\r\n        onError: (err) => { //במידה ויש שגיאה\r\n          console.log(err); // מדפיס את השגיאה\r\n        },\r\n      })\r\n      .render(paypal.current); // מרדנדר את הכפתור של פייפאל\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center' }}>\r\n      <h1 style={{ fontSize: '50px' }}>Our Pricing</h1>\r\n      <h3>\r\n        Hello {userDetails.firstName}, welcome to our pricing page.\r\n            {<br />}\r\n             you can choose the plan that fits you the most and pay through paypal.\r\n             {<br />}\r\n            your credits will be updated as soon as your transection is complete.\r\n        </h3>\r\n      <div style={{ width: '450px', height: '400px', backgroundColor: 'lightblue', margin: 'auto' }}>\r\n        <h2 style={{ position: 'relative', top: '10px', marginLeft: '10px', float: 'left' }}>Basic offer: {<br />}30$ for{<br />} 10 positions</h2>\r\n        <h2 style={{ position: 'relative', bottom: '5px', marginRight: '200px', float: 'left' }}>Gold offer:{<br />} 69$ for {<br />}25 positions</h2>\r\n        <h2 style={{ position: 'relative', float: 'left', bottom: '20px' }}>Platinum offer:{<br />} 99$ for{<br />} 36 positions</h2>\r\n      </div>\r\n      <div ref={paypal} style={{ width: '50px', margin: 'auto', position: 'relative', left: '30px', bottom: '370px' }}>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport HomePage from './components/HomePage';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Contact from './components/Contact';\nimport Payment from './components/Payment'\n\n\n\n\nfunction App() { //פונקציה ראשית - ריאקט ראוטר (מייצר עמודים שונים באתר)\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/contact\" component={Contact} />\n        <Route path=\"/payment\" component={Payment} />\n        <Route path=\"/\" component={HomePage} />\n      </Switch>\n    </Router>\n\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}